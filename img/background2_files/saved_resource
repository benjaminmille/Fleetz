(function(){
function __builder_normalizePath(path){for(var path=path.split("/"),i=0,_len=path.length-1;_len>i;i+=1)f=path[i],".."===f?(path.splice(i-1,2),i-=2):("."===f||""===f)&&(path.splice(i,1),i-=1);return path.join("/")}function __builder_getModule(moduleName,pathPrefix){for(var prefixSplit=(pathPrefix||"").split("/"),resolvedModuleName=__builder_normalizePath(prefixSplit.join("/")+"/"+moduleName),module=M[resolvedModuleName];!module&&0!==prefixSplit.length;)prefixSplit.pop(),resolvedModuleName=__builder_normalizePath(prefixSplit.join("/")+"/"+moduleName),module=M[resolvedModuleName];if(!module)throw new Error("Module '"+moduleName+"' not found from module '"+(pathPrefix||"")+"'");return module}function __builder_make_context(options){function require(moduleName,pathPrefix){return getModuleExports(__builder_getModule(moduleName,null!=pathPrefix?pathPrefix:options.pathPrefix),[])}function getModuleExports(module,depPath){depPath.push(module.name);var exports=module.exports;if(exports)return depPath.pop(),exports;if(module.loading)throw new Error("Import cycle not allowed "+depPath.join(" -> "));module.loading=!0;exports={};var resolvedModulePath=module.name.split("/");resolvedModulePath.pop();for(var subcontext=__builder_make_context({pathPrefix:resolvedModulePath.join("/"),noExecution:options.noExecution}),args=[],i=0;i<module.deps.length;i+=1){var submoduleName=module.deps[i];if("require"===submoduleName)args.push(require);else if("exports"===submoduleName)args.push(exports);else{var submodule=__builder_getModule(submoduleName,subcontext.pathPrefix),submoduleExports=getModuleExports(submodule,depPath);args.push(submoduleExports),module.deps[i]=submodule.name}}try{if(!options.noExecution){var result=module.func.apply(this,args);void 0!==result&&(exports=result)}}catch(e){window.console&&console.error("Error while loading adyoulike module "+module.name,e),exports=new Error("[Module '"+module.name+"' could not load: "+e+"]")}finally{module.loading=!1,module.loaded=!0}module.exports=exports;return depPath.pop(),exports}return options||(options={pathPrefix:"",noExecution:!1}),{require:require,pathPrefix:options.pathPrefix}}function define(moduleName,dependencies,moduleFunc){M[moduleName]={name:moduleName,deps:dependencies,func:moduleFunc}}var moduleLoadIndent,M={},__extends=function(d,b){function __(){this.constructor=d}var p;for(p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);__.prototype=b.prototype,d.prototype=new __},R=__builder_make_context().require;
define("js/fo/omnitag/omnitag",["require","exports","util/informer","util/adyoulike","util/context","fo/backend","gostructs","util/analytics","lib/jquery","native/main","captcha/main"],function(require,exports,informer,adyoulike,ctx,backend,gostructs,analytics,jquery,native,captcha){function Main(){if(ctx.IsOmnitagFirstLoad)if(void 0!==ctx.Omnitag.Setup.MainModule)ctx.Omnitag.Setup.MainModule&&ctx.Omnitag.Require(ctx.Omnitag.Setup.MainModule).Main();else{analytics.SendPageview();var params=gostructs.OmnitagParams.Cast($.extend({},ctx.Omnitag.FragmentParams,ctx.Omnitag.ScriptTagParams));params.IntegrationTrigger=gostructs.IntegrationTriggerKind.LOAD,ctx.Omnitag.Setup.OmnitagResult?backend.Backend.OmniTag(params,function(){return ctx.Omnitag.Setup.OmnitagResult}):backend.Backend.OmniTag(params)}}var $=jquery.jQuery;exports.Main=Main});
define("js/fo/util/informer",["require","exports","context","util/str","lib/jquery"],function(require,exports,ctx,str,jquery){function MarkMeter(meterName,delta){var data={Name:meterName};null!=delta&&1!=delta&&(data.Number=delta),$.ajax($.support.cors&&window.JSON?{url:ctx.Omnitag.LoggerheadEndpoint+"/mark",type:"POST",cache:!1,global:!1,dataType:"text",contentType:"application/json; charset=UTF-8",data:JSON.stringify(data)}:{url:ctx.Omnitag.LoggerheadEndpoint+"/mark",type:"GET",cache:!1,global:!1,dataType:"text",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:data})}function Snitch(level,message){var output="FO JS("+((new Date).getTime()-ctx.Omnitag.LoadedAt),perfStartedAt=window.performance&&window.performance.timing&&window.performance.timing.navigationStart;if(perfStartedAt&&(output+="+"+(ctx.Omnitag.LoadedAt-perfStartedAt)),output+="ms): "+message.match(/[^\n]*/)[0]+"\n"+snitchHeader(),message.match(/\n/)&&(output+=message.replace(/^[^\n]*/,"")),SNITCHLEVEL>=level){var verb,reponseDataType,queryData,queryContentType;if(CAN_HAVE_BIG_SNITCH_MESSAGES)verb="POST",reponseDataType="json",queryContentType="application/json; charset=UTF-8",queryData=JSON.stringify({LogLevel:level,Payload:{Msg:output}});else{verb="GET",reponseDataType="text",queryContentType="application/x-www-form-urlencoded; charset=UTF-8";var MAX_PAYLOAD_LENGTH=1900;output=output.substring(0,MAX_PAYLOAD_LENGTH);var jsonMessage='{"Msg":"'+output.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',encodedFullMessage=str.EncodeURIComponent(jsonMessage);if(encodedFullMessage.length>MAX_PAYLOAD_LENGTH){var deltaLength=encodedFullMessage.length-output.length,maxLength=MAX_PAYLOAD_LENGTH-deltaLength;if(0>maxLength&&(maxLength=0),output=output.substring(0,maxLength),jsonMessage='{"Msg":"'+output.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',encodedFullMessage=str.EncodeURIComponent(jsonMessage),encodedFullMessage.length>MAX_PAYLOAD_LENGTH&&window.console)return void console.log("Assert failed for MAX_PAYLOAD_LENGTH while sending error report")}queryData={LogLevel:level,Payload:jsonMessage}}$.ajax({url:ctx.Omnitag.LoggerheadEndpoint+"/log",type:verb,cache:!1,global:!1,dataType:reponseDataType,contentType:queryContentType,data:queryData})}}function snitchHeader(){var result="";if(window.location){var location=""+window.location;result+=CAN_HAVE_BIG_SNITCH_MESSAGES?"Location: "+location.substring(0,1e3)+"\n":location.substring(0,200)+"\n"}if(window.navigator&&navigator.userAgent){var userAgent=""+navigator.userAgent;result+=CAN_HAVE_BIG_SNITCH_MESSAGES?"UserAgent: "+userAgent.substring(0,1e3)+"\n":userAgent.substring(0,150)+"\n"}return result}function Log(level,message){if("undefined"!=typeof console&&null!=console&&LOGLEVEL>=level){var prefix="",color="#000000";switch(level){case exports.PANIC:prefix="[PANIC]",color="#FF0000";break;case exports.ALERT:prefix="[ALERT]",color="#D80000";break;case exports.CRIT:prefix="[CRITICAL]",color="#AC0000";break;case exports.ERROR:color="#900000";break;case exports.WARN:color="#E0AB00";break;case exports.NOTICE:color="#0700A5";break;case exports.INFO:break;case exports.DEBUG:color="#800000"}if(console.trace)return void console.trace("%c"+message,"color: "+color);if(console.log)return void console.log(message)}}function onErrorEventCatcher(event,src){if(event&&event.error){var stack=""+event.error.stack;stack.match(/(@|\s|\()https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)(\/.*):\d+:\d+\)?$/im)&&exports.Snitch(exports.ERROR,"Uncaught Error: "+stack)}else if("string"==typeof src&&src.match(/^https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)/i))return void exports.Snitch(exports.ERROR,"Uncaught Error: "+src)}function init(){window.addEventListener?window.addEventListener("error",onErrorEventCatcher,!1):window.attachEvent("onerror",onErrorEventCatcher)}var $=jquery.jQuery;exports.PANIC=0,exports.ALERT=1,exports.CRIT=2,exports.ERROR=3,exports.WARN=4,exports.NOTICE=5,exports.INFO=6,exports.DEBUG=7;var SNITCHLEVEL=exports.NOTICE,CAN_HAVE_BIG_SNITCH_MESSAGES=!(!$.support.cors||!window.JSON);exports.MarkMeter=MarkMeter,exports.Snitch=Snitch;var LOGLEVEL=exports.DEBUG;exports.Log=Log,init()});
define("js/fo/util/context",["require","exports","util/str"],function(require,exports,str){function bootstrap(){exports.Omnitag=new OmnitagObject;try{for(var tagQueryString,scriptTags=document.getElementsByTagName("script"),i=0;i<scriptTags.length;i++){var scriptTag=scriptTags[i],match=scriptTag.src.match(/^(?:(\w+):)?\/\/(([a-zA-Z0-9\-]+)((.*?)\.(?:adyoulike|omnitagjs)\.(com|net)))(?:\/|\/.*\/omnitag\.js)?(?:(?:\?|#)([^?#\s]*))?$/i);if(match){exports.Omnitag.ScriptTag=scriptTag,exports.Omnitag.ScriptTagProtocol=(match[1]||("https:"==document.location.protocol?"https":"http")).toLowerCase();var scriptTagHost=match[2].toLowerCase();if(exports.Omnitag.ScriptTagHost=scriptTagHost,exports.Omnitag.TagName=match[3]||"tag","com"==match[6])if(/^\-(preview[0-9]+|stag)$/.test(exports.Omnitag.TagName.substring(3))){var tagNameSuffix=exports.Omnitag.TagName.substring(3);exports.Omnitag.LoggerheadEndpoint="https://loggerhead.omnitagjs.com",exports.Omnitag.ApiPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-api"+tagNameSuffix+".omnitagjs.com/fo",exports.Omnitag.StaticPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-static"+tagNameSuffix+".omnitagjs.com/fo-static",exports.Omnitag.SandboxPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-api"+tagNameSuffix+".omnitagsb.com"}else exports.Omnitag.LoggerheadEndpoint="https://loggerhead.omnitagjs.com",exports.Omnitag.ApiPrefix=exports.Omnitag.ScriptTagProtocol+"://"+exports.Omnitag.TagName+".omnitagjs.com/fo",exports.Omnitag.StaticPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-static.omnitagjs.com/fo-static",exports.Omnitag.SandboxPrefix=exports.Omnitag.ScriptTagProtocol+"://"+exports.Omnitag.TagName+".omnitagsb.com";else switch(match[3]){case"tag":exports.Omnitag.LoggerheadEndpoint="https://loggerhead"+match[4],exports.Omnitag.ApiPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-api"+match[4]+"/fo",exports.Omnitag.StaticPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-static"+match[4]+"/fo-static",exports.Omnitag.SandboxPrefix=exports.Omnitag.ScriptTagProtocol+"://fo-sandbox"+match[5]+".devadyoulike.net",exports.Omnitag.Analytics=!1;break;default:exports.Omnitag.LoggerheadEndpoint="https://loggerhead.omnitagjs.com",exports.Omnitag.ApiPrefix=exports.Omnitag.StaticPrefix=exports.Omnitag.ScriptTagProtocol+"://"+scriptTagHost+"/fo",exports.Omnitag.SandboxPrefix=exports.Omnitag.ScriptTagProtocol+"://"+exports.Omnitag.TagName+".omnitagsb.com"}var tagQueryString=match[7];tagQueryString&&(exports.Omnitag.ScriptTagParams=str.DecodeURIParams(match[7]));var fragment=document.location.hash;fragment&&fragment.indexOf(FRAGMENT_MAGIC)>=0&&(exports.Omnitag.FragmentParams=str.DecodeURIParams(fragment.substring(1)));break}exports.Omnitag.TagName="tag",exports.Omnitag.LoggerheadEndpoint="https://loggerhead.omnitagjs.com",exports.Omnitag.ApiPrefix=("https:"==document.location.protocol.toLowerCase()?"https":"http")+"://"+exports.Omnitag.TagName+".omnitagjs.com/fo",exports.Omnitag.StaticPrefix=("https:"==document.location.protocol.toLowerCase()?"https":"http")+"://fo-static.omnitagjs.com/fo-static",exports.Omnitag.SandboxPrefix=("https:"==document.location.protocol.toLowerCase()?"https":"http")+"://"+exports.Omnitag.TagName+".omnitagsb.com"}}finally{exports.Omnitag.LoggerheadEndpoint||(exports.Omnitag.LoggerheadEndpoint="https://loggerhead.omnitagjs.com")}}var FRAGMENT_MAGIC="ayl=ik6y9y";exports.IsOmnitagFirstLoad=!(window.Adyoulike&&window.Adyoulike._),exports.Omnitag;var OmnitagObject=function(){function OmnitagObject(){this.modules=M,this.Setup=window.AdyoulikeSetup||{},this.Legacy=null==window.Adyoulike?void 0:window.Adyoulike,this.LoadedAt=(new Date).getTime(),this.Analytics=!!location.protocol.match(/^https?:$/)}return OmnitagObject.prototype.Require=function(moduleName){return require(moduleName,"")},OmnitagObject}();exports.OmnitagObject=OmnitagObject,exports.IsOmnitagFirstLoad&&bootstrap()});
define("js/util/str",["require","exports","accentmap"],function(require,exports,accentMapStr){function Unaccent(str){return str.replace(/[^a-zA-Z0-9]/g,function(c){return accentMap[c]||c})}function Normalize(str){return(exports.Unaccent(str)||"").toLowerCase().replace(/[^0-9a-z]+/gm,"")}function EscapeHTML(text){return text=exports.Untaint(text),text&&(text=text.replace(/&/g,"&amp;"),text=text.replace(/</g,"&lt;"),text=text.replace(/>/g,"&gt;"),text=text.replace(/'/g,"&#039;"),text=text.replace(/"/g,"&quot;")),/^javascript:/.test(text)?"#safeurl":text}function DecodeHTMLEntities(text){var div=document.createElement("div");return text=text.replace(/</g,"&lt;"),text=text.replace(/>/g,"&gt;"),text=text.replace("&apos;","'"),div.innerHTML="<pre>"+text+"</pre>",div.innerText||div.textContent||text}function Taint(text){return null==text?null:("string"!=typeof text&&(text=""+text.rawText),new taintedString(text))}function Untaint(text){if(null==text)return null;if("string"==typeof text)return text;if(text._is_tainted_string_)return""+text.rawText;throw new Error("Can't untaint non-tainted object")}function IsTainted(text){return text&&!!text._is_tainted_string_}function TaintObject(obj){if(null===obj)return null;switch(typeof obj){case"string":return exports.Taint(obj);case"boolean":case"number":case"undefined":return obj;case"object":if(obj._is_tainted_string_)obj=exports.Taint(obj);else for(var k in obj)__hasProp.call(obj,k)&&(obj[k]=exports.TaintObject(obj[k]));return obj;default:throw new Error("Can't taint object containing type "+typeof obj)}}function UntaintObject(obj){if(null===obj)return null;switch(typeof obj){case"string":return obj;case"boolean":case"number":case"undefined":return obj;case"object":if(obj._is_tainted_string_)obj=exports.Untaint(obj);else for(var k in obj)__hasProp.call(obj,k)&&(obj[k]=exports.UntaintObject(obj[k]));return obj;default:throw new Error("Can't untaint object containing type "+typeof obj)}}function EncodeURIComponent(s){return encodeURIComponent(exports.Untaint(s)).replace(/'/g,"%27")}function EncodeURIParams(params){var result=[];for(var k in params)__hasProp.call(params,k)&&""!=params[k]&&result.push(exports.EncodeURIComponent(k)+"="+exports.EncodeURIComponent(params[k]));return result.sort(),result.join("&")}function DecodeURIParams(s){for(var result={},eqvalues=s.split("&"),i=0;i<eqvalues.length;i++){var tuple=eqvalues[i].split("=");tuple[1]&&(result[decodeURIComponent(tuple[0])]=decodeURIComponent(tuple[1]))}return result}function SubstituteTokens(s){s=exports.Untaint(s);for(var token,i=0;i<TOKENS.length;i++)token=TOKENS[i],s=s.replace(new RegExp("\\["+token.token+"\\]","gi"),token.replacer);return s}for(var __hasProp={}.hasOwnProperty,accentMap={},accentMapStrElements=accentMapStr.Content.split("\n"),i=0;i<accentMapStrElements.length;i++)for(var l=accentMapStrElements[i],chars=l.split(" "),output=chars.shift(),j=0;j<chars.length;j++){var input=chars[j];accentMap[input]=output}exports.Unaccent=Unaccent,exports.Normalize=Normalize,exports.Quote=function(){var META={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},ESCAPEABLE=/[\b\t\n\f\r"\\]/g;return exports.Quote=function(str){var escapedText=str.replace(ESCAPEABLE,function(c){return META[c]});return'"'+escapedText+'"'},exports.Quote.apply(null,arguments)},exports.EscapeHTML=EscapeHTML,exports.DecodeHTMLEntities=DecodeHTMLEntities;var taintedString=function(_super){function __(){this.constructor=taintedString}function taintedString(rawText){this.rawText="string"==typeof rawText?""+rawText:void 0,this._is_tainted_string_=!0,_super.apply(this,arguments)}__.prototype=_super.prototype,taintedString.prototype=new __;for(var funcs="".split(" "),strFuncs="charAt concat replace slice substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toUpperCase trim".split(" "),i=0;i<strFuncs.length;i++)!function(f){taintedString.prototype[f]=function(){return new taintedString(_super.prototype[f].apply(this.rawText,arguments))}}(funcs[i]);for(var straFuncs="match split".split(" "),i=0;i<straFuncs.length;i++)!function(f){taintedString.prototype[f]=function(){for(var result=_super.prototype[f].apply(this.rawText,arguments),i=0;i<result.length;i++)result[i]=new taintedString(result[i]);return result}}(funcs[i]);for(var safeFuncs="charCodeAt indexOf lastIndexOf localeCompare search".split(" "),i=0;i<safeFuncs.length;i++)!function(f){taintedString.prototype[f]=function(){return _super.prototype[f].apply(this.rawText,arguments)}}(funcs[i]);return taintedString.prototype.toString=function(){var txt=""+this.rawText;throw txt.length>100&&(txt=txt.substring(0,100)+"..."),new Error("Impossible to call toString() in tainted string: "+txt)},taintedString.prototype.toJSON=function(){return{rawText:this.rawText,_is_tainted_string_:this._is_tainted_string_}},taintedString.prototype.valueOf=function(){var txt=""+this.rawText;throw txt.length>100&&(txt=txt.substring(0,100)+"..."),new Error("Impossible to call valueOf() in tainted string: "+txt)},taintedString}(String);exports.Taint=Taint,exports.Untaint=Untaint,exports.IsTainted=IsTainted,exports.TaintObject=TaintObject,exports.UntaintObject=UntaintObject,exports.EncodeURIComponent=EncodeURIComponent,exports.EncodeURIParams=EncodeURIParams,exports.DecodeURIParams=DecodeURIParams;var TOKENS=[{token:"URL",replacer:function(){for(var args=[],_i=0;_i<arguments.length-1;_i++)args[_i]=arguments[_i+1];return encodeURIComponent(document.location.href)}},{token:"TIMESTAMP",replacer:function(){for(var args=[],_i=0;_i<arguments.length-1;_i++)args[_i]=arguments[_i+1];return Math.floor((new Date).getTime()/1e3).toString()}}];exports.SubstituteTokens=SubstituteTokens});
define("js/util/accentmap",["require","exports"],function(require,exports){exports.Content="ss   ß\nA    Ā Ă Ą À Á Â Ã Ä Å Ǎ Ǎ Ǟ Ǡ Ǻ Ȧ Ȁ Ȃ Ⱥ\na    ā ă ą à á â ã ä å ǎ ǎ ǟ ǡ ǻ ȧ ȁ ȃ ⱥ\nAE   Æ Ǣ Ǽ\nae   æ ǣ ǽ\nB    Ɓ Ƃ ƃ Ƀ\nb    ƀ Ƅ ƅ\nC    Ć Ĉ Ċ Č Ç Ƈ Ȼ Ɔ\nc    ć ĉ ċ č ç ƈ ȼ\nD    Ď Đ Ð Ɖ Ɗ Þ\nd    ď đ ð Ƌ ƌ þ ȡ\nDZ   Ǳ Ǆ\nDz   ǲ ǅ\ndz   ǳ ǆ\nE    Ē Ĕ Ė Ę Ě È É Ê Ë Ǝ Ɇ Ȅ Ȇ Ȩ\ne    ē ĕ ė ę ě è é ê ë Ə ɇ ȇ ȅ ȩ Ɛ ǝ\nF    Ƒ\nf    ƒ\nG    Ĝ Ğ Ġ Ģ Ɠ Ǥ Ǧ Ǵ\ng    ĝ ğ ġ ģ Ɣ ǥ ǧ ǵ\nH    Ĥ Ħ Ȟ\nh    ĥ ħ ȟ\nHv   Ƕ\nhv   ƕ\nI    Ĩ Ī Ĭ Į İ Ì Í Î Ï Ɨ Ǐ Ȉ Ȋ\ni    ĩ ī ĭ į ı ì í î ï Ɩ ǐ ȋ ȉ\nIJ   Ĳ\nij   ĳ\nJ    Ĵ Ɉ\nj    ĵ ɉ ǰ ȷ\nK    Ķ Ƙ Ǩ\nk    ķ ĸ ǩ ƙ\nL    Ĺ Ļ Ľ Ŀ Ł\nl    ĺ ļ ľ ŀ Ƚ ł ƚ ƛ ȴ\nLJ   Ǉ\nLj   ǈ\nlj   ǉ\nm    Ɯ\nN    Ń Ņ Ň   Ŋ Ñ Ɲ Ǹ\nn    ń ņ ň ŉ ŋ ñ ƞ ǹ ȵ\nNJ   Ǌ\nNj   ǋ\nnj   ǌ\nO    Ō Ŏ Ő Ò Ó Ô Õ Ö Ơ Ƣ Ɵ Ǒ Ǫ Ø Ǿ Ȍ Ȏ Ȫ Ȭ Ȯ Ȱ Ǭ\no    ō ŏ ő ò ó ô õ ö ơ ƣ ǒ ǫ ǭ ø ǿ ȏ ȍ ȫ ȭ ȯ ȱ\nOE   Œ\noe   œ\nP    Ƥ\np    ƥ\nQ    Ɋ\nq    ɋ\nR    Ŕ Ŗ Ř Ȑ Ȓ Ʀ Ɍ\nr    ŕ ŗ ř ȑ ȓ ɍ\nS    Ś Ŝ Ş Š Ș Ƨ Ʃ\ns    ś ŝ ş š ș ƨ ƪ ȿ\nT    Ţ Ť Ŧ Ƭ Ʈ Ⱦ Ț\nt    ţ ť ŧ ƫ ƭ ȶ ț\nU    Ũ Ū Ŭ Ů Ű Ų Ù Ú Û Ü Ư Ȕ Ȗ Ǔ Ǖ Ǘ Ǚ Ǜ Ʉ\nu    ũ ū ŭ ů ű ų ù ú û ü ư ȕ ȗ ǔ ǖ ǘ ǚ ǜ ʉ Ʊ\nV    Ʋ Ʌ\nv    ʋ\nW    Ŵ\nw    ŵ\nY    Ŷ Ý Ÿ Ƴ Ɏ Ȳ\ny    ŷ ý ÿ ƴ ɏ ȳ\nZ    Ź Ż Ž Ƶ Ȥ\nz    ź ż ž ƶ ȥ ɀ\n"});
define("js/lib/jquery",["require","exports","./jquery/jquery-1_10_2-src"],function(require,exports,src){return src});
define("js/lib/jquery/jquery-1_10_2-src",["require","exports"],function(require,exports){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||"function"!==type&&(0===length||"number"==typeof length&&length>0&&length-1 in obj)}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function internalData(elem,name,data,pvt){if(jQuery.acceptData(elem)){var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if(id&&cache[id]&&(pvt||cache[id].data)||data!==undefined||"string"!=typeof name)return id||(id=isNode?elem[internalKey]=core_deletedIds.pop()||jQuery.guid++:internalKey),cache[id]||(cache[id]=isNode?{}:{toJSON:jQuery.noop}),("object"==typeof name||"function"==typeof name)&&(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name)),thisCache=cache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),data!==undefined&&(thisCache[jQuery.camelCase(name)]=data),"string"==typeof name?(ret=thisCache[name],null==ret&&(ret=thisCache[jQuery.camelCase(name)])):ret=thisCache,ret}}function internalRemoveData(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){jQuery.isArray(name)?name=name.concat(jQuery.map(name,jQuery.camelCase)):name in thisCache?name=[name]:(name=jQuery.camelCase(name),name=name in thisCache?[name]:name.split(" ")),i=name.length;for(;i--;)delete thisCache[name[i]];if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(isNode?jQuery.cleanData([elem],!0):jQuery.support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=null)}}}function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if(data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){var name;for(name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return!1;return!0}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function sibling(cur,dir){do cur=cur[dir];while(cur&&1!==cur.nodeType);return cur}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(isSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0!==not})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(1===content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==jQuery.find.attr(elem,"type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var elem,i=0;null!=(elem=elems[i]);i++)jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}curData.data&&(curData.data=jQuery.extend({},curData.data))}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(1===dest.nodeType){if(nodeName=dest.nodeName.toLowerCase(),!jQuery.support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events)jQuery.removeEvent(dest,e,data.handle);dest.removeAttribute(jQuery.expando)}"script"===nodeName&&dest.text!==src.text?(disableScript(dest).text=src.text,restoreScript(dest)):"object"===nodeName?(dest.parentNode&&(dest.outerHTML=src.outerHTML),jQuery.support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)):"input"===nodeName&&manipulation_rcheckableType.test(src.type)?(dest.defaultChecked=dest.checked=src.checked,dest.value!==src.value&&(dest.value=src.value)):"option"===nodeName?dest.defaultSelected=dest.selected=src.defaultSelected:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}}function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==core_strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==core_strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found)for(found=[],elems=context.childNodes||context;null!=(elem=elems[i]);i++)!tag||jQuery.nodeName(elem,tag)?found.push(elem):jQuery.merge(found,getAll(elem,tag));return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){manipulation_rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function isHidden(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=jQuery._data(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName)))):values[index]||(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement),doc=(iframe[0].contentWindow||iframe[0].contentDocument).document,doc.write("<!doctype html><html><body>"),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.remove(),display}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===jQuery.css(elem,"display")&&"none"===jQuery.css(elem,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==css_defaultDisplay(elem.nodeName)?style.zoom=1:style.display="inline-block")),opts.overflow&&(style.overflow="hidden",jQuery.support.shrinkWrapBlocks||anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show"))continue;orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if(!jQuery.isEmptyObject(orig)){dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=jQuery._data(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var undefined,readyList,rootjQuery,core_strundefined=typeof undefined,location=window.location,document=window.document,docElem=document.documentElement,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="1.10.2",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()},completed=function(event){(document.addEventListener||"load"===event.type||"complete"===document.readyState)&&(detach(),jQuery.ready())},detach=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1)):(document.detachEvent("onreadystatechange",completed),window.detachEvent("onload",completed))};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}if(elem=document.getElementById(match[2]),elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))},selector:"",length:0,toArray:function(){return core_slice.call(this)},get:function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.ready.promise().done(fn),this},slice:function(){return this.pushStack(core_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||jQuery.isFunction(target)||(target={}),length===i&&(target=this,--i);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0?!--jQuery.readyWait:!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready);jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready"))}},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return null==obj?String(obj):"object"==typeof obj||"function"==typeof obj?class2type[core_toString.call(obj)]||"object":typeof obj},isPlainObject:function(obj){var key;if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(jQuery.support.ownLast)for(key in obj)return core_hasOwn.call(obj,key);for(key in obj);return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))},parseJSON:function(data){return window.JSON&&window.JSON.parse?window.JSON.parse(data):null===data?data:"string"==typeof data&&(data=jQuery.trim(data),data&&rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))?new Function("return "+data)():void jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{window.DOMParser?(tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")):(xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data))}catch(e){xml=undefined}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(data){data&&jQuery.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:core_trim&&!core_trim.call("﻿ ")?function(text){return null==text?"":core_trim.call(text)}:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):core_push.call(ret,arr)),ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf)return core_indexOf.call(arr,elem,i);for(len=arr.length,i=i?0>i?Math.max(0,len+i):i:0;len>i;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){var l=second.length,i=first.length,j=0;if("number"==typeof l)for(;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;for(inv=!!inv;length>i;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);return core_concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=core_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(value!==undefined&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()},swap:function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret}}),jQuery.ready.promise=function(obj){if(!readyList)if(readyList=jQuery.Deferred(),"complete"===document.readyState)setTimeout(jQuery.ready);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1);else{document.attachEvent("onreadystatechange",completed),window.attachEvent("onload",completed);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&!function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach(),jQuery.ready()}}()}return readyList.promise(obj)},jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),rootjQuery=jQuery(document),function(window,undefined){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&context.parentNode||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+=" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function setFilters(){}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];
if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(outerCache=elem[expando]||(elem[expando]={}),(cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===!0||data===cachedruns)return data===!0}else if(cache=outerCache[dir]=[dirkey],cache[1]=matcher(elem,context,xml)||cachedruns,cache[1]===!0)return!0}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=null!=expandContext,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1;for(outermost&&(outermostContext=context!==document&&context,cachedruns=matcherCachedRuns);null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique,cachedruns=++matcherCachedRuns)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector)),results}var i,support,cachedruns,Expr,getText,isXML,compile,outermostContext,sortInput,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),hasDuplicate=!1,sortOrder=function(a,b){return a===b?(hasDuplicate=!0,0):0},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rsibling=new RegExp(whitespace+"*[+~]"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},support=Sizzle.support={},setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),parent&&parent.attachEvent&&parent!==parent.top&&parent.attachEvent("onbeforeunload",function(){setDocument()}),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select><option selected=''></option></select>",div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("t",""),div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),contains=rnative.test(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return compare?1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||contains(preferredDoc,a)?-1:b===doc||contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b)return hasDuplicate=!0,0;if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val===undefined?support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null:val},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]&&match[4]!==undefined?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeName>"@"||3===elem.nodeType||4===elem.nodeType)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||attr.toLowerCase()===elem.type)},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(group||(group=tokenize(selector)),i=group.length;i--;)cached=matcherFromTokens(group[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:(val=elem.getAttributeNode(name))&&val.specified?val.value:elem[name]===!0?name.toLowerCase():null}),jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}(window);var optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?core_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.support=function(support){var all,a,input,select,fragment,opt,eventName,isSupported,i,div=document.createElement("div");if(div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",all=div.getElementsByTagName("*")||[],a=div.getElementsByTagName("a")[0],!a||!a.style||!all.length)return support;select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],a.style.cssText="top:1px;float:left;opacity:.5",support.getSetAttribute="t"!==div.className,support.leadingWhitespace=3===div.firstChild.nodeType,support.tbody=!div.getElementsByTagName("tbody").length,support.htmlSerialize=!!div.getElementsByTagName("link").length,support.style=/top/.test(a.getAttribute("style")),support.hrefNormalized="/a"===a.getAttribute("href"),support.opacity=/^0.5/.test(a.style.opacity),support.cssFloat=!!a.style.cssFloat,support.checkOn=!!input.value,support.optSelected=opt.selected,support.enctype=!!document.createElement("form").enctype,support.html5Clone="<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,support.inlineBlockNeedsLayout=!1,support.shrinkWrapBlocks=!1,support.pixelPosition=!1,support.deleteExpando=!0,support.noCloneEvent=!0,support.reliableMarginRight=!0,support.boxSizingReliable=!0,input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}input=document.createElement("input"),input.setAttribute("value",""),support.input=""===input.getAttribute("value"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,input.setAttribute("checked","t"),input.setAttribute("name","t"),fragment=document.createDocumentFragment(),fragment.appendChild(input),support.appendChecked=input.checked,support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,div.attachEvent&&(div.attachEvent("onclick",function(){support.noCloneEvent=!1
}),div.cloneNode(!0).click());for(i in{submit:!0,change:!0,focusin:!0})div.setAttribute(eventName="on"+i,"t"),support[i+"Bubbles"]=eventName in window||div.attributes[eventName].expando===!1;div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip;for(i in jQuery(support))break;return support.ownLast="0"!==i,jQuery(function(){var container,marginDiv,tds,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",body.appendChild(container).appendChild(div),div.innerHTML="<table><tr><td></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),tds[0].style.cssText="padding:0;margin:0;border:0;display:none",isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",support.reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight,div.innerHTML="",div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",jQuery.swap(body,null!=body.style.zoom?{zoom:1}:{},function(){support.boxSizing=4===div.offsetWidth}),window.getComputedStyle&&(support.pixelPosition="1%"!==(window.getComputedStyle(div,null)||{}).top,support.boxSizingReliable="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width,marginDiv=div.appendChild(document.createElement("div")),marginDiv.style.cssText=div.style.cssText=divReset,marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)),typeof div.style.zoom!==core_strundefined&&(div.innerHTML="",div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1",support.inlineBlockNeedsLayout=3===div.offsetWidth,div.style.display="block",div.innerHTML="<div></div>",div.firstChild.style.width="5px",support.shrinkWrapBlocks=3!==div.offsetWidth,support.inlineBlockNeedsLayout&&(body.style.zoom=1)),body.removeChild(container),container=div=tds=marginDiv=null)}),all=select=fragment=opt=a=input=null,support}({});var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,!0)},_removeData:function(elem,name){return internalRemoveData(elem,name,!0)},acceptData:function(elem){if(elem.nodeType&&1!==elem.nodeType&&9!==elem.nodeType)return!1;var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==!0&&elem.getAttribute("classid")===noData}}),jQuery.fn.extend({data:function(key,value){var attrs,name,data=null,i=0,elem=this[0];if(key===undefined){if(this.length&&(data=jQuery.data(elem),1===elem.nodeType&&!jQuery._data(elem,"parsedAttrs"))){for(attrs=elem.attributes;i<attrs.length;i++)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));jQuery._data(elem,"parsedAttrs",!0)}return data}return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):arguments.length>1?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):null},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=jQuery._data(elem,type),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue"),jQuery._removeData(elem,key)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)tmp=jQuery._data(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var nodeHook,boolHook,rclass=/[\t\r\n\f]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,getSetInput=jQuery.support.input;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");elem.className=jQuery.trim(cur)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");elem.className=value?jQuery.trim(cur):""}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(core_rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===core_strundefined||"boolean"===type)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1},val:function(value){var ret,hooks,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:elem.text}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(jQuery.support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery(option).val(),values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}},attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===core_strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),value===undefined?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?undefined:ret):null!==value?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)?getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem[propName]=!1:elem[jQuery.camelCase("default-"+name)]=elem[propName]=!1:jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName)},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name):elem[jQuery.camelCase("default-"+name)]=elem[name]=!0,name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=jQuery.expr.attrHandle[name]||jQuery.find.attr;jQuery.expr.attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var fn=jQuery.expr.attrHandle[name],ret=isXML?undefined:(jQuery.expr.attrHandle[name]=undefined)!=getter(elem,name,isXML)?name.toLowerCase():null;return jQuery.expr.attrHandle[name]=fn,ret}:function(elem,name,isXML){return isXML?undefined:elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}),getSetInput&&getSetAttribute||(jQuery.attrHooks.value={set:function(elem,value,name){return jQuery.nodeName(elem,"input")?void(elem.defaultValue=value):nodeHook&&nodeHook.set(elem,value,name)}}),getSetAttribute||(nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name)),ret.value=value+="","value"===name||value===elem.getAttribute(name)?value:undefined}},jQuery.expr.attrHandle.id=jQuery.expr.attrHandle.name=jQuery.expr.attrHandle.coords=function(elem,name,isXML){var ret;return isXML?undefined:(ret=elem.getAttributeNode(name))&&""!==ret.value?ret.value:null},jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&ret.specified?ret.value:undefined},set:nodeHook.set},jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,""===value?!1:value,name)}},jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){return""===value?(elem.setAttribute(name,"auto"),value):void 0}}})),jQuery.support.hrefNormalized||jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}}),jQuery.support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined},set:function(elem,value){return elem.style.cssText=value+""}}),jQuery.support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},jQuery.support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(elemData){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery===core_strundefined||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0);elem=null}},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery._removeData(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===!1&&event.preventDefault();if(event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(eventPath.pop(),data)===!1)&&jQuery.acceptData(elem)&&ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)}return event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!=this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",matches[sel]===undefined&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey=!!event.metaKey,fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){event.result!==undefined&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){var name="on"+type;elem.detachEvent&&(typeof elem[name]===core_strundefined&&(elem[name]=null),elem.detachEvent(name,handle))},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;form&&!jQuery._data(form,"submitBubbles")&&(jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=!0}),jQuery._data(form,"submitBubbles",!0))})},postDispatch:function(event){event._submit_bubble&&(delete event._submit_bubble,this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){return rformElems.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,event,!0)})),!1):void jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")&&(jQuery.event.add(elem,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event,!0)}),jQuery._data(elem,"changeBubbles",!0))})},handle:function(event){var elem=event.target;return this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type?event.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),!rformElems.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){0===attaches++&&document.addEventListener(orig,handler,!0)},teardown:function(){0===--attaches&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=undefined);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=undefined),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var isSimple=/^.[^:#\[\.,]*$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;len>i;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length},closest:function(selectors,context){for(var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){cur=ret.push(cur);break}return this.pushStack(ret.length>1?jQuery.unique(ret):ret)},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);
return this.pushStack(jQuery.unique(all))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),this.length>1&&(guaranteedUnique[name]||(ret=jQuery.unique(ret)),rparentsprev.test(name)&&(ret=ret.reverse())),this.pushStack(ret)}}),jQuery.extend({filter:function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(until===undefined||1!==cur.nodeType||!jQuery(cur).is(until));)1===cur.nodeType&&matched.push(cur),cur=cur[dir];return matched},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}});var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++){for(1===elem.nodeType&&jQuery.cleanData(getAll(elem,!1));elem.firstChild;)elem.removeChild(elem.firstChild);elem.options&&jQuery.nodeName(elem,"select")&&(elem.options.length=0)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):undefined;if(!("string"!=typeof value||rnoInnerhtml.test(value)||!jQuery.support.htmlSerialize&&rnoshimcache.test(value)||!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(value)||wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()])){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var args=jQuery.map(this,function(elem){return[elem.nextSibling,elem.parentNode]}),i=0;return this.domManip(arguments,function(elem){var next=args[i++],parent=args[i++];parent&&(next&&next.parentNode!==parent&&(next=this.nextSibling),jQuery(this).remove(),parent.insertBefore(elem,next))},!0),i?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback,allowIntersection){args=core_concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(1>=l||"string"!=typeof value||jQuery.support.checkClone)&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback,allowIntersection)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,!allowIntersection&&this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl(node.src):jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")));fragment=first=null}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),core_push.apply(ret,elems.get());return this.pushStack(ret)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?clone=elem.cloneNode(!0):(fragmentDiv.innerHTML=elem.outerHTML,fragmentDiv.removeChild(clone=fragmentDiv.firstChild)),!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0;null!=(node=srcElements[i]);++i)destElements[i]&&fixCloneNodeIssues(node,destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0;null!=(node=srcElements[i]);i++)cloneCopyEvent(node,destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),destElements=srcElements=node=null,clone},buildFragment:function(elems,context,scripts,selection){for(var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||safe.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)&&nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])),!jQuery.support.tbody)for(elem="table"!==tag||rtbody.test(elem)?"<table>"!==wrap[1]||rtbody.test(elem)?0:tmp:tmp.firstChild,j=elem&&elem.childNodes.length;j--;)jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length&&elem.removeChild(tbody);for(jQuery.merge(nodes,tmp.childNodes),tmp.textContent="";tmp.firstChild;)tmp.removeChild(tmp.firstChild);tmp=safe.lastChild}else nodes.push(context.createTextNode(elem));for(tmp&&safe.removeChild(tmp),jQuery.support.appendChecked||jQuery.grep(getAll(nodes,"input"),fixDefaultChecked),i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(safe.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return tmp=null,safe},cleanData:function(elems,acceptData){for(var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;null!=(elem=elems[i]);i++)if((acceptData||jQuery.acceptData(elem))&&(id=elem[internalKey],data=id&&cache[id])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);cache[id]&&(delete cache[id],deleteExpando?delete elem[internalKey]:typeof elem.removeAttribute!==core_strundefined?elem.removeAttribute(internalKey):elem[internalKey]=null,core_deletedIds.push(id))}},_evalUrl:function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}});var iframe,getStyles,curCSS,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var len,styles,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];if(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),!(null==value||"number"===type&&isNaN(value)||("number"!==type||jQuery.cssNumber[origName]||(value+="px"),jQuery.support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined)))try{style[name]=value}catch(e){}}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),val===undefined&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),window.getComputedStyle?(getStyles=function(elem){return window.getComputedStyle(elem,null)},curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;return computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),ret}):document.documentElement.currentStyle&&(getStyles=function(elem){return elem.currentStyle},curCSS=function(elem,name,_computed){var left,rs,rsLeft,computed=_computed||getStyles(elem),ret=computed?computed[name]:undefined,style=elem.style;return null==ret&&style&&style[name]&&(ret=style[name]),rnumnonpx.test(ret)&&!rposition.test(name)&&(left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left,rsLeft&&(rs.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(rs.left=rsLeft)),""===ret?"auto":ret}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1,(value>=1||""===value)&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute&&(style.removeAttribute("filter"),""===value||currentStyle&&!currentStyle.filter)||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!jQuery.support.reliableHiddenOffsets&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,response,type,self=this,off=url.indexOf(" ");return off>=0&&(selector=url.slice(off,url.length),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=undefined),options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script"),script.async=!0,s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script.parentNode&&script.parentNode.removeChild(script),script=null,isAbort||callback(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(undefined,!0)}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"):void 0});var xhrCallbacks,xhrSupported,xhrId=0,xhrOnUnloadAbort=window.ActiveXObject&&function(){var key;for(key in xhrCallbacks)xhrCallbacks[key](undefined,!0)};jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR,xhrSupported=jQuery.ajaxSettings.xhr(),jQuery.support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,xhrSupported=jQuery.support.ajax=!!xhrSupported,xhrSupported&&jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username?xhr.open(s.type,s.url,s.async,s.username,s.password):xhr.open(s.type,s.url,s.async),s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];s.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(s.mimeType),s.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");
try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(err){}xhr.send(s.hasContent&&s.data||null),callback=function(_,isAbort){var status,responseHeaders,statusText,responses;try{if(callback&&(isAbort||4===xhr.readyState))if(callback=undefined,handle&&(xhr.onreadystatechange=jQuery.noop,xhrOnUnloadAbort&&delete xhrCallbacks[handle]),isAbort)4!==xhr.readyState&&xhr.abort();else{responses={},status=xhr.status,responseHeaders=xhr.getAllResponseHeaders(),"string"==typeof xhr.responseText&&(responses.text=xhr.responseText);try{statusText=xhr.statusText}catch(e){statusText=""}status||!s.isLocal||s.crossDomain?1223===status&&(status=204):status=responses.text?200:404}}catch(firefoxAccessException){isAbort||complete(-1,firefoxAccessException)}responses&&complete(status,statusText,responses,responseHeaders)},s.async?4===xhr.readyState?setTimeout(callback):(handle=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},jQuery(window).unload(xhrOnUnloadAbort)),xhrCallbacks[handle]=callback),xhr.onreadystatechange=callback):callback()},abort:function(){callback&&callback(undefined,!0)}}}});var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.timers=[],jQuery.fx=Tween.prototype.init,jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}),jQuery.fn.offset=function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==core_strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}):box},jQuery.offset={setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");"static"===position&&(elem.style.position="relative");var curTop,curLeft,curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={};calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){if(this[0]){var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);return val===undefined?win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]:void(win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty,quoteString=function(str){return str.match(escape)?'"'+str.replace(escape,function(a){var c=meta[a];return"string"==typeof c?c:(c=a.charCodeAt(),"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16))})+'"':'"'+str+'"'};$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(o){if(null===o)return"null";var pairs,k,name,val,type=$.type(o);if("undefined"===type)return undefined;if("number"===type||"boolean"===type)return String(o);if("string"===type)return quoteString(o);if("function"==typeof o.toJSON)return $.toJSON(o.toJSON());if("date"===type){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();return 10>month&&(month="0"+month),10>day&&(day="0"+day),10>hours&&(hours="0"+hours),10>minutes&&(minutes="0"+minutes),10>seconds&&(seconds="0"+seconds),100>milli&&(milli="0"+milli),10>milli&&(milli="0"+milli),'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(pairs=[],$.isArray(o)){for(k=0;k<o.length;k++)pairs.push($.toJSON(o[k])||"null");return"["+pairs.join(",")+"]"}if("object"==typeof o){for(k in o)if(hasOwn.call(o,k)){if(type=typeof k,"number"===type)name='"'+k+'"';else{if("string"!==type)continue;name=quoteString(k)}type=typeof o[k],"function"!==type&&"undefined"!==type&&(val=$.toJSON(o[k]),pairs.push(name+":"+val))}return"{"+pairs.join(",")+"}"}}}(jQuery),function($){if(!$.support.cors&&$.ajaxTransport&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i");$.ajaxTransport("* text html xml json",function(options,userOptions){if(options.crossDomain&&options.async&&getOrPostRegEx.test(options.type)&&httpRegEx.test(options.url)&&sameSchemeRegEx.test(options.url)){var xdr=null;return{send:function(headers,complete){var postData="",userType=(userOptions.dataType||"").toLowerCase();xdr=new XDomainRequest,/^\d+$/.test(userOptions.timeout)&&(xdr.timeout=userOptions.timeout),xdr.ontimeout=function(){complete(500,"timeout")},xdr.onload=function(){var allResponseHeaders="Content-Length: "+xdr.responseText.length+"\r\nContent-Type: "+xdr.contentType,status={code:200,message:"success"},responses={text:xdr.responseText};try{if("html"===userType||/text\/html/i.test(xdr.contentType))responses.html=xdr.responseText;else if("json"===userType||"text"!==userType&&/\/json/i.test(xdr.contentType))try{responses.json=$.parseJSON(xdr.responseText)}catch(e){status.code=500,status.message="parseerror"}else if("xml"===userType||"text"!==userType&&/\/xml/i.test(xdr.contentType)){var doc=new ActiveXObject("Microsoft.XMLDOM");doc.async=!1;try{doc.loadXML(xdr.responseText)}catch(e){doc=undefined}if(!doc||!doc.documentElement||doc.getElementsByTagName("parsererror").length)throw status.code=500,status.message="parseerror","Invalid XML: "+xdr.responseText;responses.xml=doc}}catch(parseMessage){throw parseMessage}finally{complete(status.code,status.message,responses,allResponseHeaders)}},xdr.onprogress=function(){},xdr.onerror=function(){complete(500,"error",{text:xdr.responseText})},userOptions.data&&(postData="string"===$.type(userOptions.data)?userOptions.data:$.param(userOptions.data)),xdr.open(options.type,options.url),xdr.send(postData)},abort:function(){xdr&&xdr.abort()}}}})}}(jQuery),exports.jQuery=jQuery});
define("js/fo/util/adyoulike",["require","exports","context","omnitag/gostructs","fo/backend","lib/jquery"],function(require,exports,ctx,gostructs,backend,jquery){function bootstrap(){exports.Adyoulike=new AdyoulikeObject,window.Adyoulike=exports.Adyoulike}var $=jquery.jQuery;exports.Adyoulike;var AdyoulikeObject=function(){function AdyoulikeObject(){this._=ctx.Omnitag;var legacy=ctx.Omnitag.Legacy;if(null!=legacy){legacy.call=this.call,legacy.create=this.create;var legacyCreateQueue=legacy._queue;legacy._queue=null;var legacyCallQueue=legacy._q;if(legacy._q=null,this.api=legacy.api||{},this.call=this._legacyCall,this.create=this._legacyCreate,legacy._timer&&clearTimeout(legacy._timer),legacyCreateQueue&&legacyCreateQueue.length>0)for(var i=0;i<legacyCreateQueue.length;i++)this.create.apply(this,legacyCreateQueue[i]);if(legacyCallQueue&&legacyCallQueue.length>0)for(var i=0;i<legacyCallQueue.length;i++)this.call.apply(this,legacyCallQueue[i][1])}}return AdyoulikeObject.prototype.Call=function(omnitagParams){"undefined"==typeof omnitagParams&&(omnitagParams=gostructs.OmnitagParams.Cast($.extend({},ctx.Omnitag.FragmentParams,ctx.Omnitag.ScriptTagParams))),omnitagParams.IntegrationTrigger=gostructs.IntegrationTriggerKind.CALL,backend.Backend.OmniTag(omnitagParams)},AdyoulikeObject.prototype._legacyCall=function(name,params,callbacks){callbacks&&(ctx.Omnitag.LegacyPassCallback=callbacks.pass),this._legacyCreate(params)},AdyoulikeObject.prototype._legacyCreate=function(params){var omnitagParams=new gostructs.OmnitagParams;omnitagParams.Placement=params.adyoulike.key,this.Call(omnitagParams)},AdyoulikeObject}();exports.AdyoulikeObject=AdyoulikeObject,ctx.IsOmnitagFirstLoad&&bootstrap()});
define("js/fo/omnitag/gostructs",["require","exports","js/util/str"],function(require,exports,str){function ArrayMapper(f){return function(src){if(void 0!==src){for(var dst=new Array(src.length),i=0;i<src.length;i++)dst[i]=f(src[i]);return dst}}}function GetterMapper(kf,vf){return function(src){if(void 0!==src){var dst={};for(var k in src)dst[k]={k:kf?kf(k):k,v:vf?vf(src[k]):src[k]};return new Getter(dst)}}}var _tmp,Getter=function(){function Getter(map){this.map={},this.map=map?map:{}}return Getter.prototype.Get=function(key,defaultValue){var o=this.map[key.toString()];if(o)return o.v;if(2==arguments.length)return defaultValue;throw new Error("KeyError: "+key)},Getter.prototype.Set=function(key,value){this.map[key.toString()]={k:key,v:value}},Getter.prototype.Delete=function(key){delete this.map[key.toString()]},Getter.prototype.Keys=function(){var length=0;for(var k in this.map)length++;var keys=new Array(length),i=0;for(var k in this.map)keys[i]=this.map[k].k,i++;return keys},Getter.prototype.toJSON=function(){var result={};for(var k in this.map)result[k]=this.map[k].v;return result},Getter}();exports.Getter=Getter,exports.ArrayMapper=ArrayMapper,exports.GetterMapper=GetterMapper;var BackendMessage=function(){function BackendMessage(src){src&&BackendMessage._load(this,src)}return BackendMessage.Cast=function(src){if(src){var dst=new BackendMessage;return BackendMessage._load(dst,src),dst}},BackendMessage._load=function(dst,src){dst.Data=src.Data,dst.Location=src.Location},BackendMessage}();exports.BackendMessage=BackendMessage;var IntegrationTriggerKind=function(){function IntegrationTriggerKind(value){this.value=value,IntegrationTriggerKind.map[str.Untaint(value)]=this}return IntegrationTriggerKind.prototype.toString=function(){return this.value},IntegrationTriggerKind.prototype.toJSON=function(){return this.value},IntegrationTriggerKind.Cast=function(value){var result=IntegrationTriggerKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid IntegrationTriggerKind constant: "+str.Untaint(value));return result},IntegrationTriggerKind.map={},IntegrationTriggerKind.UNDEFINED=new IntegrationTriggerKind("UNDEFINED"),IntegrationTriggerKind.LOAD=new IntegrationTriggerKind("LOAD"),IntegrationTriggerKind.CALL=new IntegrationTriggerKind("CALL"),IntegrationTriggerKind}();exports.IntegrationTriggerKind=IntegrationTriggerKind;var OmnitagParams=function(){function OmnitagParams(src){src&&OmnitagParams._load(this,src)}return OmnitagParams.Cast=function(src){if(src){var dst=new OmnitagParams;return OmnitagParams._load(dst,src),dst}},OmnitagParams._load=function(dst,src){dst.Origin=src.Origin,dst.Placement=src.Placement,dst.Campaign=src.Campaign,dst.Callback=src.Callback,dst.Url=src.Url,dst.Debug=src.Debug,dst.HasPostMessage=src.HasPostMessage,dst.HasHtml5Video=src.HasHtml5Video,_tmp=src.IntegrationTrigger,dst.IntegrationTrigger=void 0===_tmp?_tmp:IntegrationTriggerKind.Cast(_tmp)},OmnitagParams}();exports.OmnitagParams=OmnitagParams;var DataSourceKind=function(){function DataSourceKind(value){this.value=value,DataSourceKind.map[str.Untaint(value)]=this}return DataSourceKind.prototype.toString=function(){return this.value},DataSourceKind.prototype.toJSON=function(){return this.value},DataSourceKind.Cast=function(value){var result=DataSourceKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid DataSourceKind constant: "+str.Untaint(value));return result},DataSourceKind.map={},DataSourceKind.UNDEFINED=new DataSourceKind("UNDEFINED"),DataSourceKind.LOCAL=new DataSourceKind("LOCAL"),DataSourceKind.VAST=new DataSourceKind("VAST"),DataSourceKind}();exports.DataSourceKind=DataSourceKind;var ModifierParams=function(){function ModifierParams(src){src&&ModifierParams._load(this,src)}return ModifierParams.Cast=function(src){if(src){var dst=new ModifierParams;return ModifierParams._load(dst,src),dst}},ModifierParams._load=function(dst,src){_tmp=src.Source,dst.Source=void 0===_tmp?_tmp:DataSourceKind.Cast(_tmp),dst.Origin=src.Origin,dst.Data=src.Data,dst.Url=src.Url},ModifierParams}();exports.ModifierParams=ModifierParams;var EventKind=function(){function EventKind(value){this.value=value,EventKind.map[str.Untaint(value)]=this}return EventKind.prototype.toString=function(){return this.value},EventKind.prototype.toJSON=function(){return this.value},EventKind.Cast=function(value){var result=EventKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid EventKind constant: "+str.Untaint(value));return result},EventKind.map={},EventKind.UNDEFINED=new EventKind("UNDEFINED"),EventKind.CAP=new EventKind("CAP"),EventKind.CLICK=new EventKind("CLICK"),EventKind.CLOSE=new EventKind("CLOSE"),EventKind.DISPLAY=new EventKind("DISPLAY"),EventKind.DISPLAYSITE=new EventKind("DISPLAY_SITE"),EventKind.GET=new EventKind("GET"),EventKind.GET_CONTENT=new EventKind("GET_CONTENT"),EventKind.INSERTION=new EventKind("INSERTION"),EventKind.INTERACTION1=new EventKind("INTERACTION_1"),EventKind.INTERACTION2=new EventKind("INTERACTION_2"),EventKind.INTERACTION3=new EventKind("INTERACTION_3"),EventKind.INVALID=new EventKind("INVALID"),EventKind.INVALIDBLANK=new EventKind("INVALID_BLANK"),EventKind.INVALIDSOLVE=new EventKind("INVALID_SOLVE"),EventKind.LEAD=new EventKind("LEAD"),EventKind.MAKE=new EventKind("MAKE"),EventKind.NATIVEACTION=new EventKind("NATIVE_ACTION"),EventKind.NATIVEREMOVE=new EventKind("NATIVE_REMOVE"),EventKind.RELOAD=new EventKind("RELOAD"),EventKind.VALID=new EventKind("VALID"),EventKind.VALIDIMAGELEAD=new EventKind("VALID_IMAGE_LEAD"),EventKind.VALIDLEAD=new EventKind("VALID_LEAD"),EventKind.VALIDPASSTHROUGH=new EventKind("VALID_PASSTHROUGH"),EventKind.VALIDSOLVE=new EventKind("VALID_SOLVE"),EventKind.VALIDVIDEO=new EventKind("VALID_VIDEO"),EventKind.VERIFY=new EventKind("VERIFY"),EventKind.VERIFYAJAX=new EventKind("VERIFY_AJAX"),EventKind.VIDEODISPLAY=new EventKind("VIDEO_DISPLAY"),EventKind.VIDEO000=new EventKind("VIDEO_000"),EventKind.VIDEO025=new EventKind("VIDEO_025"),EventKind.VIDEO050=new EventKind("VIDEO_050"),EventKind.VIDEO075=new EventKind("VIDEO_075"),EventKind.VIDEO100=new EventKind("VIDEO_100"),EventKind.VIDEOSKIP=new EventKind("VIDEO_SKIP"),EventKind.VIDEOCLICK=new EventKind("VIDEO_CLICK"),EventKind.VISIBLE_INSERTION=new EventKind("VISIBLE_INSERTION"),EventKind.SHARE_FACEBOOK=new EventKind("SHARE_FACEBOOK"),EventKind.SHARE_TWITTER=new EventKind("SHARE_TWITTER"),EventKind.SHARE_GOOGLEPLUS=new EventKind("SHARE_GOOGLEPLUS"),EventKind.SHARE_LINKEDIN=new EventKind("SHARE_LINKEDIN"),EventKind.SHARE_MOREINFO=new EventKind("SHARE_MOREINFO"),EventKind.SHARE_PINTEREST=new EventKind("SHARE_PINTEREST"),EventKind.SHARE_MAIL=new EventKind("SHARE_MAIL"),EventKind.VIDEOCREATIVEVIEW=new EventKind("VIDEO_CREATIVE_VIEW"),EventKind.VIDEOMUTE=new EventKind("VIDEO_MUTE"),EventKind.VIDEOUNMUTE=new EventKind("VIDEO_UNMUTE"),EventKind.VIDEOPAUSE=new EventKind("VIDEO_PAUSE"),EventKind.VIDEOREWIND=new EventKind("VIDEO_REWIND"),EventKind.VIDEORESUME=new EventKind("VIDEO_RESUME"),EventKind.VIDEOFULLSCREEN=new EventKind("VIDEO_FULLSCREEN"),EventKind.VIDEOEXITFULLSCREEN=new EventKind("VIDEO_EXIT_FULLSCREEN"),EventKind.VIDEOEXPAND=new EventKind("VIDEO_EXPAND"),EventKind.VIDEOCOLLAPSE=new EventKind("VIDEO_COLLAPSE"),EventKind.VIDEOACCEPTINVITATION=new EventKind("VIDEO_ACCEPT_INVITATION"),EventKind.VIDEOCLOSE=new EventKind("VIDEO_CLOSE"),EventKind.VIDEOPROGRESS=new EventKind("VIDEO_PROGRESS"),EventKind.TIMESPENT=new EventKind("TIMESPENT"),EventKind.INVENTORY=new EventKind("INVENTORY"),EventKind}();exports.EventKind=EventKind;var OnEventKind=function(){function OnEventKind(value){this.value=value,OnEventKind.map[str.Untaint(value)]=this}return OnEventKind.prototype.toString=function(){return this.value},OnEventKind.prototype.toJSON=function(){return this.value},OnEventKind.Cast=function(value){var result=OnEventKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid OnEventKind constant: "+str.Untaint(value));return result},OnEventKind.map={},OnEventKind.UNDEFINED=new OnEventKind("UNDEFINED"),OnEventKind.PIXEL_URL=new OnEventKind("PIXEL_URL"),OnEventKind.JAVASCRIPT_URL=new OnEventKind("JAVASCRIPT_URL"),OnEventKind.JAVASCRIPT_CODE=new OnEventKind("JAVASCRIPT_CODE"),OnEventKind}();exports.OnEventKind=OnEventKind;var OnEventGuardKind=function(){function OnEventGuardKind(value){this.value=value,OnEventGuardKind.map[str.Untaint(value)]=this}return OnEventGuardKind.prototype.toString=function(){return this.value},OnEventGuardKind.prototype.toJSON=function(){return this.value},OnEventGuardKind.Cast=function(value){var result=OnEventGuardKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid OnEventGuardKind constant: "+str.Untaint(value));return result},OnEventGuardKind.map={},OnEventGuardKind.UNDEFINED=new OnEventGuardKind("UNDEFINED"),OnEventGuardKind.ALWAYS=new OnEventGuardKind("ALWAYS"),OnEventGuardKind.HAVE_CAMPAIGN=new OnEventGuardKind("HAVE_CAMPAIGN"),OnEventGuardKind.NO_CAMPAIGN=new OnEventGuardKind("NO_CAMPAIGN"),OnEventGuardKind}();exports.OnEventGuardKind=OnEventGuardKind;var OnEvent=function(){function OnEvent(src){src&&OnEvent._load(this,src)}return OnEvent.Cast=function(src){if(src){var dst=new OnEvent;return OnEvent._load(dst,src),dst}},OnEvent._load=function(dst,src){_tmp=src.Kind,dst.Kind=void 0===_tmp?_tmp:OnEventKind.Cast(_tmp),dst.OncePerAttempt=src.OncePerAttempt,_tmp=src.Guard,dst.Guard=void 0===_tmp?_tmp:OnEventGuardKind.Cast(_tmp),dst.Isolated=src.Isolated,dst.Url=src.Url,dst.Code=src.Code},OnEvent}();exports.OnEvent=OnEvent;var LangKind=function(){function LangKind(value){this.value=value,LangKind.map[str.Untaint(value)]=this}return LangKind.prototype.toString=function(){return this.value},LangKind.prototype.toJSON=function(){return this.value},LangKind.Cast=function(value){var result=LangKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid LangKind constant: "+str.Untaint(value));return result},LangKind.map={},LangKind.UNDEFINED=new LangKind("UNDEFINED"),LangKind.FR=new LangKind("FR"),LangKind.EN=new LangKind("EN"),LangKind.PT=new LangKind("PT"),LangKind}();exports.LangKind=LangKind;var GenusKind=function(){function GenusKind(value){this.value=value,GenusKind.map[str.Untaint(value)]=this}return GenusKind.prototype.toString=function(){return this.value},GenusKind.prototype.toJSON=function(){return this.value},GenusKind.Cast=function(value){var result=GenusKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid GenusKind constant: "+str.Untaint(value));return result},GenusKind.map={},GenusKind.UNDEFINED=new GenusKind("UNDEFINED"),GenusKind.CAPTCHA=new GenusKind("CAPTCHA"),GenusKind.NATIVE=new GenusKind("NATIVE"),GenusKind.AD_TO_CONTENT=new GenusKind("AD_TO_CONTENT"),GenusKind.SPONSOR_POST=new GenusKind("SPONSOR_POST"),GenusKind}();exports.GenusKind=GenusKind;var OmnitagConfig=function(){function OmnitagConfig(src){src&&OmnitagConfig._load(this,src)}return OmnitagConfig.Cast=function(src){if(src){var dst=new OmnitagConfig;return OmnitagConfig._load(dst,src),dst}},OmnitagConfig._load=function(dst,src){dst.Disabled=src.Disabled,dst.Visitor=src.Visitor,dst.Attempt=src.Attempt,dst.ApiPrefix=src.ApiPrefix,dst.StaticPrefix=src.StaticPrefix,dst.BlobPrefix=src.BlobPrefix,dst.Trusted=src.Trusted,dst.Placement=src.Placement,dst.PlacementName=src.PlacementName,dst.OnEvent=exports.GetterMapper(EventKind.Cast,exports.ArrayMapper(OnEvent.Cast))(src.OnEvent),_tmp=src.Lang,dst.Lang=void 0===_tmp?_tmp:LangKind.Cast(_tmp),_tmp=src.Genus,dst.Genus=void 0===_tmp?_tmp:GenusKind.Cast(_tmp)},OmnitagConfig}();exports.OmnitagConfig=OmnitagConfig;var AttachmentIdSpecialKind=function(){function AttachmentIdSpecialKind(value){this.value=value,AttachmentIdSpecialKind.map[str.Untaint(value)]=this}return AttachmentIdSpecialKind.prototype.toString=function(){return this.value},AttachmentIdSpecialKind.prototype.toJSON=function(){return this.value},AttachmentIdSpecialKind.Cast=function(value){var result=AttachmentIdSpecialKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid AttachmentIdSpecialKind constant: "+str.Untaint(value));return result},AttachmentIdSpecialKind.map={},AttachmentIdSpecialKind.UNDEFINED=new AttachmentIdSpecialKind("UNDEFINED"),AttachmentIdSpecialKind.IMAGE=new AttachmentIdSpecialKind("IMAGE"),AttachmentIdSpecialKind.IMAGE_300X600=new AttachmentIdSpecialKind("IMAGE_300X600"),AttachmentIdSpecialKind.VPAID=new AttachmentIdSpecialKind("VPAID"),AttachmentIdSpecialKind.VIDEO=new AttachmentIdSpecialKind("VIDEO"),AttachmentIdSpecialKind.VIDEOMP4=new AttachmentIdSpecialKind("VIDEO_MP4"),AttachmentIdSpecialKind.VIDEOWEBM=new AttachmentIdSpecialKind("VIDEO_WEBM"),AttachmentIdSpecialKind.VIDEOYOUTUBE=new AttachmentIdSpecialKind("VIDEO_YOUTUBE"),AttachmentIdSpecialKind.VIDEODAILYMOTION=new AttachmentIdSpecialKind("VIDEO_DAILYMOTION"),AttachmentIdSpecialKind.NATIVETHUMBNAIL=new AttachmentIdSpecialKind("NATIVE_THUMBNAIL"),AttachmentIdSpecialKind.PLAYER_BACKGROUND=new AttachmentIdSpecialKind("PLAYER_BACKGROUND"),AttachmentIdSpecialKind.PLAYER_BACKGROUND_TOP=new AttachmentIdSpecialKind("PLAYER_BACKGROUND_TOP"),AttachmentIdSpecialKind.PLAYER_BACKGROUND_LEFT=new AttachmentIdSpecialKind("PLAYER_BACKGROUND_LEFT"),AttachmentIdSpecialKind.PLAYER_BACKGROUND_RIGHT=new AttachmentIdSpecialKind("PLAYER_BACKGROUND_RIGHT"),AttachmentIdSpecialKind.PLAYER_BACKGROUND_BOTTOM=new AttachmentIdSpecialKind("PLAYER_BACKGROUND_BOTTOM"),AttachmentIdSpecialKind}();exports.AttachmentIdSpecialKind=AttachmentIdSpecialKind;var AttachmentKind=function(){function AttachmentKind(value){this.value=value,AttachmentKind.map[str.Untaint(value)]=this}return AttachmentKind.prototype.toString=function(){return this.value},AttachmentKind.prototype.toJSON=function(){return this.value},AttachmentKind.Cast=function(value){var result=AttachmentKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid AttachmentKind constant: "+str.Untaint(value));return result},AttachmentKind.map={},AttachmentKind.UNDEFINED=new AttachmentKind("UNDEFINED"),AttachmentKind.EXTERNAL_URL=new AttachmentKind("EXTERNAL_URL"),AttachmentKind.BLOB_REFERENCE=new AttachmentKind("BLOB_REFERENCE"),AttachmentKind}();exports.AttachmentKind=AttachmentKind;var BlobReferenceStatus=function(){function BlobReferenceStatus(value){this.value=value,BlobReferenceStatus.map[str.Untaint(value)]=this}return BlobReferenceStatus.prototype.toString=function(){return this.value},BlobReferenceStatus.prototype.toJSON=function(){return this.value},BlobReferenceStatus.Cast=function(value){var result=BlobReferenceStatus.map[str.Untaint(value)];if(null==result)throw new Error("Invalid BlobReferenceStatus constant: "+str.Untaint(value));return result},BlobReferenceStatus.map={},BlobReferenceStatus.UNDEFINED=new BlobReferenceStatus("UNDEFINED"),BlobReferenceStatus.TEMPORARY=new BlobReferenceStatus("TEMPORARY"),BlobReferenceStatus.PERMANENT=new BlobReferenceStatus("PERMANENT"),BlobReferenceStatus}();exports.BlobReferenceStatus=BlobReferenceStatus;var BlobReferenceMime=function(){function BlobReferenceMime(value){this.value=value,BlobReferenceMime.map[str.Untaint(value)]=this}return BlobReferenceMime.prototype.toString=function(){return this.value},BlobReferenceMime.prototype.toJSON=function(){return this.value},BlobReferenceMime.Cast=function(value){var result=BlobReferenceMime.map[str.Untaint(value)];if(null==result)throw new Error("Invalid BlobReferenceMime constant: "+str.Untaint(value));return result},BlobReferenceMime.map={},BlobReferenceMime.UNDEFINED=new BlobReferenceMime("UNDEFINED"),BlobReferenceMime.GZIP=new BlobReferenceMime("application/x-gzip"),BlobReferenceMime.IMAGE_JPEG=new BlobReferenceMime("image/jpeg"),BlobReferenceMime.IMAGE_PNG=new BlobReferenceMime("image/png"),BlobReferenceMime.IMAGE_GIF=new BlobReferenceMime("image/gif"),BlobReferenceMime.VIDEO_FLV=new BlobReferenceMime("video/x-flv"),BlobReferenceMime.VIDEO_MP4=new BlobReferenceMime("video/mp4"),BlobReferenceMime.VIDEO_WEBM=new BlobReferenceMime("video/webm"),BlobReferenceMime}();exports.BlobReferenceMime=BlobReferenceMime;var BlobReference=function(){function BlobReference(src){src&&BlobReference._load(this,src)}return BlobReference.Cast=function(src){if(src){var dst=new BlobReference;return BlobReference._load(dst,src),dst}},BlobReference._load=function(dst,src){dst.Uid=src.Uid,dst.Md5=src.Md5,_tmp=src.Status,dst.Status=void 0===_tmp?_tmp:BlobReferenceStatus.Cast(_tmp),_tmp=src.MimeType,dst.MimeType=void 0===_tmp?_tmp:BlobReferenceMime.Cast(_tmp),dst.Size=src.Size,dst.Meta=src.Meta},BlobReference}();exports.BlobReference=BlobReference;var Attachment=function(){function Attachment(src){src&&Attachment._load(this,src)}return Attachment.Cast=function(src){if(src){var dst=new Attachment;return Attachment._load(dst,src),dst}},Attachment._load=function(dst,src){_tmp=src.Kind,dst.Kind=void 0===_tmp?_tmp:AttachmentKind.Cast(_tmp),_tmp=src.BlobReference,dst.BlobReference=void 0===_tmp?_tmp:BlobReference.Cast(_tmp),dst.ExternalURL=src.ExternalURL},Attachment}();exports.Attachment=Attachment;var Attachments=function(){function Attachments(src){src&&Attachments._load(this,src)}return Attachments.Cast=function(src){if(src){var dst=new Attachments;return Attachments._load(dst,src),dst}},Attachments._load=function(dst,src){dst.System=exports.GetterMapper(AttachmentIdSpecialKind.Cast,Attachment.Cast)(src.System),dst.Custom=exports.GetterMapper(null,Attachment.Cast)(src.Custom)},Attachments}();exports.Attachments=Attachments;var LandingKind=function(){function LandingKind(value){this.value=value,LandingKind.map[str.Untaint(value)]=this}return LandingKind.prototype.toString=function(){return this.value},LandingKind.prototype.toJSON=function(){return this.value},LandingKind.Cast=function(value){var result=LandingKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid LandingKind constant: "+str.Untaint(value));return result},LandingKind.map={},LandingKind.UNDEFINED=new LandingKind("UNDEFINED"),LandingKind.DEFAULT=new LandingKind("DEFAULT"),LandingKind.PLAYER_BACKGROUND_TOP=new LandingKind("PLAYER_BACKGROUND_TOP"),LandingKind.PLAYER_BACKGROUND_BOTTOM=new LandingKind("PLAYER_BACKGROUND_BOTTOM"),LandingKind.PLAYER_BACKGROUND_LEFT=new LandingKind("PLAYER_BACKGROUND_LEFT"),LandingKind.PLAYER_BACKGROUND_RIGHT=new LandingKind("PLAYER_BACKGROUND_RIGHT"),LandingKind}();exports.LandingKind=LandingKind;var ShareKind=function(){function ShareKind(value){this.value=value,ShareKind.map[str.Untaint(value)]=this}return ShareKind.prototype.toString=function(){return this.value},ShareKind.prototype.toJSON=function(){return this.value},ShareKind.Cast=function(value){var result=ShareKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid ShareKind constant: "+str.Untaint(value));return result},ShareKind.map={},ShareKind.UNDEFINED=new ShareKind("UNDEFINED"),ShareKind.TWITTER=new ShareKind("TWITTER"),ShareKind.FACEBOOK=new ShareKind("FACEBOOK"),ShareKind.MORE_INFO=new ShareKind("MORE_INFO"),ShareKind.GOOGLE_PLUS=new ShareKind("GOOGLE_PLUS"),ShareKind.LINKEDIN=new ShareKind("LINKEDIN"),ShareKind.PINTEREST=new ShareKind("PINTEREST"),ShareKind.MAIL=new ShareKind("MAIL"),ShareKind}();exports.ShareKind=ShareKind;var Share=function(){function Share(src){src&&Share._load(this,src)}return Share.Cast=function(src){if(src){var dst=new Share;return Share._load(dst,src),dst}},Share._load=function(dst,src){dst.Text=src.Text,dst.Url=src.Url,dst.Hashtags=src.Hashtags},Share}();exports.Share=Share;var CampaignCommonConfig=function(_super){function CampaignCommonConfig(src){_super.call(this,src),src&&CampaignCommonConfig._load(this,src)}return __extends(CampaignCommonConfig,_super),CampaignCommonConfig.Cast=function(src){if(src){var dst=new CampaignCommonConfig;return CampaignCommonConfig._load(dst,src),dst}},CampaignCommonConfig._load=function(dst,src){OmnitagConfig._load(dst,src),dst.Campaign=src.Campaign,dst.CampaignName=src.CampaignName,dst.IsLocal=src.IsLocal,_tmp=src.DataSource,dst.DataSource=void 0===_tmp?_tmp:DataSourceKind.Cast(_tmp),dst.DataSourceUrl=src.DataSourceUrl,_tmp=src.Attachments,dst.Attachments=void 0===_tmp?_tmp:Attachments.Cast(_tmp),dst.Skip=src.Skip,dst.Skippable=src.Skippable,dst.Clickable=src.Clickable,dst.Landings=exports.GetterMapper(LandingKind.Cast,null)(src.Landings),dst.Shares=exports.GetterMapper(ShareKind.Cast,Share.Cast)(src.Shares),dst.HasShares=src.HasShares,dst.HasCredit=src.HasCredit,dst.Extensions=src.Extensions,dst.HasExtensions=src.HasExtensions,dst.HasNoSound=src.HasNoSound},CampaignCommonConfig}(OmnitagConfig);exports.CampaignCommonConfig=CampaignCommonConfig;var CaptchaIntegrationInsertionKind=function(){function CaptchaIntegrationInsertionKind(value){this.value=value,CaptchaIntegrationInsertionKind.map[str.Untaint(value)]=this}return CaptchaIntegrationInsertionKind.prototype.toString=function(){return this.value},CaptchaIntegrationInsertionKind.prototype.toJSON=function(){return this.value},CaptchaIntegrationInsertionKind.Cast=function(value){var result=CaptchaIntegrationInsertionKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid CaptchaIntegrationInsertionKind constant: "+str.Untaint(value));return result},CaptchaIntegrationInsertionKind.map={},CaptchaIntegrationInsertionKind.UNDEFINED=new CaptchaIntegrationInsertionKind("UNDEFINED"),CaptchaIntegrationInsertionKind.BEFORE=new CaptchaIntegrationInsertionKind("BEFORE"),CaptchaIntegrationInsertionKind.PREPEND=new CaptchaIntegrationInsertionKind("PREPEND"),CaptchaIntegrationInsertionKind.APPEND=new CaptchaIntegrationInsertionKind("APPEND"),CaptchaIntegrationInsertionKind.AFTER=new CaptchaIntegrationInsertionKind("AFTER"),CaptchaIntegrationInsertionKind}();exports.CaptchaIntegrationInsertionKind=CaptchaIntegrationInsertionKind;var MediumType=function(){function MediumType(value){this.value=value,MediumType.map[str.Untaint(value)]=this}return MediumType.prototype.toString=function(){return this.value},MediumType.prototype.toJSON=function(){return this.value},MediumType.Cast=function(value){var result=MediumType.map[str.Untaint(value)];if(null==result)throw new Error("Invalid MediumType constant: "+str.Untaint(value));return result},MediumType.map={},MediumType.UNDEFINED=new MediumType("UNDEFINED"),MediumType.IMAGE_ADYOULIKE=new MediumType("IMAGE_ADYOULIKE"),MediumType.VIDEO_ADYOULIKE=new MediumType("VIDEO_ADYOULIKE"),MediumType.VIDEO_YOUTUBE=new MediumType("VIDEO_YOUTUBE"),MediumType}();exports.MediumType=MediumType;var OnValidationKind=function(){function OnValidationKind(value){this.value=value,OnValidationKind.map[str.Untaint(value)]=this}return OnValidationKind.prototype.toString=function(){return this.value},OnValidationKind.prototype.toJSON=function(){return this.value},OnValidationKind.Cast=function(value){var result=OnValidationKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid OnValidationKind constant: "+str.Untaint(value));return result},OnValidationKind.map={},OnValidationKind.UNDEFINED=new OnValidationKind("UNDEFINED"),OnValidationKind.NOTHING=new OnValidationKind("NOTHING"),OnValidationKind.POPUNDER=new OnValidationKind("POPUNDER"),OnValidationKind}();exports.OnValidationKind=OnValidationKind;var TranslationKind=function(){function TranslationKind(value){this.value=value,TranslationKind.map[str.Untaint(value)]=this}return TranslationKind.prototype.toString=function(){return this.value},TranslationKind.prototype.toJSON=function(){return this.value},TranslationKind.Cast=function(value){var result=TranslationKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid TranslationKind constant: "+str.Untaint(value));return result},TranslationKind.map={},TranslationKind.UNDEFINED=new TranslationKind("UNDEFINED"),TranslationKind.AUDIO_CHALLENGE=new TranslationKind("AUDIO_CHALLENGE"),TranslationKind.BECOME_FAN=new TranslationKind("BECOME_FAN"),TranslationKind.BECOME_FAN_OF_OUR_SPONSOR=new TranslationKind("BECOME_FAN_OF_OUR_SPONSOR"),TranslationKind.BECOME_FAN_OF_THE_PAGE=new TranslationKind("BECOME_FAN_OF_THE_PAGE"),TranslationKind.CANT_HEAR_THIS=new TranslationKind("CANT_HEAR_THIS"),TranslationKind.CLICK_INFORMATION1=new TranslationKind("CLICK_INFORMATION1"),TranslationKind.CLICK_INFORMATION2=new TranslationKind("CLICK_INFORMATION2"),TranslationKind.CLOSE_VIDEO_BTN=new TranslationKind("CLOSE_VIDEO_BTN"),TranslationKind.COUNT=new TranslationKind("COUNT"),TranslationKind.FULLSCREEN_VIDEO_BTN=new TranslationKind("FULLSCREEN_VIDEO_BTN"),TranslationKind.HELP_BTN=new TranslationKind("HELP_BTN"),TranslationKind.IGNORE_VIDEO_IN=new TranslationKind("IGNORE_VIDEO_IN"),TranslationKind.INCORRECT_TRY_AGAIN=new TranslationKind("INCORRECT_TRY_AGAIN"),TranslationKind.INSTRUCTIONS_AUDIO=new TranslationKind("INSTRUCTIONS_AUDIO"),TranslationKind.INSTRUCTIONS_VISUAL=new TranslationKind("INSTRUCTIONS_VISUAL"),TranslationKind.INSTRUCTIONS_VISUAL_DEFAULT_IMAGE=new TranslationKind("INSTRUCTIONS_VISUAL_DEFAULT_IMAGE"),TranslationKind.INSTRUCTIONS_VISUAL_FOLDED=new TranslationKind("INSTRUCTIONS_VISUAL_FOLDED"),TranslationKind.INSTRUCTIONS_VISUAL_SHORT=new TranslationKind("INSTRUCTIONS_VISUAL_SHORT"),TranslationKind.INTRO_MSG=new TranslationKind("INTRO_MSG"),TranslationKind.INTRO_SUBMSG=new TranslationKind("INTRO_SUBMSG"),TranslationKind.LIGHTBOX_INSTRUCTIONS=new TranslationKind("LIGHTBOX_INSTRUCTIONS"),TranslationKind.LIKE_ON_FACEBOOK=new TranslationKind("LIKE_ON_FACEBOOK"),TranslationKind.LOGO_ALT=new TranslationKind("LOGO_ALT"),TranslationKind.NO_FACEBOOK=new TranslationKind("NO_FACEBOOK"),TranslationKind.NOT_PROD=new TranslationKind("NOT_PROD"),TranslationKind.PAUSE_VIDEO_BTN=new TranslationKind("PAUSE_VIDEO_BTN"),TranslationKind.PLAY_AGAIN=new TranslationKind("PLAY_AGAIN"),TranslationKind.PLAY_THE_SEQUENCE=new TranslationKind("PLAY_THE_SEQUENCE"),TranslationKind.PLAY_THE_SEQUENCE_SHORT=new TranslationKind("PLAY_THE_SEQUENCE_SHORT"),TranslationKind.PLAY_THE_SEQUENCE_SKIP=new TranslationKind("PLAY_THE_SEQUENCE_SKIP"),TranslationKind.PLAY_THE_VIDEO=new TranslationKind("PLAY_THE_VIDEO"),TranslationKind.PLAY_THE_VIDEO_SHORT=new TranslationKind("PLAY_THE_VIDEO_SHORT"),TranslationKind.PLAY_VIDEO_BTN=new TranslationKind("PLAY_VIDEO_BTN"),TranslationKind.PLEASE_PROCEED=new TranslationKind("PLEASE_PROCEED"),TranslationKind.PLEASE_PROCEED_SHORT=new TranslationKind("PLEASE_PROCEED_SHORT"),TranslationKind.REFRESH_BTN=new TranslationKind("REFRESH_BTN"),TranslationKind.REPLAY_VIDEO_BTN=new TranslationKind("REPLAY_VIDEO_BTN"),TranslationKind.RESPONSE_INSTRUCTION=new TranslationKind("RESPONSE_INSTRUCTIONS"),TranslationKind.RESPONSE_PLACEHOLDER=new TranslationKind("RESPONSE_PLACEHOLDER"),TranslationKind.RESPONSE_PLACEHOLDER_VIDEO=new TranslationKind("RESPONSE_PLACEHOLDER_VIDEO"),TranslationKind.SHARE_FACEBOOK_VIDEO_BTN=new TranslationKind("SHARE_FACEBOOK_VIDEO_BTN"),TranslationKind.SHARE_TWITTER_VIDEO_BTN=new TranslationKind("SHARE_TWITTER_VIDEO_BTN"),TranslationKind.SPONSORED_BY=new TranslationKind("SPONSORED_BY"),TranslationKind.SUBMIT_BTN=new TranslationKind("SUBMIT_BTN"),TranslationKind.TITLE=new TranslationKind("TITLE"),TranslationKind.TO_CONTINUE=new TranslationKind("TO_CONTINUE"),TranslationKind.VALIDATE=new TranslationKind("VALIDATE"),TranslationKind.VISUAL_CHALLENGE=new TranslationKind("VISUAL_CHALLENGE"),TranslationKind.VOLUME_VIDEO_BTN=new TranslationKind("VOLUME_VIDEO_BTN"),TranslationKind.YOUR_CODE=new TranslationKind("YOUR_CODE"),TranslationKind.YOUR_CODE_IN=new TranslationKind("YOUR_CODE_IN"),TranslationKind.YOUR_CODE_IN_A_FEW=new TranslationKind("YOUR_CODE_IN_A_FEW"),TranslationKind.NATIVE_CALLTOACTION=new TranslationKind("NATIVE_CALLTOACTION"),TranslationKind.NATIVE_CATEGORY=new TranslationKind("NATIVE_CATEGORY"),TranslationKind.NATIVE_DESCRIPTION=new TranslationKind("NATIVE_DESCRIPTION"),TranslationKind.NATIVE_LEGAL=new TranslationKind("NATIVE_LEGAL"),TranslationKind.NATIVE_SPONSOR=new TranslationKind("NATIVE_SPONSOR"),TranslationKind.NATIVE_SUBTITLE=new TranslationKind("NATIVE_SUBTITLE"),TranslationKind.NATIVE_TITLE=new TranslationKind("NATIVE_TITLE"),TranslationKind.NATIVE_POSTCONTENT=new TranslationKind("NATIVE_POSTCONTENT"),TranslationKind}();exports.TranslationKind=TranslationKind;var Translation=function(){function Translation(src){src&&Translation._load(this,src)}return Translation.Cast=function(src){if(src){var dst=new Translation;return Translation._load(dst,src),dst}},Translation._load=function(dst,src){dst.Singular=src.Singular,dst.Plural=src.Plural},Translation}();exports.Translation=Translation;var IframeKind=function(){function IframeKind(value){this.value=value,IframeKind.map[str.Untaint(value)]=this}return IframeKind.prototype.toString=function(){return this.value},IframeKind.prototype.toJSON=function(){return this.value},IframeKind.Cast=function(value){var result=IframeKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid IframeKind constant: "+str.Untaint(value));return result},IframeKind.map={},IframeKind.UNDEFINED=new IframeKind("UNDEFINED"),IframeKind.BIG=new IframeKind("BIG"),IframeKind}();exports.IframeKind=IframeKind;var SequenceKind=function(){function SequenceKind(value){this.value=value,SequenceKind.map[str.Untaint(value)]=this}return SequenceKind.prototype.toString=function(){return this.value},SequenceKind.prototype.toJSON=function(){return this.value},SequenceKind.Cast=function(value){var result=SequenceKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid SequenceKind constant: "+str.Untaint(value));return result},SequenceKind.map={},SequenceKind.UNDEFINED=new SequenceKind("UNDEFINED"),SequenceKind.CLASSIC=new SequenceKind("CLASSIC"),SequenceKind.HORYZON=new SequenceKind("HORYZON"),SequenceKind.UNRULY=new SequenceKind("UNRULY"),SequenceKind}();exports.SequenceKind=SequenceKind;var CaptchaConfig=function(_super){function CaptchaConfig(src){_super.call(this,src),src&&CaptchaConfig._load(this,src)}return __extends(CaptchaConfig,_super),CaptchaConfig.Cast=function(src){if(src){var dst=new CaptchaConfig;return CaptchaConfig._load(dst,src),dst}},CaptchaConfig._load=function(dst,src){CampaignCommonConfig._load(dst,src),_tmp=src.IntegrationInsertion,dst.IntegrationInsertion=void 0===_tmp?_tmp:CaptchaIntegrationInsertionKind.Cast(_tmp),dst.IntegrationSelector=src.IntegrationSelector,_tmp=src.MediumType,dst.MediumType=void 0===_tmp?_tmp:MediumType.Cast(_tmp),_tmp=src.OnValidation,dst.OnValidation=void 0===_tmp?_tmp:OnValidationKind.Cast(_tmp),dst.Translations=exports.GetterMapper(LangKind.Cast,exports.GetterMapper(TranslationKind.Cast,Translation.Cast))(src.Translations),dst.Iframes=exports.GetterMapper(IframeKind.Cast,null)(src.Iframes),dst.Css=src.Css,dst.Answer=src.Answer,dst.CaptchaCode=src.CaptchaCode,dst.CallbackDestroy=src.CallbackDestroy,dst.RecaptchaPublicKey=src.RecaptchaPublicKey,dst.HasIframeRedirect=src.HasIframeRedirect,dst.HasValidateButton=src.HasValidateButton,dst.HasAutosubmit=src.HasAutosubmit,_tmp=src.Sequence,dst.Sequence=void 0===_tmp?_tmp:SequenceKind.Cast(_tmp)},CaptchaConfig}(CampaignCommonConfig);exports.CaptchaConfig=CaptchaConfig;var NativeIntegrationKind=function(){function NativeIntegrationKind(value){this.value=value,NativeIntegrationKind.map[str.Untaint(value)]=this}return NativeIntegrationKind.prototype.toString=function(){return this.value},NativeIntegrationKind.prototype.toJSON=function(){return this.value},NativeIntegrationKind.Cast=function(value){var result=NativeIntegrationKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid NativeIntegrationKind constant: "+str.Untaint(value));return result},NativeIntegrationKind.map={},NativeIntegrationKind.UNDEFINED=new NativeIntegrationKind("UNDEFINED"),NativeIntegrationKind.NONE=new NativeIntegrationKind("NONE"),NativeIntegrationKind.INJECTOR=new NativeIntegrationKind("INJECTOR"),NativeIntegrationKind.COMMENT=new NativeIntegrationKind("COMMENT"),NativeIntegrationKind}();exports.NativeIntegrationKind=NativeIntegrationKind;var AutoplayKind=function(){function AutoplayKind(value){this.value=value,AutoplayKind.map[str.Untaint(value)]=this
}return AutoplayKind.prototype.toString=function(){return this.value},AutoplayKind.prototype.toJSON=function(){return this.value},AutoplayKind.Cast=function(value){var result=AutoplayKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid AutoplayKind constant: "+str.Untaint(value));return result},AutoplayKind.map={},AutoplayKind.UNDEFINED=new AutoplayKind("UNDEFINED"),AutoplayKind.NONE=new AutoplayKind("NONE"),AutoplayKind.ONLOAD=new AutoplayKind("ONLOAD"),AutoplayKind}();exports.AutoplayKind=AutoplayKind;var NativeUITriggerKind=function(){function NativeUITriggerKind(value){this.value=value,NativeUITriggerKind.map[str.Untaint(value)]=this}return NativeUITriggerKind.prototype.toString=function(){return this.value},NativeUITriggerKind.prototype.toJSON=function(){return this.value},NativeUITriggerKind.Cast=function(value){var result=NativeUITriggerKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid NativeUITriggerKind constant: "+str.Untaint(value));return result},NativeUITriggerKind.map={},NativeUITriggerKind.UNDEFINED=new NativeUITriggerKind("UNDEFINED"),NativeUITriggerKind.LOAD=new NativeUITriggerKind("LOAD"),NativeUITriggerKind.CLICK_ARTICLE=new NativeUITriggerKind("CLICK_ARTICLE"),NativeUITriggerKind.CLICK_CLOSE=new NativeUITriggerKind("CLICK_CLOSE"),NativeUITriggerKind.SCROLL=new NativeUITriggerKind("SCROLL"),NativeUITriggerKind.MOUSE_OVER=new NativeUITriggerKind("MOUSE_OVER"),NativeUITriggerKind}();exports.NativeUITriggerKind=NativeUITriggerKind;var NativeCarrierKind=function(){function NativeCarrierKind(value){this.value=value,NativeCarrierKind.map[str.Untaint(value)]=this}return NativeCarrierKind.prototype.toString=function(){return this.value},NativeCarrierKind.prototype.toJSON=function(){return this.value},NativeCarrierKind.Cast=function(value){var result=NativeCarrierKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid NativeCarrierKind constant: "+str.Untaint(value));return result},NativeCarrierKind.map={},NativeCarrierKind.UNDEFINED=new NativeCarrierKind("UNDEFINED"),NativeCarrierKind.SPONSORPOST=new NativeCarrierKind("SPONSORPOST"),NativeCarrierKind.INPREVIEW=new NativeCarrierKind("INPREVIEW"),NativeCarrierKind.ADREADER=new NativeCarrierKind("ADREADER"),NativeCarrierKind.IFRAME=new NativeCarrierKind("IFRAME"),NativeCarrierKind.REDIRECT=new NativeCarrierKind("REDIRECT"),NativeCarrierKind}();exports.NativeCarrierKind=NativeCarrierKind;var MaterialKind=function(){function MaterialKind(value){this.value=value,MaterialKind.map[str.Untaint(value)]=this}return MaterialKind.prototype.toString=function(){return this.value},MaterialKind.prototype.toJSON=function(){return this.value},MaterialKind.Cast=function(value){var result=MaterialKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid MaterialKind constant: "+str.Untaint(value));return result},MaterialKind.map={},MaterialKind.UNDEFINED=new MaterialKind("UNDEFINED"),MaterialKind.CAPTCHA=new MaterialKind("CAPTCHA"),MaterialKind.VIDEO=new MaterialKind("VIDEO"),MaterialKind.LANDING=new MaterialKind("LANDING"),MaterialKind.VPAID=new MaterialKind("VPAID"),MaterialKind}();exports.MaterialKind=MaterialKind;var NativeConfig=function(_super){function NativeConfig(src){_super.call(this,src),src&&NativeConfig._load(this,src)}return __extends(NativeConfig,_super),NativeConfig.Cast=function(src){if(src){var dst=new NativeConfig;return NativeConfig._load(dst,src),dst}},NativeConfig._load=function(dst,src){CampaignCommonConfig._load(dst,src),_tmp=src.Integration,dst.Integration=void 0===_tmp?_tmp:NativeIntegrationKind.Cast(_tmp),_tmp=src.Autoplay,dst.Autoplay=void 0===_tmp?_tmp:AutoplayKind.Cast(_tmp),dst.PerformUITriggers=exports.ArrayMapper(NativeUITriggerKind.Cast)(src.PerformUITriggers),_tmp=src.Carrier,dst.Carrier=void 0===_tmp?_tmp:NativeCarrierKind.Cast(_tmp),dst.CarrierDeletable=src.CarrierDeletable,dst.Materials=exports.ArrayMapper(MaterialKind.Cast)(src.Materials),dst.HasLegal=src.HasLegal,dst.HasSponsor=src.HasSponsor,dst.HasCloseButton=src.HasCloseButton,dst.HasBackgroundColor=src.HasBackgroundColor,dst.BackgroundColor=src.BackgroundColor,dst.HasSkin=src.HasSkin,dst.Injector=src.Injector,dst.Translations=exports.GetterMapper(LangKind.Cast,exports.GetterMapper(TranslationKind.Cast,Translation.Cast))(src.Translations),dst.Iframes=exports.GetterMapper(IframeKind.Cast,null)(src.Iframes),dst.EmbeddedLandingUrl=src.EmbeddedLandingUrl,dst.EmbeddedLandingWidth=src.EmbeddedLandingWidth,dst.Css=src.Css,_tmp=src.CaptchaConfig,dst.CaptchaConfig=void 0===_tmp?_tmp:CaptchaConfig.Cast(_tmp)},NativeConfig}(CampaignCommonConfig);exports.NativeConfig=NativeConfig;var ModifierConfig=function(){function ModifierConfig(src){src&&ModifierConfig._load(this,src)}return ModifierConfig.Cast=function(src){if(src){var dst=new ModifierConfig;return ModifierConfig._load(dst,src),dst}},ModifierConfig._load=function(dst,src){dst.Disabled=src.Disabled,dst.CarrierDeletable=src.CarrierDeletable,_tmp=src.Attachments,dst.Attachments=void 0===_tmp?_tmp:Attachments.Cast(_tmp),dst.OnEvent=exports.GetterMapper(EventKind.Cast,exports.ArrayMapper(OnEvent.Cast))(src.OnEvent),dst.Clickable=src.Clickable,dst.Landings=exports.GetterMapper(LandingKind.Cast,null)(src.Landings),dst.Skip=src.Skip,dst.Skippable=src.Skippable,dst.Materials=exports.ArrayMapper(MaterialKind.Cast)(src.Materials),dst.Extensions=src.Extensions,dst.HasExtensions=src.HasExtensions},ModifierConfig}();exports.ModifierConfig=ModifierConfig;var IframeOptionsImageAdyoulike=function(){function IframeOptionsImageAdyoulike(src){src&&IframeOptionsImageAdyoulike._load(this,src)}return IframeOptionsImageAdyoulike.Cast=function(src){if(src){var dst=new IframeOptionsImageAdyoulike;return IframeOptionsImageAdyoulike._load(dst,src),dst}},IframeOptionsImageAdyoulike._load=function(){},IframeOptionsImageAdyoulike}();exports.IframeOptionsImageAdyoulike=IframeOptionsImageAdyoulike;var IframeOptionsVideoAdyoulike=function(){function IframeOptionsVideoAdyoulike(src){src&&IframeOptionsVideoAdyoulike._load(this,src)}return IframeOptionsVideoAdyoulike.Cast=function(src){if(src){var dst=new IframeOptionsVideoAdyoulike;return IframeOptionsVideoAdyoulike._load(dst,src),dst}},IframeOptionsVideoAdyoulike._load=function(dst,src){dst.PlayerUrl=src.PlayerUrl,dst.PlayerFlashVars=src.PlayerFlashVars,dst.VideoUrl=src.VideoUrl},IframeOptionsVideoAdyoulike}();exports.IframeOptionsVideoAdyoulike=IframeOptionsVideoAdyoulike;var IframeOptionsVideoYoutube=function(){function IframeOptionsVideoYoutube(src){src&&IframeOptionsVideoYoutube._load(this,src)}return IframeOptionsVideoYoutube.Cast=function(src){if(src){var dst=new IframeOptionsVideoYoutube;return IframeOptionsVideoYoutube._load(dst,src),dst}},IframeOptionsVideoYoutube._load=function(dst,src){dst.PlayerUrl=src.PlayerUrl},IframeOptionsVideoYoutube}();exports.IframeOptionsVideoYoutube=IframeOptionsVideoYoutube;var IframeOptions=function(){function IframeOptions(src){src&&IframeOptions._load(this,src)}return IframeOptions.Cast=function(src){if(src){var dst=new IframeOptions;return IframeOptions._load(dst,src),dst}},IframeOptions._load=function(dst,src){_tmp=src.MediumType,dst.MediumType=void 0===_tmp?_tmp:MediumType.Cast(_tmp),dst.OmniTagUrl=src.OmniTagUrl,dst.IframeWidth=src.IframeWidth,dst.IframeHeight=src.IframeHeight,dst.IframeContent=src.IframeContent,dst.CampaignLabel=src.CampaignLabel,dst.PlacementLabel=src.PlacementLabel,dst.CallOptions=src.CallOptions,_tmp=src.ImageAdyoulike,dst.ImageAdyoulike=void 0===_tmp?_tmp:IframeOptionsImageAdyoulike.Cast(_tmp),_tmp=src.VideoAdyoulike,dst.VideoAdyoulike=void 0===_tmp?_tmp:IframeOptionsVideoAdyoulike.Cast(_tmp),_tmp=src.VideoYoutube,dst.VideoYoutube=void 0===_tmp?_tmp:IframeOptionsVideoYoutube.Cast(_tmp)},IframeOptions}();exports.IframeOptions=IframeOptions});
define("js/fo/backend",["require","exports","util/str","util/context","util/vast","omnitag/gostructs","util/informer","util/trigger","util/analytics","lib/jquery","captcha/main","native/main"],function(require,exports,str,ctx,vast,gostructs,informer,trigger,analytics,jquery,captchaMain,nativeMain){function makeSuccessProxy(params,success){function successWrapper1(message){function successWrapper2(message){message=str.TaintObject(message),success&&success(message.Data)}message.Location?(params.url=message.Location,params.success=success?successWrapper2:null,$.ajax(params)):successWrapper2(message)}return successWrapper1}function makeErrorProxy(params,error){function errorProxy(jqXHR,textStatus,errorThrow){if(!errorThrow&&!jqXHR.status)return void informer.MarkMeter("fo.omnitag.error");var err="Ajax "+params.type+(textStatus?" "+textStatus:"")+(jqXHR.status?" "+jqXHR.status:"")+" "+params.url;errorThrow&&(err+="\n"+jqXHR.status+" "+jqXHR.statusText+" - "+errorThrow),void 0!==params.data&&"string"!=typeof params.data&&(err+="\nSENT BODY:\n",err+="object"==typeof JSON&&JSON.stringify?JSON.stringify(params.data):"[data not serializable]"),jqXHR.responseText&&(err+="\nRECEIVED CONTENT:\n"+jqXHR.responseText),informer.Snitch(informer.WARN,err),error&&error()}return errorProxy}function mergeCampaignConfig(config,modifierConfig){var campaignConfig=config;if(campaignConfig.Disabled=modifierConfig.Disabled,campaignConfig.Landings=modifierConfig.Landings,campaignConfig.Clickable=modifierConfig.Clickable,modifierConfig.Skippable&&(campaignConfig.Skippable&&modifierConfig.Skip<campaignConfig.Skip?campaignConfig.Skip=modifierConfig.Skip:(campaignConfig.Skippable=modifierConfig.Skippable,campaignConfig.Skip=modifierConfig.Skip)),modifierConfig.Attachments&&modifierConfig.Attachments.Custom)if(campaignConfig.Attachments.Custom)for(var customAttachmentsKeys=modifierConfig.Attachments.Custom.Keys(),i=0;i<customAttachmentsKeys.length;i++)campaignConfig.Attachments.Custom.Set(customAttachmentsKeys[i],modifierConfig.Attachments.Custom.Get(customAttachmentsKeys[i]));else campaignConfig.Attachments.Custom=modifierConfig.Attachments.Custom;if(modifierConfig.Attachments&&modifierConfig.Attachments.System)if(campaignConfig.Attachments.System)for(var systemAttachmentsKeys=modifierConfig.Attachments.System.Keys(),j=0;j<systemAttachmentsKeys.length;j++)campaignConfig.Attachments.System.Set(systemAttachmentsKeys[j],modifierConfig.Attachments.System.Get(systemAttachmentsKeys[j]));else campaignConfig.Attachments.System=modifierConfig.Attachments.System;if(campaignConfig.OnEvent)for(var onEventKeys=modifierConfig.OnEvent.Keys(),i=0;i<onEventKeys.length;i++)campaignConfig.OnEvent.Set(onEventKeys[i],campaignConfig.OnEvent.Get(onEventKeys[i],[]).concat(modifierConfig.OnEvent.Get(onEventKeys[i])));else campaignConfig.OnEvent=modifierConfig.OnEvent;modifierConfig.HasExtensions&&(campaignConfig.Extensions=modifierConfig.Extensions)}function mergeNativeCampaignConfig(config,modifierConfig){mergeCampaignConfig(config,modifierConfig);var nativeConfig=config;modifierConfig.Materials&&modifierConfig.Materials.length>0&&(nativeConfig.Materials=modifierConfig.Materials),nativeConfig.CarrierDeletable=modifierConfig.CarrierDeletable}function mergeCaptchaCampaignConfig(config,modifierConfig){mergeCampaignConfig(config,modifierConfig)}var $=jquery.jQuery,AjaxBackend=function(){function AjaxBackend(ApiPrefix){this.ApiPrefix=ApiPrefix,this.soldPlacementsMetric=0,this.unsoldPlacementsMetric=0,this.totalPlacementsMetric=0}return AjaxBackend.prototype.OmniTag=function(params,ajaxFunction){var _this=this,referer=document.location.href;parent!==window&&(referer=document.referrer),params.Debug=window.__AYL_DEBUG_UID__||null,params.Origin=document.location.protocol+"//"+document.location.host,params.HasPostMessage=AjaxBackend.HAS_POST_MESSAGE,params.HasHtml5Video=AjaxBackend.HAS_HTML5_VIDEO,params.Url=(""+(params.Url||referer)).substring(0,1500);var success=function(placements){_this.totalPlacementsMetric=placements.length,$(function(){for(var i=0;i<placements.length;i++)_this.pickConfig(placements[i])})};ajaxFunction?ajaxFunction("GET","/omniTag",params,success,null,!0):this.ajax("GET","/omniTag",params,null,success,null,!0)},AjaxBackend.prototype.ajax=function(verb,apiFuncPath,qs,data,success,error,sendCookies,contentType,dataType){var params={url:this.ApiPrefix+apiFuncPath,type:verb,cache:!1,global:!1,dataType:dataType||($.support.cors?"json":"jsonp"),xhrFields:{withCredentials:sendCookies}};if(contentType&&(params.contentType=contentType),qs){var strParams={};for(var k in qs)null!=qs[k]&&(strParams[k]=""+str.UntaintObject(qs[k]));params.url+="?"+str.EncodeURIParams(strParams)}data&&(params.data=data),params.success=makeSuccessProxy(params,success),params.error=makeErrorProxy(params,error),$.ajax(params)},AjaxBackend.prototype.loadGenus=function(config,modifierConfig){var geniusLoader,mergedConfig,campaign,sold,omnitagConfig=gostructs.OmnitagConfig.Cast(config);switch(omnitagConfig.Genus){case gostructs.GenusKind.CAPTCHA:var captchaConfig=gostructs.CaptchaConfig.Cast(config);modifierConfig&&mergeCaptchaCampaignConfig(captchaConfig,modifierConfig),mergedConfig=captchaConfig,geniusLoader=captchaMain.LoadDisabled,captchaConfig.Disabled||(sold=!0,geniusLoader=captchaMain.Load,campaign=captchaConfig.Campaign);break;case gostructs.GenusKind.SPONSOR_POST:case gostructs.GenusKind.AD_TO_CONTENT:case gostructs.GenusKind.NATIVE:var nativeConfig=gostructs.NativeConfig.Cast(config);modifierConfig&&mergeNativeCampaignConfig(nativeConfig,modifierConfig),mergedConfig=nativeConfig,geniusLoader=nativeMain.LoadDisabled,nativeConfig.Disabled||(sold=!0,geniusLoader=nativeMain.Load,campaign=nativeConfig.Campaign);break;default:throw new Error("Unknown Genus: "+omnitagConfig.Genus)}this.updateSoldPlacementsMetric(sold?"sold":"unsold"),campaign?trigger.TriggerEvent(gostructs.EventKind.INVENTORY,mergedConfig,campaign):trigger.TriggerEvent(gostructs.EventKind.INVENTORY,mergedConfig),geniusLoader(mergedConfig)},AjaxBackend.prototype.loadDisabledGenus=function(config){var geniusLoader,castedConfig,omnitagConfig=gostructs.OmnitagConfig.Cast(config);switch(omnitagConfig.Genus){case gostructs.GenusKind.CAPTCHA:castedConfig=gostructs.CaptchaConfig.Cast(config),geniusLoader=captchaMain.LoadDisabled;break;case gostructs.GenusKind.SPONSOR_POST:case gostructs.GenusKind.AD_TO_CONTENT:case gostructs.GenusKind.NATIVE:castedConfig=gostructs.NativeConfig.Cast(config),geniusLoader=nativeMain.LoadDisabled;break;default:throw new Error("Unknown Genus: "+omnitagConfig.Genus)}this.updateSoldPlacementsMetric("unsold"),trigger.TriggerEvent(gostructs.EventKind.INVENTORY,castedConfig),geniusLoader(castedConfig)},AjaxBackend.prototype.pickConfig=function(placementConfigs,currentConfig){var _this=this;if(0==placementConfigs.length)return void this.loadDisabledGenus(currentConfig);var currentConfig=placementConfigs.shift(),omnitagConfig=gostructs.OmnitagConfig.Cast(currentConfig);if(1==omnitagConfig.Disabled)return void this.loadDisabledGenus(currentConfig);var campaignConfig=gostructs.CampaignCommonConfig.Cast(currentConfig);if(campaignConfig.IsLocal)return void this.loadGenus(currentConfig);switch(campaignConfig.DataSource){case gostructs.DataSourceKind.VAST:var vast_success=function(data){var modifier_success=function(data){var modifierConfig=gostructs.ModifierConfig.Cast(data);modifierConfig.Disabled?_this.pickConfig(placementConfigs,currentConfig):_this.loadGenus(currentConfig,modifierConfig)},modifier_error=function(){_this.pickConfig(placementConfigs,currentConfig)},qs=gostructs.ModifierParams.Cast({Source:gostructs.DataSourceKind.VAST.toString(),Origin:document.location.protocol+"//"+document.location.host,Url:document.location.href.substring(0,1500)});_this.ajax("POST","/modifier",qs,data,modifier_success,modifier_error,!0,"text/xml; charset=utf-8","json")},vast_error=function(){_this.pickConfig(placementConfigs,currentConfig)};vast.Get(str.SubstituteTokens(campaignConfig.DataSourceUrl),vast_success,vast_error);break;default:throw new Error("Unknown DataSourceKind: "+campaignConfig.DataSource)}},AjaxBackend.prototype.updateSoldPlacementsMetric=function(value){"sold"==value&&(this.soldPlacementsMetric+=1),"unsold"==value&&(this.unsoldPlacementsMetric+=1),this.soldPlacementsMetric+this.unsoldPlacementsMetric==this.totalPlacementsMetric&&analytics.DeclareInventory(this.soldPlacementsMetric,this.unsoldPlacementsMetric)},AjaxBackend.HAS_POST_MESSAGE=!!window.postMessage,AjaxBackend.HAS_HTML5_VIDEO=!!document.createElement("video").canPlayType,AjaxBackend}();exports.AjaxBackend=AjaxBackend,exports.Backend,ctx.IsOmnitagFirstLoad&&(exports.Backend=new AjaxBackend(ctx.Omnitag.ApiPrefix))});
define("js/fo/util/vast",["require","exports","lib/jquery"],function(require,exports,jquery){function Get(u,success,error){-1!=u.indexOf(document.location.protocol)||$.support.cors||(u=u.replace(/https?:/,document.location.protocol));var params={url:u,type:"GET",global:!1,dataType:"text",xhrFields:{withCredentials:!0}};params.success=success,params.error=error,$.ajax(params)}var $=jquery.jQuery;exports.Get=Get});
define("js/fo/util/trigger",["require","exports","util/str","util/time","util/context","omnitag/gostructs"],function(require,exports,str,time,ctx,gostructs){function TriggerEvent(eventKind,config,campaign){function callTriggers(){executeOnEventsRaw(triggers,firstTime,config.Trusted,config.Disabled),callTimeout&&clearTimeout(callTimeout)}var firstTimeUid=eventKind.toString()+"-"+str.EscapeHTML(config.Attempt);campaign&&(firstTimeUid+="-"+str.EscapeHTML(campaign));var firstTime=!alreadyTriggeredEventsByAttempt[firstTimeUid];alreadyTriggeredEventsByAttempt[firstTimeUid]=!0;var triggers;triggers=config.OnEvent?config.OnEvent.Get(eventKind,[]).slice(0):[];var callTimeout;if(firstTime){var url=str.EscapeHTML(config.ApiPrefix)+"/pixel?event_kind="+eventKind.toString()+"&attempt="+str.EscapeHTML(config.Attempt);campaign&&(url+="&campaign="+str.EscapeHTML(campaign)),callTimeout=setTimeout(callTriggers,2500),send("img",url,callTriggers)}else callTriggers()}function executeOnEventsRaw(triggers,firstTime,trusted,hasNoCampaign){if(triggers&&0!=triggers.length){for(var isolatedPixelURLs=(Math.floor((new Date).getTime()/1e3).toString(),[]),integratedPixelURLs=[],isolatedScriptURLs=[],integratedScriptURLs=[],isolatedScriptCodes=[],integratedScriptCodes=[],i=0;i<triggers.length;i++){var trigger=triggers[i];if(trigger&&(firstTime||!trigger.OncePerAttempt)){switch(trigger.Guard){case gostructs.OnEventGuardKind.ALWAYS:break;case gostructs.OnEventGuardKind.HAVE_CAMPAIGN:if(hasNoCampaign)continue;break;case gostructs.OnEventGuardKind.NO_CAMPAIGN:if(!hasNoCampaign)continue;break;default:throw new Error("Unknown Guard type")}switch(trigger.Kind){case gostructs.OnEventKind.PIXEL_URL:trigger.Isolated?isolatedPixelURLs.push(trigger.Url):integratedPixelURLs.push(trigger.Url);break;case gostructs.OnEventKind.JAVASCRIPT_URL:trigger.Isolated?isolatedScriptURLs.push(trigger.Url):integratedScriptURLs.push(trigger.Url);break;case gostructs.OnEventKind.JAVASCRIPT_CODE:trigger.Isolated?isolatedScriptCodes.push(trigger.Code):integratedScriptCodes.push(trigger.Code);break;default:throw new Error("Unknown OnEvent type")}}}executeOnEventsOfOneKind(gostructs.OnEventKind.PIXEL_URL,isolatedPixelURLs,!0,trusted),executeOnEventsOfOneKind(gostructs.OnEventKind.PIXEL_URL,integratedPixelURLs,!1,trusted),executeOnEventsOfOneKind(gostructs.OnEventKind.JAVASCRIPT_URL,isolatedScriptURLs,!0,trusted),executeOnEventsOfOneKind(gostructs.OnEventKind.JAVASCRIPT_URL,integratedScriptURLs,!1,trusted),executeOnEventsOfOneKind(gostructs.OnEventKind.JAVASCRIPT_CODE,isolatedScriptCodes,!0,trusted),executeOnEventsOfOneKind(gostructs.OnEventKind.JAVASCRIPT_CODE,integratedScriptCodes,!1,trusted)}}function executeOnEventsOfOneKind(eventKind,content,isolated,trusted){if(0!==content.length){content=content.slice(0);for(var i=0;i<content.length;i++)content[i]=str.Untaint(content[i]);var pushedElements=[];if(isolated){var iframe=document.createElement("iframe");iframe.sandbox="allow-same-origin allow-scripts",iframe.style.position="absolute",iframe.style.left="-9999px",iframe.style.width="1px",iframe.style.height="1px",iframe.style.display="block";var iframeParams;switch(eventKind){case gostructs.OnEventKind.PIXEL_URL:for(var i=0;i<content.length;i++)content[i]=str.EncodeURIComponent(content[i]);iframeParams={type:"pxurl",urls:content.join(",")};break;case gostructs.OnEventKind.JAVASCRIPT_URL:if(!trusted)throw new Error("This browser does not have enough security features to allow the execution of this code");for(var i=0;i<content.length;i++)content[i]=str.EncodeURIComponent(content[i]);iframeParams={type:"jsurl",urls:content.join(",")};break;case gostructs.OnEventKind.JAVASCRIPT_CODE:if(!trusted)throw new Error("This browser does not have enough security features to allow the execution of this code");for(var i=0;i<content.length;i++)content[i]=str.EncodeURIComponent(content[i]);iframeParams={type:"jscode",codes:content.join(",")};break;default:throw new Error("Unknown OnEvent type")}iframeParams.rnd=Math.random().toString().substring(2),iframe.src=ctx.Omnitag.SandboxPrefix+"/fo/sb#"+str.EncodeURIParams(iframeParams),document.body.appendChild(iframe),pushedElements.push(iframe)}else switch(eventKind){case gostructs.OnEventKind.PIXEL_URL:for(var i=0;i<content.length;i++)pushedElements.push(send("img",content[i]));break;case gostructs.OnEventKind.JAVASCRIPT_URL:if(!trusted)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(var i=0;i<content.length;i++)pushedElements.push(send("script",content[i]));break;case gostructs.OnEventKind.JAVASCRIPT_CODE:if(!trusted)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(var i=0;i<content.length;i++){var f=new Function(content[i]);setTimeout(f,1)}break;default:throw new Error("Unknown OnEvent type")}if(pushedElements.length>0){var timer=new time.Timer({callback:function(){for(var i=0;i<pushedElements.length;i++)pushedElements[i].parentNode&&pushedElements[i].parentNode.removeChild(pushedElements[i])},delay:1e4});timer.Start()}}}function send(tagName,url,callback){var el;switch(tagName){case"script":var sc=document.createElement("script");sc.async=!0,sc.charset="UTF-8",sc.src=url,el=sc;break;case"img":var img=document.createElement("img");img.setAttribute("style","position:absolute; left:-9999px; width:1px; height:1px; display:block;"),img.src=url,el=img}return el.onload=el.onreadystatechange=function(_,isAbort){(isAbort||!el.readyState||/loaded|complete/.test(el.readyState))&&(el.onload=el.onreadystatechange=null,el.parentNode&&el.parentNode.removeChild(el),el=null,callback&&callback())},document.body.insertBefore(el,document.body.firstChild),el}var alreadyTriggeredEventsByAttempt={};exports.TriggerEvent=TriggerEvent});
define("js/util/time",["require","exports"],function(require,exports){var Timer=function(){function Timer(params){this.timer=null,this.Callback=params.callback,this.delay=params.delay,this.count=null==params.count?1:params.count,this.finishCallback=params.finishCallback}return Timer.prototype.loop=function(){var _this=this;null!=this.timer&&window.clearTimeout(this.timer),this.timer=setTimeout(function(){_this.remaining_count-=1;var looping=_this.remaining_count>0||0==_this.count;looping&&_this.loop(),_this.Callback(),looping||_this.finishCallback&&_this.finishCallback()},this.delay)},Timer.prototype.Start=function(){this.remaining_count=this.count,this.loop()},Timer.prototype.Stop=function(){null!=this.timer&&window.clearTimeout(this.timer)},Timer}();exports.Timer=Timer;var Waiter=function(){function Waiter(params){this.Condition=params.condition,this.delay=null==params.delay?50:params.delay,this.callback=params.callback,this.timeout=params.timeout,this.timeoutCallback=params.timeoutCallback,this.waitingCallback=params.waitingCallback}return Waiter.prototype.Start=function(){var _this=this,conditionResult=!1;try{conditionResult=this.Condition()}catch(_error){}return conditionResult?void this.callback():(this.waitingCallback&&this.waitingCallback(),this.timeout&&(this.timeoutTimer=new Timer({callback:function(){_this.timer.Stop(),_this.timeoutCallback&&_this.timeoutCallback()},delay:this.timeout,count:1}),this.timeoutTimer.Start()),this.timer=new Timer({callback:function(){var timerConditionResult=!1;try{timerConditionResult=_this.Condition()}catch(_error){}timerConditionResult&&(_this.timer.Stop(),_this.timeoutTimer&&_this.timeoutTimer.Stop(),_this.callback&&_this.callback())},delay:this.delay||50,count:0}),this.timer.Start(),void 0)},Waiter.prototype.Stop=function(){this.timer&&this.timer.Stop(),this.timeoutTimer&&this.timeoutTimer.Stop()},Waiter}();exports.Waiter=Waiter});
define("js/fo/util/analytics",["require","exports","context","util/str"],function(require,exports,ctx,str){function bootstrap(){if(!tracker){var gaOjectName="_ayl_ga";!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js",gaOjectName),tracker=new Tracker(gaOjectName)}}function SendPageview(){ctx.Omnitag.Analytics&&(bootstrap(),tracker.Send("pageview"))}function DeclareInventory(sold,unsold){ctx.Omnitag.Analytics&&(bootstrap(),sold>0&&tracker.Send("event",{eventCategory:"Inventory",eventAction:"Sold",eventValue:sold}),unsold>0&&tracker.Send("event",{eventCategory:"Inventory",eventAction:"Unsold",eventValue:unsold}),(sold>0||unsold>0)&&tracker.Send("event",{eventCategory:"Inventory",eventAction:"Available",eventValue:sold+unsold}))}function DeclareInsertionSuccess(config){ctx.Omnitag.Analytics&&(bootstrap(),tracker.Send("event",{eventCategory:"Placement sold",eventAction:str.Untaint(config.Placement).substring(0,10)+" - "+str.Untaint(config.PlacementName).substring(0,80),eventValue:1}),tracker.Send("event",{eventCategory:"Campaign displayed",eventAction:str.Untaint(config.Campaign).substring(0,10)+" - "+str.Untaint(config.CampaignName).substring(0,80),eventValue:1}))}function DeclareInsertionFailure(config){ctx.Omnitag.Analytics&&(bootstrap(),tracker.Send("event",{eventCategory:"Placement unsold",eventAction:str.Untaint(config.Placement).substring(0,10)+" - "+str.Untaint(config.PlacementName).substring(0,80),eventValue:1}))}var tracker,Tracker=function(){function Tracker(gaObjectName){this.gaObjectName=gaObjectName,this.trackerName="_ayl_ga_t",window[this.gaObjectName]("create",{trackingId:"UA-49256715-1",sampleRate:10,siteSpeedSampleRate:0,allowAnchor:!1,cookieName:"_ayl_ga",cookieDomain:"auto",name:this.trackerName,alwaysSendReferrer:!0,referrer:""+window.location}),window[this.gaObjectName](this.trackerName+".require","displayfeatures",void 0,{cookieName:"_ayl_ga_dc"})}return Tracker.prototype.Send=function(hitType,params){window[this.gaObjectName](this.trackerName+".send",hitType,params)},Tracker}();exports.SendPageview=SendPageview,exports.DeclareInventory=DeclareInventory,exports.DeclareInsertionSuccess=DeclareInsertionSuccess,exports.DeclareInsertionFailure=DeclareInsertionFailure});
define("js/fo/captcha/main",["require","exports","iframe","lib/jquery","engine"],function(require,exports,iframe,jquery,engine){function Load(config){engine.New(config).Enter()}function LoadDisabled(config){engine.NewDisabled(config).Enter()}jquery.jQuery;exports.Load=Load,exports.LoadDisabled=LoadDisabled});
define("js/fo/captcha/iframe",["require","exports","omnitag/gostructs","iframe/video_youtube","iframe/video_adyoulike"],function(require,exports,gostructs,iframe_video_youtube,iframe_video_adyoulike){function Call(mediumTypeStr,options){var mediumType=gostructs.MediumType.Cast(mediumTypeStr);switch(mediumType){case gostructs.MediumType.IMAGE_ADYOULIKE:break;case gostructs.MediumType.VIDEO_ADYOULIKE:iframe_video_adyoulike.Call(gostructs.IframeOptionsVideoAdyoulike.Cast(options));break;case gostructs.MediumType.VIDEO_YOUTUBE:iframe_video_youtube.Call(gostructs.IframeOptionsVideoYoutube.Cast(options));break;default:throw new Error("Unknown MediumType: "+mediumType)}}exports.Call=Call});
define("js/fo/captcha/iframe/video_youtube",["require","exports","js/lib/xdm","xdm","util/time","lib/jquery"],function(require,exports,xdm,xdmapi,time,jquery){function Call(params){var controller=new VideoYoutubeController(params);controller.Init()}var $=jquery.jQuery;exports.Call=Call;var VideoYoutubeController=function(){function VideoYoutubeController(params){this.Params=params}return VideoYoutubeController.prototype.Init=function(){var _this=this;xdm.ListenParent(this,xdmapi.API_CAPTCHA_VIDEO_DOWN),this.apiUp=xdm.ConnectParent(xdmapi.XDMApiCaptchaVideoUp,xdmapi.API_CAPTCHA_VIDEO_UP);var waitForHookElement=new time.Waiter({condition:function(){return _this.youtubeObject=$("#videoplayer")[0],null!=_this.youtubeObject&&null!==_this.youtubeObject.getPlayerState&&"undefined"!=typeof _this.youtubeObject.getPlayerState},callback:function(){var videoStateUpdater=new time.Timer({count:0,delay:250,callback:function(){_this.update()}});videoStateUpdater.Start();var youtubeStateUpdateName="ayl_youtube_state_updater_"+Math.random().toString().substring(2);window[youtubeStateUpdateName]=function(){_this.update()},_this.youtubeObject.addEventListener("onStateChange",youtubeStateUpdateName)}});waitForHookElement.Start()},VideoYoutubeController.prototype.update=function(){var currentTime=this.youtubeObject.getCurrentTime?this.youtubeObject.getCurrentTime():0,duration=this.youtubeObject.getDuration?this.youtubeObject.getDuration():0,downloadPosition=this.youtubeObject.getVideoBytesLoaded?this.youtubeObject.getVideoBytesLoaded():0,downloadTotal=this.youtubeObject.getVideoBytesTotal?this.youtubeObject.getVideoBytesTotal():0,muted=this.youtubeObject.isMuted?this.youtubeObject.isMuted():!1,state=this.youtubeObject.getPlayerState?this.youtubeObject.getPlayerState():null,progress={TimePosition:1e3*currentTime,TimeTotal:1e3*duration,DownloadPosition:downloadPosition,DownloadTotal:downloadTotal};this.updateProgress(progress),this.updateMuted(muted),this.updateState(state)},VideoYoutubeController.prototype.updateState=function(stateNumber){if(null!=stateNumber&&this.previousStateNumber!==stateNumber){this.previousStateNumber=stateNumber;var state=[0,4,2,3,1,0][stateNumber+1];this.apiUp.SetState(state)}},VideoYoutubeController.prototype.updateMuted=function(muted){this.previousMuted!==muted&&(this.previousMuted=muted,this.apiUp.SetMuted(muted))},VideoYoutubeController.prototype.updateProgress=function(progress){this.previousProgress&&this.previousProgress.TimePosition===progress.TimePosition&&this.previousProgress.TimeTotal===progress.TimeTotal&&this.previousProgress.DownloadPosition===progress.DownloadPosition&&this.previousProgress.DownloadTotal===progress.DownloadTotal||(this.previousProgress=progress,this.apiUp.SetProgress(progress))},VideoYoutubeController.prototype.Play=function(){this.youtubeObject.playVideo(),this.update()},VideoYoutubeController.prototype.Pause=function(){this.youtubeObject.pauseVideo(),this.update()},VideoYoutubeController.prototype.Mute=function(){this.youtubeObject.mute(),this.update()},VideoYoutubeController.prototype.Unmute=function(){this.youtubeObject.unMute(),this.update()},VideoYoutubeController}()});
define("js/lib/xdm",["require","exports","util/str","structs","lib/jquery","lib/json3"],function(require,exports,str,structs,jquery,json3){function getWindowEntry(w){var entry=windowEntries.Get(w);return entry||(entry={localApis:{},localApiQueues:{},remoteOrigin:null,commandQueue:[],helloReceived:!1},windowEntries.Set(w,entry)),entry}function ListenParent(apiInstance,id){if(window.parent===window)throw new Error("Can't listen to parent, since this window has not parent");sendHelloOnce(),listen(apiInstance,id,window.parent)}function ListenIframe(apiInstance,id,iframe){sendHelloOnce(),listen(apiInstance,id,iframe.contentWindow)}function listen(apiInstance,id,targetWindow){var entry=getWindowEntry(targetWindow);if(entry.localApis[id])throw new Error("Api "+id+" is already listening");entry.localApis[id]=apiInstance;var apiQueue=entry.localApiQueues[id];if(apiQueue){delete entry.localApiQueues[id];for(var i=0;i<apiQueue.length;i++){var msg=apiQueue[i],f=apiInstance[str.Untaint(msg.funcName)];if(!f)throw new Error("Function not found: "+str.Untaint(msg.funcName));f.apply(apiInstance,msg.args)}}}function ConnectParent(apiClass,id){if(window.parent===window)throw new Error("Can't connect to parent, since this window has not parent");return connect(apiClass,id,window.parent)}function ConnectIframe(apiClass,id,iframe){return connect(apiClass,id,iframe.contentWindow)}function connect(apiClass,id,targetWindow){var srcApi=(getWindowEntry(targetWindow),new apiClass),proxyApi={};for(var funcName in srcApi){var firstLetter=funcName.substring(0,1);"function"==typeof srcApi[funcName]&&firstLetter.toUpperCase()==firstLetter&&!function(funcName){proxyApi[funcName]=function(){var msg={id:id,funcName:funcName,args:[].slice.call(arguments)};sendCommand(targetWindow,_COMMAND_CALL,msg)}}(funcName)}return proxyApi}function sendCommand(w,command,msg){var entry=windowEntries.Get(w);entry.commandQueue?entry.commandQueue.push({command:command,msg:msg}):postMessage(w,[command,msg],entry.remoteOrigin)}function postMessage(w,data,targetOrigin){w.postMessage(_POSTMESSAGE_PREFIX+json3.JSON.stringify(data),targetOrigin)}function onMessage(event){if("string"==typeof event.data&&event.data.substring(0,_POSTMESSAGE_PREFIX.length)==_POSTMESSAGE_PREFIX){var data=json3.JSON.parse(event.data.substring(_POSTMESSAGE_PREFIX.length));data=str.TaintObject(data);var command=str.EscapeHTML(data[0]),entry=getWindowEntry(event.source);switch(command){case _COMMAND_HELLO:entry.helloReceived||(entry.helloReceived=!0,entry.remoteOrigin=event.origin,postMessage(event.source,[_COMMAND_WELCOME],event.origin),emptyEntryCommandQueue(event.source,entry));break;case _COMMAND_WELCOME:parentOrigin||(entry.remoteOrigin=parentOrigin=event.origin,emptyEntryCommandQueue(event.source,entry));break;case _COMMAND_CALL:var msg=data[1];if(entry.remoteOrigin!==event.origin)throw new Error("Origin should be "+entry.remoteOrigin+", but is:"+event.origin);var msgid=str.EscapeHTML(msg.id),api=entry.localApis[msgid];if(api){var f=api[str.EscapeHTML(msg.funcName)];if(!f)throw new Error("Function not found: "+str.EscapeHTML(msg.funcName));f.apply(api,msg.args)}else{var queue=entry.localApiQueues[msgid];queue||(queue=[],entry.localApiQueues[msgid]=queue),queue.push(msg)}break;default:throw new Error("Unknown command: "+command)}}}function emptyEntryCommandQueue(source,entry){var queue=entry.commandQueue;if(queue){entry.commandQueue=null;for(var i=0;i<queue.length;i++)sendCommand(source,queue[i].command,queue[i].msg)}}function sendHelloOnce(){helloSent||(helloSent=!0,postMessage(window.parent,[_COMMAND_HELLO],"*"))}function attachListenerOnce(){isListenerAttached||(isListenerAttached=!0,window.attachEvent?window.attachEvent("onmessage",onMessage):window.addEventListener("message",onMessage))}var parentOrigin,_POSTMESSAGE_PREFIX=(jquery.jQuery,"KjJNYPFqsUDUARyMxojG"),_COMMAND_HELLO="HELLO",_COMMAND_WELCOME="WELCOME",_COMMAND_CALL="CALL",windowEntries=new structs.Mapper;exports.ListenParent=ListenParent,exports.ListenIframe=ListenIframe,exports.ConnectParent=ConnectParent,exports.ConnectIframe=ConnectIframe;var helloSent=!1,isListenerAttached=!1;attachListenerOnce()});
define("js/lib/structs",["require","exports"],function(require,exports){var Mapper=function(){function Mapper(){this.keys=[],this.values=[]}return Mapper.legacyIndexOf=function(key){for(var keys=this,i=0;i<keys.length;i++)if(keys[i]===key)return i;return-1},Mapper.prototype.Get=function(key){var i=Mapper.indexOf.call(this.keys,key);return 0>i?void 0:this.values[i]},Mapper.prototype.Has=function(key){return Mapper.indexOf.call(this.keys,key)>=0},Mapper.prototype.Set=function(key,value){var i=Mapper.indexOf.call(this.keys,key);0>i&&(i=this.keys.length),this.keys[i]=key,this.values[i]=value},Mapper.prototype.Delete=function(key){var i=Mapper.indexOf.call(this.keys,key);return 0>i?!1:(this.keys.splice(i,1),this.values.splice(i,1),!0)},Mapper.indexOf=[].indexOf||Mapper.legacyIndexOf,Mapper}();exports.Mapper=Mapper});
define("js/lib/json3",["require","exports","./json3/json3-src"],function(require,exports,src){return{JSON:src}});
define("js/lib/json3/json3-src",["require","exports"],function(require,exports){(function(){function runInContext(context,exports){function has(name){if(has[name]!==undef)return has[name];var isSupported;if("bug-string-char-index"==name)isSupported="a"!="a"[0];else if("json"==name)isSupported=has("json-stringify")&&has("json-parse");else{var value,serialized='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==name){var stringify=exports.stringify,stringifySupported="function"==typeof stringify&&isExtended;if(stringifySupported){(value=function(){return 1}).toJSON=value;try{stringifySupported="0"===stringify(0)&&"0"===stringify(new Number)&&'""'==stringify(new String)&&stringify(getClass)===undef&&stringify(undef)===undef&&stringify()===undef&&"1"===stringify(value)&&"[1]"==stringify([value])&&"[null]"==stringify([undef])&&"null"==stringify(null)&&"[null,null,null]"==stringify([undef,getClass,null])&&stringify({a:[value,!0,!1,null,"\x00\b\n\f\r	"]})==serialized&&"1"===stringify(null,value)&&"[\n 1,\n 2\n]"==stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==stringify(new Date(-1))}catch(exception){stringifySupported=!1}}isSupported=stringifySupported}if("json-parse"==name){var parse=exports.parse;if("function"==typeof parse)try{if(0===parse("0")&&!parse(!1)){value=parse(serialized);var parseSupported=5==value.a.length&&1===value.a[0];if(parseSupported){try{parseSupported=!parse('"	"')}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("01")}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("1.")}catch(exception){}}}}catch(exception){parseSupported=!1}isSupported=parseSupported}}return has[name]=!!isSupported}context||(context=root.Object()),exports||(exports=root.Object());var Number=context.Number||root.Number,String=context.String||root.String,Object=context.Object||root.Object,Date=context.Date||root.Date,SyntaxError=context.SyntaxError||root.SyntaxError,TypeError=context.TypeError||root.TypeError,Math=context.Math||root.Math,nativeJSON=context.JSON||root.JSON;"object"==typeof nativeJSON&&nativeJSON&&(exports.stringify=nativeJSON.stringify,exports.parse=nativeJSON.parse);var isProperty,forEach,undef,objectProto=Object.prototype,getClass=objectProto.toString,isExtended=new Date(-0xc782b5b800cec);try{isExtended=-109252==isExtended.getUTCFullYear()&&0===isExtended.getUTCMonth()&&1===isExtended.getUTCDate()&&10==isExtended.getUTCHours()&&37==isExtended.getUTCMinutes()&&6==isExtended.getUTCSeconds()&&708==isExtended.getUTCMilliseconds()}catch(exception){}if(!has("json")){var functionClass="[object Function]",dateClass="[object Date]",numberClass="[object Number]",stringClass="[object String]",arrayClass="[object Array]",booleanClass="[object Boolean]",charIndexBuggy=has("bug-string-char-index");if(!isExtended)var floor=Math.floor,Months=[0,31,59,90,120,151,181,212,243,273,304,334],getDay=function(year,month){return Months[month]+365*(year-1970)+floor((year-1969+(month=+(month>1)))/4)-floor((year-1901+month)/100)+floor((year-1601+month)/400)};if((isProperty=objectProto.hasOwnProperty)||(isProperty=function(property){var constructor,members={};return(members.__proto__=null,members.__proto__={toString:1},members).toString!=getClass?isProperty=function(property){var original=this.__proto__,result=property in(this.__proto__=null,this);return this.__proto__=original,result}:(constructor=members.constructor,isProperty=function(property){var parent=(this.constructor||constructor).prototype;return property in this&&!(property in parent&&this[property]===parent[property])}),members=null,isProperty.call(this,property)}),forEach=function(object,callback){var Properties,members,property,size=0;(Properties=function(){this.valueOf=0}).prototype.valueOf=0,members=new Properties;for(property in members)isProperty.call(members,property)&&size++;return Properties=members=null,size?forEach=2==size?function(object,callback){var property,members={},isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||isProperty.call(members,property)||!(members[property]=1)||!isProperty.call(object,property)||callback(property)}:function(object,callback){var property,isConstructor,isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||!isProperty.call(object,property)||(isConstructor="constructor"===property)||callback(property);(isConstructor||isProperty.call(object,property="constructor"))&&callback(property)}:(members=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],forEach=function(object,callback){var property,length,isFunction=getClass.call(object)==functionClass,hasProperty=!isFunction&&"function"!=typeof object.constructor&&objectTypes[typeof object.hasOwnProperty]&&object.hasOwnProperty||isProperty;for(property in object)isFunction&&"prototype"==property||!hasProperty.call(object,property)||callback(property);for(length=members.length;property=members[--length];hasProperty.call(object,property)&&callback(property));}),forEach(object,callback)},!has("json-stringify")){var Escapes={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},leadingZeroes="000000",toPaddedString=function(width,value){return(leadingZeroes+(value||0)).slice(-width)},unicodePrefix="\\u00",quote=function(value){for(var result='"',index=0,length=value.length,useCharIndex=!charIndexBuggy||length>10,symbols=useCharIndex&&(charIndexBuggy?value.split(""):value);length>index;index++){var charCode=value.charCodeAt(index);switch(charCode){case 8:case 9:case 10:case 12:case 13:case 34:case 92:result+=Escapes[charCode];break;default:if(32>charCode){result+=unicodePrefix+toPaddedString(2,charCode.toString(16));break}result+=useCharIndex?symbols[index]:value.charAt(index)}}return result+'"'},serialize=function(property,object,callback,properties,whitespace,indentation,stack){var value,className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,result;try{value=object[property]}catch(exception){}if("object"==typeof value&&value)if(className=getClass.call(value),className!=dateClass||isProperty.call(value,"toJSON"))"function"==typeof value.toJSON&&(className!=numberClass&&className!=stringClass&&className!=arrayClass||isProperty.call(value,"toJSON"))&&(value=value.toJSON(property));else if(value>-1/0&&1/0>value){if(getDay){for(date=floor(value/864e5),year=floor(date/365.2425)+1970-1;getDay(year+1,0)<=date;year++);for(month=floor((date-getDay(year,0))/30.42);getDay(year,month+1)<=date;month++);date=1+date-getDay(year,month),time=(value%864e5+864e5)%864e5,hours=floor(time/36e5)%24,minutes=floor(time/6e4)%60,seconds=floor(time/1e3)%60,milliseconds=time%1e3}else year=value.getUTCFullYear(),month=value.getUTCMonth(),date=value.getUTCDate(),hours=value.getUTCHours(),minutes=value.getUTCMinutes(),seconds=value.getUTCSeconds(),milliseconds=value.getUTCMilliseconds();value=(0>=year||year>=1e4?(0>year?"-":"+")+toPaddedString(6,0>year?-year:year):toPaddedString(4,year))+"-"+toPaddedString(2,month+1)+"-"+toPaddedString(2,date)+"T"+toPaddedString(2,hours)+":"+toPaddedString(2,minutes)+":"+toPaddedString(2,seconds)+"."+toPaddedString(3,milliseconds)+"Z"}else value=null;if(callback&&(value=callback.call(object,property,value)),null===value)return"null";if(className=getClass.call(value),className==booleanClass)return""+value;if(className==numberClass)return value>-1/0&&1/0>value?""+value:"null";if(className==stringClass)return quote(""+value);if("object"==typeof value){for(length=stack.length;length--;)if(stack[length]===value)throw TypeError();if(stack.push(value),results=[],prefix=indentation,indentation+=whitespace,className==arrayClass){for(index=0,length=value.length;length>index;index++)element=serialize(index,value,callback,properties,whitespace,indentation,stack),results.push(element===undef?"null":element);result=results.length?whitespace?"[\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"]":"["+results.join(",")+"]":"[]"}else forEach(properties||value,function(property){var element=serialize(property,value,callback,properties,whitespace,indentation,stack);element!==undef&&results.push(quote(property)+":"+(whitespace?" ":"")+element)}),result=results.length?whitespace?"{\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"}":"{"+results.join(",")+"}":"{}";return stack.pop(),result}};exports.stringify=function(source,filter,width){var whitespace,callback,properties,className;if(objectTypes[typeof filter]&&filter)if((className=getClass.call(filter))==functionClass)callback=filter;else if(className==arrayClass){properties={};for(var value,index=0,length=filter.length;length>index;value=filter[index++],className=getClass.call(value),(className==stringClass||className==numberClass)&&(properties[value]=1));}if(width)if((className=getClass.call(width))==numberClass){if((width-=width%1)>0)for(whitespace="",width>10&&(width=10);whitespace.length<width;whitespace+=" ");}else className==stringClass&&(whitespace=width.length<=10?width:width.slice(0,10));return serialize("",(value={},value[""]=source,value),callback,properties,whitespace,"",[])}}if(!has("json-parse")){var Index,Source,fromCharCode=String.fromCharCode,Unescapes={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},abort=function(){throw Index=Source=null,SyntaxError()},lex=function(){for(var value,begin,position,isSigned,charCode,source=Source,length=source.length;length>Index;)switch(charCode=source.charCodeAt(Index)){case 9:case 10:case 13:case 32:Index++;break;case 123:case 125:case 91:case 93:case 58:case 44:return value=charIndexBuggy?source.charAt(Index):source[Index],Index++,value;case 34:for(value="@",Index++;length>Index;)if(charCode=source.charCodeAt(Index),32>charCode)abort();else if(92==charCode)switch(charCode=source.charCodeAt(++Index)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:value+=Unescapes[charCode],Index++;break;case 117:for(begin=++Index,position=Index+4;position>Index;Index++)charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode||charCode>=97&&102>=charCode||charCode>=65&&70>=charCode||abort();value+=fromCharCode("0x"+source.slice(begin,Index));break;default:abort()}else{if(34==charCode)break;for(charCode=source.charCodeAt(Index),begin=Index;charCode>=32&&92!=charCode&&34!=charCode;)charCode=source.charCodeAt(++Index);value+=source.slice(begin,Index)}if(34==source.charCodeAt(Index))return Index++,value;abort();default:if(begin=Index,45==charCode&&(isSigned=!0,charCode=source.charCodeAt(++Index)),charCode>=48&&57>=charCode){for(48==charCode&&(charCode=source.charCodeAt(Index+1),charCode>=48&&57>=charCode)&&abort(),isSigned=!1;length>Index&&(charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode);Index++);if(46==source.charCodeAt(Index)){for(position=++Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}if(charCode=source.charCodeAt(Index),101==charCode||69==charCode){for(charCode=source.charCodeAt(++Index),(43==charCode||45==charCode)&&Index++,position=Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}return+source.slice(begin,Index)}if(isSigned&&abort(),"true"==source.slice(Index,Index+4))return Index+=4,!0;if("false"==source.slice(Index,Index+5))return Index+=5,!1;if("null"==source.slice(Index,Index+4))return Index+=4,null;abort()}return"$"},get=function(value){var results,hasMembers;if("$"==value&&abort(),"string"==typeof value){if("@"==(charIndexBuggy?value.charAt(0):value[0]))return value.slice(1);if("["==value){for(results=[];value=lex(),"]"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"]"==value&&abort()):abort()),","==value&&abort(),results.push(get(value));return results}if("{"==value){for(results={};value=lex(),"}"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"}"==value&&abort()):abort()),(","==value||"string"!=typeof value||"@"!=(charIndexBuggy?value.charAt(0):value[0])||":"!=lex())&&abort(),results[value.slice(1)]=get(lex());return results}abort()}return value},update=function(source,property,callback){var element=walk(source,property,callback);element===undef?delete source[property]:source[property]=element},walk=function(source,property,callback){var length,value=source[property];if("object"==typeof value&&value)if(getClass.call(value)==arrayClass)for(length=value.length;length--;)update(value,length,callback);else forEach(value,function(property){update(value,property,callback)});return callback.call(source,property,value)};exports.parse=function(source,callback){var result,value;return Index=0,Source=""+source,result=get(lex()),"$"!=lex()&&abort(),Index=Source=null,callback&&getClass.call(callback)==functionClass?walk((value={},value[""]=result,value),"",callback):result}}}return exports.runInContext=runInContext,exports}var isLoader="function"==typeof define&&define.amd,objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,root=objectTypes[typeof window]&&window||this,freeGlobal=freeExports&&objectTypes[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal),freeExports&&!isLoader)runInContext(root,freeExports);else{var nativeJSON=root.JSON,previousJSON=root.JSON3,isRestored=!1,JSON3=runInContext(root,root.JSON3={noConflict:function(){return isRestored||(isRestored=!0,root.JSON=nativeJSON,root.JSON3=previousJSON,nativeJSON=previousJSON=null),JSON3}});root.JSON={parse:JSON3.parse,stringify:JSON3.stringify}}isLoader&&define(function(){return{JSON:JSON3}})}).call(this)});
define("js/fo/captcha/xdm",["require","exports"],function(require,exports){function ni(){throw new Error("Not implemented, virtual class")}!function(VideoState){VideoState[VideoState.READY=0]="READY",VideoState[VideoState.BUFFERING=1]="BUFFERING",VideoState[VideoState.PLAYING=2]="PLAYING",VideoState[VideoState.PAUSED=3]="PAUSED",VideoState[VideoState.FINISHED=4]="FINISHED"}(exports.VideoState||(exports.VideoState={}));exports.VideoState;exports.API_CAPTCHA_VIDEO_UP="API_CAPTCHA_VIDEO_UP";var XDMApiCaptchaVideoUp=function(){function XDMApiCaptchaVideoUp(){}return XDMApiCaptchaVideoUp.prototype.SetProgress=function(){ni()},XDMApiCaptchaVideoUp.prototype.SetMuted=function(){ni()},XDMApiCaptchaVideoUp.prototype.SetState=function(){ni()},XDMApiCaptchaVideoUp}();exports.XDMApiCaptchaVideoUp=XDMApiCaptchaVideoUp,exports.API_CAPTCHA_VIDEO_DOWN="API_CAPTCHA_VIDEO_DOWN";var XDMApiCaptchaVideoDown=function(){function XDMApiCaptchaVideoDown(){}return XDMApiCaptchaVideoDown.prototype.Play=function(){ni()},XDMApiCaptchaVideoDown.prototype.Pause=function(){ni()},XDMApiCaptchaVideoDown.prototype.Mute=function(){ni()},XDMApiCaptchaVideoDown.prototype.Unmute=function(){ni()},XDMApiCaptchaVideoDown}();exports.XDMApiCaptchaVideoDown=XDMApiCaptchaVideoDown});
define("js/fo/captcha/iframe/video_adyoulike",["require","exports","js/lib/xdm","xdm","util/str","lib/jquery"],function(require,exports,xdm,xdmapi,str,jquery){function Call(params){var controller=new VideoAdyoulikeController(params);controller.Init()}var $=jquery.jQuery,DEFAULT_VOLUME=100;exports.Call=Call;var VideoAdyoulikeController=function(){function VideoAdyoulikeController(params){this.hasFinished=!1,this.Params=params}return VideoAdyoulikeController.prototype.Init=function(){var _this=this;xdm.ListenParent(this,xdmapi.API_CAPTCHA_VIDEO_DOWN),this.apiUp=xdm.ConnectParent(xdmapi.XDMApiCaptchaVideoUp,xdmapi.API_CAPTCHA_VIDEO_UP),this.videoListener={onClick:function(){},onKeyUp:function(){},onFlashInit:function(){},onInit:function(){_this.videoPlayer=$("#videoplayer")[0],_this.videoPlayer.SetVariable("method:setUrl",str.Untaint(_this.Params.VideoUrl)),_this.update()},onFinished:function(){_this.hasFinished=!0,_this.update()},onUpdate:function(){_this.update()}},window.ayl_video_listener=this.videoListener},VideoAdyoulikeController.prototype.update=function(){var progress={TimePosition:parseInt(this.videoListener.position,10),TimeTotal:parseInt(this.videoListener.duration,10),DownloadPosition:parseInt(this.videoListener.bytesLoaded,10),DownloadTotal:parseInt(this.videoListener.bytesTotal,10)};this.updateProgress(progress),this.updateMuted("0"==this.videoListener.volume);var state;state=this.hasFinished?4:"true"==this.videoListener.isPlaying?progress.TimePosition>0?2:1:progress.TimeTotal>0?3:0,this.updateState(state)},VideoAdyoulikeController.prototype.updateState=function(state){null!=state&&this.previousState!==state&&(this.previousState=state,this.apiUp.SetState(state))},VideoAdyoulikeController.prototype.updateMuted=function(muted){this.previousMuted!==muted&&(this.previousMuted=muted,this.apiUp.SetMuted(muted))},VideoAdyoulikeController.prototype.updateProgress=function(progress){this.previousProgress&&this.previousProgress.TimePosition===progress.TimePosition&&this.previousProgress.TimeTotal===progress.TimeTotal&&this.previousProgress.DownloadPosition===progress.DownloadPosition&&this.previousProgress.DownloadTotal===progress.DownloadTotal||(this.previousProgress=progress,this.apiUp.SetProgress(progress))},VideoAdyoulikeController.prototype.Play=function(){this.videoPlayer.SetVariable("method:play","");var state;state=this.previousProgress&&this.previousProgress.TimePosition>0?2:1,this.updateState(state)},VideoAdyoulikeController.prototype.Pause=function(){this.videoPlayer.SetVariable("method:pause",""),this.updateState(3)},VideoAdyoulikeController.prototype.Mute=function(){this.videoPlayer.SetVariable("method:setVolume",0),this.updateMuted(!0)},VideoAdyoulikeController.prototype.Unmute=function(){this.videoPlayer.SetVariable("method:setVolume",DEFAULT_VOLUME),this.updateMuted(!1)},VideoAdyoulikeController}()});
define("js/fo/captcha/engine",["require","exports","util/str","util/i99n","util/redir","util/trigger","omnitag/gostructs","./captcha_template_html","./captcha_template_css","captcha_theme_adyoulike_variables","lib/xdm","xdm","util/analytics","lib/jquery","statemachine"],function(require,exports,str,i99n,redir,trigger,gostructs,captcha_template_html,captcha_template_css,tv,xdm,xdmapi,analytics,jquery,statemachine){function New(config){function newDiff(diffClass){var diff=new diffClass(newDiff);return diff.Params=params,diff}var params={Rndid:"_ayl"+(""+Math.random()).substring(2),Config:config,PlayerWidth:300,PlayerHeight:250,ShowAdyoulikeLogo:config.HasCredit,Css:""};return newDiff(DiffRootCaptcha)}function NewDisabled(config){function newDiff(diffClass){var diff=new diffClass(newDiff);return diff.Params=params,diff}var params={Rndid:"_ayl"+(""+Math.random()).substring(2),Config:config};return newDiff(DiffRootDisabledCaptcha)}var $=jquery.jQuery,PASSTHROUGH_TOKEN="[passthroughtoken]";exports.New=New,exports.NewDisabled=NewDisabled;var DiffBaseDisabled=function(_super){function DiffBaseDisabled(){_super.apply(this,arguments)}return __extends(DiffBaseDisabled,_super),DiffBaseDisabled.prototype.GetRawJQueryElement=function(name){var e=$("#"+name+this.Params.Rndid);if(1!=e.length)throw new Error("Error looking for element #"+name+this.Params.Rndid);return e},DiffBaseDisabled.prototype.GetElement=function(name){var _this=this;if(null==this.getElementCache&&(this.getElementCache={},this.Modifs.push(function(){_this.getElementCache=null})),name in this.getElementCache)return this.getElementCache[name];var el=new statemachine.RevertableJQuery(this,this.GetRawJQueryElement(name));return this.getElementCache[name]=el,el},DiffBaseDisabled}(statemachine.Diff),DiffBase=function(_super){function DiffBase(){_super.apply(this,arguments)}return __extends(DiffBase,_super),DiffBase.prototype.T=function(kind,exceptionIfNotFound,values){var args={lang:this.Params.Config.Lang,kind:kind,source:this.Params.Config.Translations};return null!=values&&(args.values=values),exceptionIfNotFound||(args.defaultValue=null),i99n.T(args)},DiffBase.prototype.TriggerEvent=function(eventKind){trigger.TriggerEvent(eventKind,this.Params.Config,this.Params.Config.Campaign)},DiffBase}(DiffBaseDisabled),DiffRootDisabledCaptcha=function(_super){function DiffRootDisabledCaptcha(){_super.apply(this,arguments),this.klass=DiffRootDisabledCaptcha}return __extends(DiffRootDisabledCaptcha,_super),DiffRootDisabledCaptcha.prototype.onEnter=function(){var hookElement,_this=this,body=$(document),selector="[id^=ayl_private_cap_]";this.NewWaiter({delay:100,condition:function(){return hookElement=body.find(selector),hookElement.length>=1},callback:function(){hookElement=hookElement.first(),hookElement.before('<input type="hidden" name="_ayl_captcha_engine" value="adyoulike" /><input type="hidden" name="_ayl_disabled" value="true" /><input type="hidden" name="_ayl_utf8_ie_fix" value="&#9731;" /><input type="hidden" name="_ayl_attempt" value="'+str.EscapeHTML(_this.Params.Config.Attempt)+'" /><input type="hidden" name="_ayl_visitor" value="'+str.EscapeHTML(_this.Params.Config.Visitor)+'" /><input type="hidden" name="_ayl_apiprefix" value="'+str.EscapeHTML(_this.Params.Config.ApiPrefix)+'" />')}}).Start()},DiffRootDisabledCaptcha.Name="RootDisabledCaptcha",DiffRootDisabledCaptcha}(DiffBaseDisabled),DiffRootCaptcha=(function(_super){function DiffPassthrough(){_super.apply(this,arguments),this.klass=DiffPassthrough}return __extends(DiffPassthrough,_super),DiffPassthrough.prototype.onEnter=function(){},DiffPassthrough.Name="Passthrough",DiffPassthrough}(DiffBaseDisabled),function(_super){function DiffRootCaptcha(){_super.apply(this,arguments),this.klass=DiffRootCaptcha}return __extends(DiffRootCaptcha,_super),DiffRootCaptcha.prototype.onEnter=function(){var hookElement,_this=this,body=$(document),rootDivHtml='<div id="root_captcha'+this.Params.Rndid+'" style="display:none;"></div>',selector=str.Untaint(this.Params.Config.IntegrationSelector);this.NewWaiter({delay:100,condition:function(){return hookElement=body.find(selector),hookElement.length>=1},callback:function(){switch(hookElement=hookElement.first(),_this.Params.Config.IntegrationInsertion){case gostructs.CaptchaIntegrationInsertionKind.BEFORE:hookElement.before(rootDivHtml);break;case gostructs.CaptchaIntegrationInsertionKind.PREPEND:hookElement.prepend(rootDivHtml);break;case gostructs.CaptchaIntegrationInsertionKind.APPEND:hookElement.append(rootDivHtml);break;case gostructs.CaptchaIntegrationInsertionKind.AFTER:hookElement.after(rootDivHtml);break;default:throw new Error("Unknown CaptchaIntegrationInsertionKind "+_this.Params.Config.IntegrationInsertion)}_this.EnterSubdiff(DiffCaptcha),_this.GetElement("root_captcha").Show(),_this.Params.Config.OnValidation==gostructs.OnValidationKind.POPUNDER&&hookElement.closest("form").submit(function(){_this.pop()}),analytics.DeclareInsertionSuccess(_this.Params.Config)}}).Start()},DiffRootCaptcha.prototype.pop=function(){var url=redir.RedirUrl(this.Params.Config);this.siteunderWindowRef=open("about:blank","_blank","toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,top=80,left=80,width=1100,height=800");var reset_focus=function(popupWindow){var isFF=navigator.userAgent.indexOf("Firefox")>=0&&navigator.userAgent.indexOf("Seamonkey")<0;isFF&&popupWindow.window.open("about:blank").close();try{popupWindow.opener.window.focus()}catch(_error){}popupWindow.location.href=url};window.blur(),window.focus(),window.setTimeout(function(){window.focus()},400);try{this.siteunderWindowRef.reset_focus=reset_focus}catch(_error){}return reset_focus(this.siteunderWindowRef)},DiffRootCaptcha.Name="RootCaptcha",DiffRootCaptcha}(DiffBase)),DiffCaptcha=function(_super){function DiffCaptcha(){_super.apply(this,arguments),this.klass=DiffCaptcha}return __extends(DiffCaptcha,_super),DiffCaptcha.prototype.onEnter=function(){var _this=this;this.GetElement("root_captcha").Html(captcha_template_html.Template(this.Params));var cssText=captcha_template_css.Template(tv.New(this.Params)),cssTag=$('<style type="text/css"></script>')[0];if(cssTag.styleSheet)cssTag.styleSheet.cssText=cssText;else{var textNode=document.createTextNode(cssText);cssTag.appendChild(textNode)}switch($(cssTag).prependTo($("#root_captcha"+this.Params.Rndid)),this.GetElement("help_small_button").On("click",function(){var lang=_this.Params.Config.Lang.toString().toLowerCase();"fr"!==lang&&(lang="en");var url=str.Untaint(_this.Params.Config.StaticPrefix)+"/captcha/"+lang+"/help.html",id="adyoulike_help"+_this.Params.Rndid,options="menubar=no,status=no,scrollbars=no,width=650,height=560";window.open(url,id,options)}),this.NewWaiter({delay:5e3,condition:function(){return 1!=$("#root_captcha"+_this.Params.Rndid).length},callback:function(){_this.Exit()}}).Start(),this.Params.Config.MediumType){case gostructs.MediumType.VIDEO_YOUTUBE:case gostructs.MediumType.VIDEO_ADYOULIKE:this.EnterSubdiff(DiffCaptchaVideo);break;case gostructs.MediumType.IMAGE_ADYOULIKE:this.EnterSubdiff(DiffCaptchaImage);break;default:throw new Error("Unknown MediumType: "+this.Params.Config.MediumType)}},DiffCaptcha.Name="Captcha",DiffCaptcha}(DiffBase),DiffCaptchaImage=function(_super){function DiffCaptchaImage(){_super.apply(this,arguments),this.klass=DiffCaptchaImage,this.stepSwitch=new statemachine.DiffSwitch(this)}return __extends(DiffCaptchaImage,_super),DiffCaptchaImage.prototype.onEnter=function(){var _this=this;switch(this.GetElement("container").Height(369),this.GetElement("image").Show(),this.GetElement("response_content").Height(45),this.Bind(DiffCaptchaImage,DiffCaptchaImage.COMMAND_NEXTSTEP,function(){var nextStep=_this.steps.shift();_this.stepSwitch.Switch(nextStep)}),this.Params.Config.Clickable&&this.GetElement("visual").On("click",function(){_this.Params.Config.Clickable&&window.open(redir.RedirUrl(_this.Params.Config))}),this.Params.Config.Sequence){case gostructs.SequenceKind.CLASSIC:this.steps=[DiffCaptchaImageTypeAnswer];break;case gostructs.SequenceKind.HORYZON:this.steps=this.Params.Config.Skippable?[DiffCaptchaImageCountdown,DiffCaptchaImageWaitForClickInvisible,DiffCaptchaImageProceedInvisible]:[DiffCaptchaImageWaitForClickInvisible,DiffCaptchaImageProceedInvisible];break;case gostructs.SequenceKind.UNRULY:this.steps=this.Params.Config.Skippable?[DiffCaptchaImageWaitForClick,DiffCaptchaImageCountdown,DiffCaptchaImageProceed]:[DiffCaptchaImageWaitForClick,DiffCaptchaImageProceed];break;default:throw new Error("Unknown WaitForClick: "+this.Params.Config.Sequence)}this.stepSwitch.Switch(this.steps.shift())},DiffCaptchaImage.Name="CaptchaImage",DiffCaptchaImage.COMMAND_NEXTSTEP="aylNextStep",DiffCaptchaImage}(DiffBase),DiffCaptchaImageWaitForClick=function(_super){function DiffCaptchaImageWaitForClick(){_super.apply(this,arguments),this.klass=DiffCaptchaImageWaitForClick}return __extends(DiffCaptchaImageWaitForClick,_super),DiffCaptchaImageWaitForClick.prototype.onEnter=function(){var _this=this,hasBeenClickedOn=!1;if(this.GetElement("visual").On("click",function(){hasBeenClickedOn||(hasBeenClickedOn=!0,_this.Trigger(DiffCaptchaImage,DiffCaptchaImage.COMMAND_NEXTSTEP))}),this.Params.Config.HasIframeRedirect){var elIframeImage=this.GetRawJQueryElement("image_iframe")[0];this.NewWaiter({condition:function(){return hasBeenClickedOn||document.activeElement===elIframeImage},callback:function(){hasBeenClickedOn||(hasBeenClickedOn=!0,_this.Trigger(DiffCaptchaImage,DiffCaptchaImage.COMMAND_NEXTSTEP))}}).Start()}this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.PLAY_THE_SEQUENCE_SHORT,!0))},DiffCaptchaImageWaitForClick.Name="CaptchaImageWaitForClick",DiffCaptchaImageWaitForClick}(DiffBase),DiffCaptchaImageWaitForClickInvisible=function(_super){function DiffCaptchaImageWaitForClickInvisible(){_super.apply(this,arguments),this.klass=DiffCaptchaImageWaitForClickInvisible,this.hasBeenClickedOn=!1}return __extends(DiffCaptchaImageWaitForClickInvisible,_super),DiffCaptchaImageWaitForClickInvisible.prototype.onEnter=function(){_super.prototype.onEnter.call(this),this.GetElement("subtitle").Hide(),this.GetElement("image_iframe").Css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)",opacity:"0"}),this.GetElement("click_information").Show()},DiffCaptchaImageWaitForClickInvisible.Name="CaptchaImageWaitForClickInvisible",DiffCaptchaImageWaitForClickInvisible}(DiffCaptchaImageWaitForClick),DiffCaptchaImageCountdown=function(_super){function DiffCaptchaImageCountdown(){_super.apply(this,arguments),this.klass=DiffCaptchaImageCountdown}return __extends(DiffCaptchaImageCountdown,_super),DiffCaptchaImageCountdown.prototype.onEnter=function(){var _this=this,countdownStartedAt=(new Date).getTime();this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.PLAY_THE_SEQUENCE_SHORT,!0)),this.GetElement("response_input").Prop("disabled",!0),this.GetElement("code_progress_content").Show(),this.NewWaiter({delay:1e3,condition:function(){var timePassed=(new Date).getTime()-countdownStartedAt,timeRemaining=_this.Params.Config.Skip-timePassed,secondsRemaining=Math.ceil(timeRemaining/1e3),msg=i99n.T({lang:_this.Params.Config.Lang,kind:gostructs.TranslationKind.YOUR_CODE_IN,source:_this.Params.Config.Translations,values:{count:secondsRemaining}}),count=i99n.T({lang:_this.Params.Config.Lang,kind:gostructs.TranslationKind.COUNT,source:_this.Params.Config.Translations,values:{count:secondsRemaining}});return _this.GetElement("code_progress_message_countdown").Text(count),_this.GetElement("response_input_placeholder").Text(msg),_this.GetElement("code_progress").Css({width:""+Math.round(214*(timePassed>0?timePassed/_this.Params.Config.Skip:0))+"px"}),0>=timeRemaining},callback:function(){_this.GetElement("response_input").Prop("disabled",!1),_this.Trigger(DiffCaptchaImage,DiffCaptchaImage.COMMAND_NEXTSTEP)}}).Start()},DiffCaptchaImageCountdown.Name="CaptchaImageCountdown",DiffCaptchaImageCountdown}(DiffBase),DiffCaptchaImageProceed=function(_super){function DiffCaptchaImageProceed(){_super.apply(this,arguments),this.klass=DiffCaptchaImageProceed}return __extends(DiffCaptchaImageProceed,_super),DiffCaptchaImageProceed.prototype.onEnter=function(){this.GetElement("response_input").Val(PASSTHROUGH_TOKEN),this.GetElement("response_proceed").Show(),this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.PLEASE_PROCEED_SHORT,!0)),this.Params.Config.HasAutosubmit&&this.GetRawJQueryElement("container").parents("form:first").submit(),this.Params.Config.HasValidateButton&&this.GetElement("validate_button").Css({visibility:"visible"})},DiffCaptchaImageProceed.Name="CaptchaImageProceed",DiffCaptchaImageProceed}(DiffBase),DiffCaptchaImageProceedInvisible=function(_super){function DiffCaptchaImageProceedInvisible(){_super.apply(this,arguments),this.klass=DiffCaptchaImageProceedInvisible}return __extends(DiffCaptchaImageProceedInvisible,_super),DiffCaptchaImageProceedInvisible.prototype.onEnter=function(){this.GetElement("response_input").Val(PASSTHROUGH_TOKEN);var elClickInformation=this.GetElement("click_information");elClickInformation.Html("<span>"+str.EscapeHTML(this.T(gostructs.TranslationKind.PLEASE_PROCEED,!0))+"<span>"),elClickInformation.Show(),this.GetElement("image_iframe").Css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)",opacity:"0"}),this.Params.Config.HasValidateButton&&this.GetElement("validate_button").Css({visibility:"visible"}),this.Params.Config.HasAutosubmit&&this.GetRawJQueryElement("container").parents("form:first").submit()},DiffCaptchaImageProceedInvisible.Name="CaptchaImageProceedInvisible",DiffCaptchaImageProceedInvisible}(DiffBase),DiffCaptchaImageTypeAnswer=function(_super){function DiffCaptchaImageTypeAnswer(){_super.apply(this,arguments),this.klass=DiffCaptchaImageTypeAnswer}return __extends(DiffCaptchaImageTypeAnswer,_super),DiffCaptchaImageTypeAnswer.prototype.onEnter=function(){this.GetElement("response_content").Height(62),this.GetElement("response_instructions").Html(this.getTypeAnswerInstructionsHtmlLabel()).Show(),this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.INSTRUCTIONS_VISUAL_SHORT,!0));var elResponseInputPlaceholder=this.GetElement("response_input_placeholder");elResponseInputPlaceholder.Text(this.T(gostructs.TranslationKind.RESPONSE_PLACEHOLDER,!0));var elResponseInput=this.GetElement("response_input");elResponseInput.Enable(),elResponseInput.On("blur",function(){elResponseInput.Val()||elResponseInputPlaceholder.Show()}),elResponseInput.On("focus",function(){elResponseInput.Val()||elResponseInputPlaceholder.Hide()}),this.GetElement("response").Show()},DiffCaptchaImageTypeAnswer.prototype.getTypeAnswerInstructionsHtmlLabel=function(){var html,safeInstructionsVisual=str.EscapeHTML(this.T(gostructs.TranslationKind.INSTRUCTIONS_VISUAL,!1));if(safeInstructionsVisual)html=safeInstructionsVisual.replace(/("|&quot;|«)(.*?)("|&quot;|»)/,"<span class='ayl_code'>\"$2\"</span>");else{var safeResponseInstruction=str.Untaint(this.T(gostructs.TranslationKind.RESPONSE_INSTRUCTION,!1,{code:this.Params.Config.CaptchaCode}));html=safeResponseInstruction&&str.EscapeHTML(this.Params.Config.CaptchaCode)?safeResponseInstruction:str.EscapeHTML(this.T(gostructs.TranslationKind.INSTRUCTIONS_VISUAL_DEFAULT_IMAGE,!0))}return html},DiffCaptchaImageTypeAnswer.Name="CaptchaImageTypeAnswer",DiffCaptchaImageTypeAnswer}(DiffBase),DiffCaptchaVideo=function(_super){function DiffCaptchaVideo(){_super.apply(this,arguments),this.klass=DiffCaptchaVideo,this.videoIsClickable=!1,this.mutedSwitch=new statemachine.DiffSwitch(this),this.videoStateSwitch=new statemachine.DiffSwitch(this)}return __extends(DiffCaptchaVideo,_super),DiffCaptchaVideo.prototype.onEnter=function(){var _this=this;if(this.GetElement("container").Height(417),this.Bind(this.klass,this.klass.COMMAND_PLAY,function(){_this.apiDown.Play()}),this.Bind(this.klass,this.klass.COMMAND_PAUSE,function(){_this.apiDown.Pause()}),this.Bind(this.klass,this.klass.COMMAND_MUTE,function(){_this.apiDown.Mute()}),this.Bind(this.klass,this.klass.COMMAND_UNMUTE,function(){_this.apiDown.Unmute()}),this.Bind(DiffCaptchaVideo,DiffCaptchaVideo.EVENT_MUTED,function(muted){_this.mutedSwitch.Switch(muted?DiffCaptchaVideoMuted:null)}),this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.PLAY_THE_VIDEO_SHORT,!0)),this.Params.Config.Clickable&&this.GetElement("video_glass").On("click",function(){_this.videoIsClickable&&_this.Params.Config.Clickable&&(_this.TriggerEvent(gostructs.EventKind.VIDEOCLICK),window.open(redir.RedirUrl(_this.Params.Config)))}),this.Params.Config.HasShares)for(var share,windowParams,shareKinds=this.Params.Config.Shares.Keys(),windowUrl=str.Untaint(this.Params.Config.ApiPrefix)+"/share?attempt="+str.EscapeHTML(this.Params.Config.Attempt),i=0;i<shareKinds.length;i++){switch(share=shareKinds[i]){case gostructs.ShareKind.TWITTER:windowParams="height=440,width=620,scrollbars=yes";break;case gostructs.ShareKind.FACEBOOK:windowParams="height=600,width=900,scrollbars=yes";break;default:continue}this.GetElement("button_"+share.toString().toLowerCase()).On("click",function(){var url=windowUrl+"&kind="+share.toString(),id=share.toString().toLowerCase(),options=windowParams;window.open(url,id,options)})}var videoIframe=this.GetRawJQueryElement("video_iframe")[0];this.apiDown=xdm.ConnectIframe(xdmapi.XDMApiCaptchaVideoDown,xdmapi.API_CAPTCHA_VIDEO_DOWN,videoIframe),xdm.ListenIframe(this,xdmapi.API_CAPTCHA_VIDEO_UP,videoIframe),this.Bind(DiffCaptchaVideo,DiffCaptchaVideo.EVENT_STATE,function(state){var newVideoStateSubdiffClass;switch(state){case 0:_this.videoIsClickable=!1,newVideoStateSubdiffClass=DiffCaptchaVideoPlaybackReady;break;case 1:_this.videoIsClickable=!1,newVideoStateSubdiffClass=DiffCaptchaVideoPlaybackBuffering;break;case 2:_this.videoIsClickable=!0,newVideoStateSubdiffClass=DiffCaptchaVideoPlaybackProgressing;break;case 3:_this.videoIsClickable=!1,newVideoStateSubdiffClass=DiffCaptchaVideoPlaybackProgressing;break;case 4:_this.videoIsClickable=!0,newVideoStateSubdiffClass=DiffCaptchaVideoPlaybackFinished;break;default:throw new Error("Unknown VideoState: "+state)}_this.videoStateSwitch.Switch(newVideoStateSubdiffClass)})},DiffCaptchaVideo.prototype.SetProgress=function(progress){this.Trigger(this.klass,this.klass.EVENT_PROGRESS,progress)},DiffCaptchaVideo.prototype.SetMuted=function(muted){this.Trigger(this.klass,this.klass.EVENT_MUTED,muted)},DiffCaptchaVideo.prototype.SetState=function(state){this.Trigger(this.klass,this.klass.EVENT_STATE,state)},DiffCaptchaVideo.Name="Video",DiffCaptchaVideo.EVENT_PROGRESS="EventProgress",DiffCaptchaVideo.EVENT_STATE="EventState",DiffCaptchaVideo.EVENT_MUTED="EventMuted",DiffCaptchaVideo.COMMAND_PLAY="CommandPlay",DiffCaptchaVideo.COMMAND_PAUSE="CommandPause",DiffCaptchaVideo.COMMAND_MUTE="CommandMute",DiffCaptchaVideo.COMMAND_UNMUTE="CommandUnmute",DiffCaptchaVideo}(DiffBase),DiffCaptchaVideoPlaybackReady=function(_super){function DiffCaptchaVideoPlaybackReady(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackReady}return __extends(DiffCaptchaVideoPlaybackReady,_super),DiffCaptchaVideoPlaybackReady.prototype.onEnter=function(){var _this=this;this.Params.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE&&(this.GetElement("video_glass").Show().AddClass("ayl_clickable").On("click",function(){_this.Trigger(DiffCaptchaVideo,DiffCaptchaVideo.COMMAND_PLAY)}),this.GetElement("video_glass_play_button").Show()),this.TriggerEvent(gostructs.EventKind.VIDEODISPLAY)},DiffCaptchaVideoPlaybackReady.Name="CaptchaVideoPlaybackReady",DiffCaptchaVideoPlaybackReady}(DiffBase),DiffCaptchaVideoPlaybackBuffering=function(_super){function DiffCaptchaVideoPlaybackBuffering(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackBuffering}return __extends(DiffCaptchaVideoPlaybackBuffering,_super),DiffCaptchaVideoPlaybackBuffering.prototype.onEnter=function(){this.GetElement("video_glass").Show()},DiffCaptchaVideoPlaybackBuffering.Name="CaptchaVideoPlaybackBuffering",DiffCaptchaVideoPlaybackBuffering}(DiffBase),DiffCaptchaVideoPlaybackProgressing=function(_super){function DiffCaptchaVideoPlaybackProgressing(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackProgressing,this.mutedSwitch=new statemachine.DiffSwitch(this),this.playPauseSwitch=new statemachine.DiffSwitch(this),this.countdownSwitch=new statemachine.DiffSwitch(this)}return __extends(DiffCaptchaVideoPlaybackProgressing,_super),DiffCaptchaVideoPlaybackProgressing.prototype.onEnter=function(){var _this=this;this.GetElement("video_glass").Show(),this.GetElement("video_progress").Show(),this.GetElement("video_progress_download").Show(),this.mutedSwitch.Switch(DiffCaptchaVideoUnmuted),this.playPauseSwitch.Switch(DiffCaptchaVideoPlaybackProgressingPlaying),this.Params.Config.Skippable&&this.countdownSwitch.Switch(DiffCaptchaVideoPlaybackCountdown),this.Bind(DiffCaptchaVideo,DiffCaptchaVideo.EVENT_PROGRESS,function(progress){var timeProgress=progress.TimePosition>0&&progress.TimeTotal>0?progress.TimePosition/progress.TimeTotal:0;_this.GetElement("video_progress").Width(Math.round(timeProgress*_this.GetElement("video_bottom_controls").Width()));var downloadProgress=progress.DownloadPosition>0&&progress.DownloadTotal>0?progress.DownloadPosition/progress.DownloadTotal:0;_this.GetElement("video_progress_download").Width(Math.round(downloadProgress*_this.GetElement("video_bottom_controls").Width())),timeProgress>=.96?_this.TriggerEvent(gostructs.EventKind.VIDEO100):timeProgress>=.75?_this.TriggerEvent(gostructs.EventKind.VIDEO075):timeProgress>=.5?_this.TriggerEvent(gostructs.EventKind.VIDEO050):timeProgress>=.25?_this.TriggerEvent(gostructs.EventKind.VIDEO025):timeProgress>0&&_this.TriggerEvent(gostructs.EventKind.VIDEO000),_this.Params.Config.Skippable&&progress.TimePosition>=_this.Params.Config.Skip&&_this.countdownSwitch.Switch(DiffCaptchaVideoPlaybackNowSkippable)}),this.Bind(DiffCaptchaVideo,DiffCaptchaVideo.EVENT_STATE,function(state){switch(state){case 2:_this.playPauseSwitch.Switch(DiffCaptchaVideoPlaybackProgressingPlaying);break;case 3:_this.playPauseSwitch.Switch(DiffCaptchaVideoPlaybackProgressingPaused)}})},DiffCaptchaVideoPlaybackProgressing.Name="CaptchaVideoPlaybackProgressing",DiffCaptchaVideoPlaybackProgressing}(DiffBase),DiffCaptchaVideoUnmuted=function(_super){function DiffCaptchaVideoUnmuted(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoUnmuted}return __extends(DiffCaptchaVideoUnmuted,_super),DiffCaptchaVideoUnmuted.prototype.onEnter=function(){var _this=this;this.GetElement("button_volume_mute").Show().On("click",function(){_this.Trigger(DiffCaptchaVideo,DiffCaptchaVideo.COMMAND_MUTE)}),this.GetElement("button_volume").Show()},DiffCaptchaVideoUnmuted.Name="CaptchaVideoUnmuted",DiffCaptchaVideoUnmuted}(DiffBase),DiffCaptchaVideoMuted=function(_super){function DiffCaptchaVideoMuted(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoMuted}return __extends(DiffCaptchaVideoMuted,_super),DiffCaptchaVideoMuted.prototype.onEnter=function(){var _this=this;this.GetElement("button_volume_unmute").Show().On("click",function(){_this.Trigger(DiffCaptchaVideo,DiffCaptchaVideo.COMMAND_UNMUTE)}),this.GetElement("button_volume").Show()},DiffCaptchaVideoMuted.Name="CaptchaVideoMuted",DiffCaptchaVideoMuted}(DiffBase),DiffCaptchaVideoPlaybackProgressingPlaying=function(_super){function DiffCaptchaVideoPlaybackProgressingPlaying(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackProgressingPlaying}return __extends(DiffCaptchaVideoPlaybackProgressingPlaying,_super),DiffCaptchaVideoPlaybackProgressingPlaying.prototype.onEnter=function(){var _this=this;this.GetElement("button_pause").Show().On("click",function(){_this.Trigger(DiffCaptchaVideo,DiffCaptchaVideo.COMMAND_PAUSE)})},DiffCaptchaVideoPlaybackProgressingPlaying.Name="CaptchaVideoPlaybackProgressingPlaying",DiffCaptchaVideoPlaybackProgressingPlaying}(DiffBase),DiffCaptchaVideoPlaybackProgressingPaused=function(_super){function DiffCaptchaVideoPlaybackProgressingPaused(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackProgressingPaused}return __extends(DiffCaptchaVideoPlaybackProgressingPaused,_super),DiffCaptchaVideoPlaybackProgressingPaused.prototype.onEnter=function(){var _this=this;this.GetElement("button_play").Show().On("click",function(){_this.Trigger(DiffCaptchaVideo,DiffCaptchaVideo.COMMAND_PLAY)})},DiffCaptchaVideoPlaybackProgressingPaused.Name="CaptchaVideoPlaybackProgressingPaused",DiffCaptchaVideoPlaybackProgressingPaused}(DiffBase),DiffCaptchaVideoPlaybackCountdown=function(_super){function DiffCaptchaVideoPlaybackCountdown(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackCountdown}return __extends(DiffCaptchaVideoPlaybackCountdown,_super),DiffCaptchaVideoPlaybackCountdown.prototype.onEnter=function(){var _this=this;this.Params.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE&&this.GetElement("video_message").Css({bottom:"9px",width:this.Params.PlayerWidth-20,right:0}),this.GetElement("code_progress_content").Show(),this.Bind(DiffCaptchaVideo,DiffCaptchaVideo.EVENT_PROGRESS,function(progress){if(progress.TimePosition>0&&progress.TimeTotal>0)if(_this.Params.Config.Skippable){var timeRemaining=Math.max(0,_this.Params.Config.Skip-progress.TimePosition),timeRemainingProgress=1-timeRemaining/_this.Params.Config.Skip;_this.GetElement("video_message").Html(str.Untaint(_this.T(gostructs.TranslationKind.YOUR_CODE_IN,!0,{count:Math.ceil(timeRemaining/1e3)}))),_this.GetElement("code_progress").Width(Math.round(timeRemainingProgress*_this.GetElement("code_progress_bg").Width()))}else _this.GetElement("video_message").Html(_this.T(gostructs.TranslationKind.YOUR_CODE_IN,!0,{count:Math.ceil(progress.TimeTotal-progress.TimePosition)}));else _this.GetElement("video_message").Html(""),_this.GetElement("code_progress").Css({width:"0px"})})},DiffCaptchaVideoPlaybackCountdown.Name="CaptchaVideoPlaybackCountdown",DiffCaptchaVideoPlaybackCountdown}(DiffBase),DiffCaptchaVideoPlaybackNowSkippable=function(_super){function DiffCaptchaVideoPlaybackNowSkippable(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackNowSkippable}return __extends(DiffCaptchaVideoPlaybackNowSkippable,_super),DiffCaptchaVideoPlaybackNowSkippable.prototype.onEnter=function(){this.Params.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE&&this.GetElement("video_message").Css({bottom:"9px",width:this.Params.PlayerWidth-20,right:0}),this.GetElement("response_instructions").Show(),this.GetElement("response_content").Height(62),this.GetElement("response").Show().Css({top:"18.5px"}),this.GetElement("video_message").Html(str.Untaint(this.T(gostructs.TranslationKind.YOUR_CODE,!0,{code:this.Params.Config.CaptchaCode}))),this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.INSTRUCTIONS_VISUAL_SHORT,!0));var elResponseInputPlaceholder=this.GetElement("response_input_placeholder");elResponseInputPlaceholder.Text(this.T(gostructs.TranslationKind.RESPONSE_PLACEHOLDER_VIDEO,!0));var elResponseInput=this.GetElement("response_input");elResponseInput.Enable(),elResponseInput.On("blur",function(){elResponseInput.Val()||elResponseInputPlaceholder.Show()}),elResponseInput.On("focus",function(){elResponseInput.Val()||elResponseInputPlaceholder.Hide()})},DiffCaptchaVideoPlaybackNowSkippable.Name="CaptchaVideoPlaybackNowSkippable",DiffCaptchaVideoPlaybackNowSkippable}(DiffBase),DiffCaptchaVideoPlaybackFinished=function(_super){function DiffCaptchaVideoPlaybackFinished(){_super.apply(this,arguments),this.klass=DiffCaptchaVideoPlaybackFinished}return __extends(DiffCaptchaVideoPlaybackFinished,_super),DiffCaptchaVideoPlaybackFinished.prototype.onEnter=function(){this.GetElement("response_input").Val(PASSTHROUGH_TOKEN),this.GetElement("response_proceed").Show(),this.GetElement("subtitle").Text(this.T(gostructs.TranslationKind.PLEASE_PROCEED_SHORT,!0)),this.GetElement("video_glass").Show(),this.GetElement("image").Show(),this.GetElement("video_iframe").Css({position:"absolute",left:"-9999px"}),this.Params.Config.HasAutosubmit&&this.GetRawJQueryElement("container").parents("form:first").submit(),this.Params.Config.HasValidateButton&&this.GetElement("validate_button").Css({visibility:"visible"})},DiffCaptchaVideoPlaybackFinished.Name="CaptchaVideoPlaybackFinished",DiffCaptchaVideoPlaybackFinished}(DiffBase)});
define("js/fo/util/i99n",["require","exports","omnitag/gostructs","util/str","util/informer","lib/jquery"],function(require,exports,gostructs,str,informer,jquery){function T(args){var sources=[];args.source&&sources.push(args.source),sources.push(DEFAULT_TRANSLATIONS);var langsTried=[args.lang];args.lang!==gostructs.LangKind.EN&&langsTried.push(gostructs.LangKind.EN);for(var si=0;si<sources.length;si++)for(var keys=sources[si].Keys(),ki=0;ki<keys.length;ki++)keys[ki]in langsTried||langsTried.push(keys[ki]);for(var li=0;li<langsTried.length;li++)for(var currentLang=langsTried[li],si=0;si<sources.length;si++){var currentSource=sources[si],translations=currentSource.Get(currentLang,null);if(translations){var translation=translations.Get(args.kind,null);if(translation){var translationStr;return translationStr=translation.Plural&&args.values&&args.values.count>=2?translation.Plural:translation.Singular,args.values?substitute(translationStr,args.values):translationStr}}}return"defaultValue"in args?args.defaultValue:(informer.Snitch(informer.ERROR,"Unknown translation '"+args.kind+"'"),"")}function substitute(s,substitutions){var substitutor=function(ignoreMatch,subName){var sub=substitutions[subName];return null!=sub?(sub._is_tainted_string_&&(sub=str.Untaint(sub)),str.EscapeHTML(""+sub)):void informer.Snitch(informer.ERROR,"Unknown substitution '"+subName+"'")};return s=str.Untaint(s),s=s.replace(/%\{([^\}]+)\}/g,substitutor),str.Taint(s)}jquery.jQuery;exports.TIME_LOCALES={EN:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","March","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Mar","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},FR:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonths:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},PT:{days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm"}},exports.TIME_FORMATS={EN:{"long":"%e %B %Y, %I:%M %p"},FR:{"long":"%e %B %Y, %Hh%M"},PT:{"long":"%e %B %Y, %Hh%M"}};var defaultTranslations={EN:{CLICK_INFORMATION1:{Singular:"Click here"},CLICK_INFORMATION2:{Singular:"To continue"},CLOSE_VIDEO_BTN:{Singular:"Close"},COUNT:{Singular:"%{count} sec.",Plural:"%{count} sec."},FULLSCREEN_VIDEO_BTN:{Singular:"Full screen"},HELP_BTN:{Singular:"Help"},IGNORE_VIDEO_IN:{Singular:"Ignore the video in %{count} second&hellip;",Plural:"Ignore the video in %{count} seconds&hellip;"},INCORRECT_TRY_AGAIN:{Singular:"Incorrect. Please try again."},INSTRUCTIONS_VISUAL_DEFAULT_IMAGE:{Singular:"Copy out the text in quotation marks:"},INSTRUCTIONS_VISUAL_SHORT:{Singular:"Type the text"},LOGO_ALT:{Singular:""},PAUSE_VIDEO_BTN:{Singular:"Pause"},PLAY_THE_SEQUENCE:{Singular:"Watch the sequence to obtain the code"},PLAY_THE_SEQUENCE_SHORT:{Singular:"Watch the sequence"},PLAY_THE_SEQUENCE_SKIP:{Singular:"Ignore this video by copying the code here"},PLAY_THE_VIDEO:{Singular:"Watch the video to obtain the code"},PLAY_THE_VIDEO_SHORT:{Singular:"Watch the video"},PLAY_VIDEO_BTN:{Singular:"Play"},PLEASE_PROCEED:{Singular:"Thank you, you can now proceed."},PLEASE_PROCEED_SHORT:{Singular:"You can proceed"},REPLAY_VIDEO_BTN:{Singular:"Replay"},RESPONSE_INSTRUCTIONS:{Singular:"<span>Type : <span class='ayl_code'>%{code}</span> below</span>"},RESPONSE_PLACEHOLDER:{Singular:"Location for the message"},RESPONSE_PLACEHOLDER_VIDEO:{Singular:"Ignore the video by copying the code"},SHARE_FACEBOOK_VIDEO_BTN:{Singular:"Share on facebook"},SHARE_TWITTER_VIDEO_BTN:{Singular:"Share on twitter"},TITLE:{Singular:"Validation step"},VALIDATE:{Singular:"Validate"},VOLUME_VIDEO_BTN:{Singular:"Volume"},YOUR_CODE:{Singular:"Your code : <span>%{code}</span>"},YOUR_CODE_IN:{Singular:"Your access in %{count} second",Plural:"Your code in %{count} seconds"}},FR:{CLICK_INFORMATION1:{Singular:"Cliquez ici"},CLICK_INFORMATION2:{Singular:"Pour continuer"},CLOSE_VIDEO_BTN:{Singular:"Fermer"},COUNT:{Singular:"%{count} sec.",Plural:"%{count} sec."},FULLSCREEN_VIDEO_BTN:{Singular:"Plein ecran"},HELP_BTN:{Singular:"Aide"},IGNORE_VIDEO_IN:{Singular:"Ignorez la vid&eacute;o dans %{count} seconde&hellip;",Plural:"Ignorez la vid&eacute;o dans %{count} secondes&hellip;"},INCORRECT_TRY_AGAIN:{Singular:"Incorrect. Veuillez réessayer."},INSTRUCTIONS_VISUAL_DEFAULT_IMAGE:{Singular:"Recopiez le texte qui est entre guillemets :"},INSTRUCTIONS_VISUAL_SHORT:{Singular:"Recopiez le message"},LOGO_ALT:{Singular:""},PAUSE_VIDEO_BTN:{Singular:"Pause"},PLAY_THE_SEQUENCE:{Singular:"Visionnez la séquence pour obtenir le code"},PLAY_THE_SEQUENCE_SHORT:{Singular:"Visionnez la séquence"},PLAY_THE_SEQUENCE_SKIP:{Singular:"Ignorez la vid&eacute;o en recopiant le code ici"},PLAY_THE_VIDEO:{Singular:"Visionnez la vidéo pour obtenir le code"},PLAY_THE_VIDEO_SHORT:{Singular:"Visionnez la vidéo"},PLAY_VIDEO_BTN:{Singular:"Lecture"},PLEASE_PROCEED:{Singular:"Merci, vous pouvez maintenant valider."},PLEASE_PROCEED_SHORT:{Singular:"Vous pouvez valider"},REPLAY_VIDEO_BTN:{Singular:"Rejouer"},RESPONSE_INSTRUCTIONS:{Singular:"Recopiez : \"<span class='ayl_code'>%{code}</span>\" ci-dessous</span>"},RESPONSE_PLACEHOLDER:{Singular:"Emplacement pour le message"},RESPONSE_PLACEHOLDER_VIDEO:{Singular:"Ignorez la vidéo en copiant le code"},SHARE_FACEBOOK_VIDEO_BTN:{Singular:"Partager sur facebook"},SHARE_TWITTER_VIDEO_BTN:{Singular:"Partager sur twitter"},TITLE:{Singular:"Etape de validation"},VALIDATE:{Singular:"Valider"},VOLUME_VIDEO_BTN:{Singular:"Volume"},YOUR_CODE:{Singular:"Votre code : <span class='ayl_code'>%{code}</span>"},YOUR_CODE_IN:{Singular:"Votre accès dans %{count} seconde",Plural:"Votre accès dans %{count} secondes"}},PT:{CLICK_INFORMATION1:{Singular:"Clique Aqui"},CLICK_INFORMATION2:{Singular:"Para continuar"},CLOSE_VIDEO_BTN:{Singular:"Feche"},COUNT:{Singular:"%{count} seg.",Plural:"%{count} seg."},FULLSCREEN_VIDEO_BTN:{Singular:"Tela cheia"},HELP_BTN:{Singular:"Ajuda"},IGNORE_VIDEO_IN:{Singular:"Ignore o video em %{count} second&hellip;",Plural:"Ignore os videos em %{count} second&hellip;"},INCORRECT_TRY_AGAIN:{Singular:"Errado. Por favor, tente novamente."},INSTRUCTIONS_VISUAL_DEFAULT_IMAGE:{Singular:"Digite o texto que está entre aspas:"},INSTRUCTIONS_VISUAL_SHORT:{Singular:"Digite o texto"},LOGO_ALT:{Singular:""},PAUSE_VIDEO_BTN:{Singular:"Pause"},PLAY_THE_SEQUENCE:{Singular:"Assista o vídeo para obter o código"},PLAY_THE_SEQUENCE_SHORT:{Singular:"Assista ao vídeo a seguir video"},PLAY_THE_SEQUENCE_SKIP:{Singular:"Ignore este video copiando o seguinte código aqui"},PLAY_THE_VIDEO:{Singular:"Assista o vídeo para obter o código"},PLAY_THE_VIDEO_SHORT:{Singular:"Assista ao vídeo a seguir video"},PLAY_VIDEO_BTN:{Singular:"Assista"},PLEASE_PROCEED:{Singular:"Obrigado, você pode continuar agora."},PLEASE_PROCEED_SHORT:{Singular:"Você pode continuar"},REPLAY_VIDEO_BTN:{Singular:"Assista novamente"},RESPONSE_INSTRUCTIONS:{Singular:"<span>Digite : <span class='ayl_code'>%{code}</span> abaixo</span>"},RESPONSE_PLACEHOLDER:{Singular:"Local para a mensagem"},RESPONSE_PLACEHOLDER_VIDEO:{Singular:"Ignorar o vídeo, copiar o código"},SHARE_FACEBOOK_VIDEO_BTN:{Singular:"Compartilhe no facebook"},SHARE_TWITTER_VIDEO_BTN:{Singular:"Compartilhe no twitter"},TITLE:{Singular:"Fase de validação"},VALIDATE:{Singular:"Validar"},VOLUME_VIDEO_BTN:{Singular:"Volume"},YOUR_CODE:{Singular:"Seu código : <span>%{code}</span>"},YOUR_CODE_IN:{Singular:"Seu acesso em %{count} segundo",Plural:"Seu código em %{count} segundos"}}},DEFAULT_TRANSLATIONS=gostructs.GetterMapper(gostructs.LangKind.Cast,gostructs.GetterMapper(gostructs.TranslationKind.Cast,gostructs.Translation.Cast))(defaultTranslations);exports.T=T});
define("js/fo/util/redir",["require","exports","omnitag/gostructs","util/str"],function(require,exports,gostructs,str){function RedirUrl(config,url){var redir=str.Untaint(config.ApiPrefix)+"/redir?attempt="+str.EncodeURIComponent(config.Attempt)+"&campaign="+str.EncodeURIComponent(config.Campaign);if(url)redir+="&url="+str.EncodeURIComponent(url);else{var defaultLanding=config.Landings.Get(gostructs.LandingKind.DEFAULT,null);defaultLanding&&(redir+="&url="+str.EncodeURIComponent(defaultLanding))}return str.Untaint(config.ApiPrefix)+"/ar#"+str.EncodeURIComponent(redir)}exports.RedirUrl=RedirUrl});
define("js/fo/captcha/captcha_template_html",["require","exports","omnitag/gostructs","util/i99n","util/str"],function(require,exports,gostructs,i99n,_tw_str){function _tw_expr(s){return _tw_str.IsTainted(s)&&(s=_tw_str.Untaint(s)),_tw_str.EscapeHTML(""+s)}function Template(locals){function _out(s){_result.push(s)}function t(translationKind,values){return i99n.T({lang:p.Config.Lang,kind:translationKind,source:p.Config.Translations,values:values})}locals||(locals={});var _result=[],p=locals,controlHeight=0;(p.Config.MediumType==gostructs.MediumType.VIDEO_YOUTUBE||p.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE)&&(controlHeight=24);var tk=gostructs.TranslationKind;return _out('\n<input type="hidden" name="_ayl_captcha_engine" value="adyoulike" />\n<div id="container'+_tw_expr(p.Rndid)+'" class="ayl_container ayl_border_color ayl_error_none ayl_engine_adyoulike ayl_layout_vertical ayl_medium_image ayl_private_cont '+_tw_expr(p.Config.Skippable?"ayl_plugin_skippable_image":"")+'" style="width: '+_tw_expr(p.PlayerWidth)+"px; height: "+_tw_expr(p.PlayerHeight+2*controlHeight+85)+'px">\n <span id="subcontainer'+_tw_expr(p.Rndid)+'" class="ayl_subcontainer ayl_layout_vertical">\n <div class="ayl_background ayl_background_color" style="width: '+_tw_expr(p.PlayerWidth-2)+"px; height: "+_tw_expr(p.PlayerHeight+2*controlHeight+85-2)+'px"></div>\n <div class="ayl_private_invisible_zone">\n <input class="ayl_private_focus" type="checkbox" name="_ayl.focus" value="" />\n </div>\n <div class="ayl_header">\n <div class="ayl_title" style="left:9px;">'+_tw_expr(t(tk.TITLE))+"</div>\n "),p.ShowAdyoulikeLogo&&_out('\n <a class="ayl_private_credit_a" href="http://www.adyoulike.com" target="_blank" title="'+_tw_expr(t(tk.LOGO_ALT))+'">\n <div class="ayl_credit">'+_tw_expr(t(tk.LOGO_ALT))+"</div>\n </a>\n "),_out('\n <div id="help_small_button'+_tw_expr(p.Rndid)+'" class="ayl_help_small_button" title="'+_tw_expr(t(tk.HELP_BTN))+'">\n <span style="font-size:150%">?</span>\n </div>\n <p id="subtitle'+_tw_expr(p.Rndid)+'" class="ayl_state_placeholder"></p>\n </div>\n <div id="visual'+_tw_expr(p.Rndid)+'" class="ayl_image ayl_drop_shadow" style="width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight+2*controlHeight)+'px;">\n <div class="ayl_block_outside ayl_border_color" style="width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight+2*controlHeight)+'px;">\n <div id="image'+_tw_expr(p.Rndid)+'" class="ayl_image_outside ayl_private_format_big '+_tw_expr(p.Config.Clickable?"ayl_clickable":"")+'" style="display:none; width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight+2*controlHeight)+"px; background-image:url('"+_tw_expr(p.Config.ApiPrefix)+"/captcha/resource?kind="+_tw_expr(gostructs.AttachmentIdSpecialKind.IMAGE.toString())+"&attempt="+_tw_expr(p.Config.Attempt)+"&campaign="+_tw_expr(p.Config.Campaign)+"');\">\n "),p.Config.HasIframeRedirect&&_out('\n <iframe id="image_iframe'+_tw_expr(p.Rndid)+'" class="ayl_image_iframe" frameBorder="0" allowTransparency="true" style="width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight+2*controlHeight)+'px; visibility: visible !important;" src="'+_tw_expr(p.Config.ApiPrefix)+"/cif?attempt="+_tw_expr(p.Config.Attempt)+"&campaign="+_tw_expr(p.Config.Campaign)+"&medium_type="+_tw_expr(p.Config.MediumType)+"&width="+_tw_expr(p.PlayerWidth)+"&height="+_tw_expr(p.PlayerHeight+2*controlHeight)+'"></iframe>\n '),_out('\n <div id="click_information'+_tw_expr(p.Rndid)+'" class="ayl_click_information" style="display:none;">\n <span>'+_tw_expr(t(tk.CLICK_INFORMATION1))+"<br/>"+_tw_expr(t(tk.CLICK_INFORMATION2))+"</span>\n </div>\n </div>\n "),p.Config.MediumType==gostructs.MediumType.IMAGE_ADYOULIKE&&_out('\n <div class="ayl_block_wbg" style="width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight)+'px;"></div>\n '),_out("\n "),(p.Config.MediumType==gostructs.MediumType.VIDEO_YOUTUBE||p.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE)&&(_out('\n <div id="video_player'+_tw_expr(p.Rndid)+'" class="ayl_video_player" style="width: '+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight+2*controlHeight)+'px;">\n <div class="ayl_video_top_controls" style="width:'+_tw_expr(p.PlayerWidth)+'px;">\n <div class="ayl_video_button ayl_video_button_close" title="'+_tw_expr(t(tk.CLOSE_VIDEO_BTN))+'">&#x2715;</div>\n </div>\n <div class="ayl_video_social_controls">\n '),p.Config.HasShares&&p.Config.Shares.Get(gostructs.ShareKind.FACEBOOK,null)&&_out('\n <div id="button_facebook'+_tw_expr(p.Rndid)+'" class="ayl_video_button ayl_video_button_facebook" title="'+_tw_expr(t(tk.SHARE_FACEBOOK_VIDEO_BTN))+'"></div>\n '),_out("\n "),p.Config.HasShares&&p.Config.Shares.Get(gostructs.ShareKind.TWITTER,null)&&_out('\n <div id="button_twitter'+_tw_expr(p.Rndid)+'" class="ayl_video_button ayl_video_button_twitter" title="'+_tw_expr(t(tk.SHARE_TWITTER_VIDEO_BTN))+'"></div>\n '),_out('\n </div>\n <iframe\n id="video_iframe'+_tw_expr(p.Rndid)+'"\n class="ayl_video_frame"\n frameBorder="0"\n allowTransparency="true"\n style="width: '+_tw_expr(p.PlayerWidth)+"px; height: "+_tw_expr(p.PlayerHeight)+'px; visibility: visible !important;"\n src="'+_tw_expr(p.Config.ApiPrefix)+"/cif?attempt="+_tw_expr(p.Config.Attempt)+"&campaign="+_tw_expr(p.Config.Campaign)+"&medium_type="+_tw_expr(p.Config.MediumType)+"&width="+_tw_expr(p.PlayerWidth)+"&height="+_tw_expr(p.PlayerHeight)+'"\n ></iframe>\n <div id="video_bottom_controls'+_tw_expr(p.Rndid)+'" class="ayl_video_bottom_controls" style="width:'+_tw_expr(p.PlayerWidth)+'px;">\n <div id="video_progress_download'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_progress_download"></div>\n <div id="video_progress'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_progress"></div>\n <div id="video_message'+_tw_expr(p.Rndid)+'" class="ayl_video_message_countdown"></div>\n <div id="button_play'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_button ayl_video_button_play" title="'+_tw_expr(t(tk.PLAY_VIDEO_BTN))+'">&#x25B6;</div>\n <div id="button_pause'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_button ayl_video_button_pause" data-action="video_pause" title="'+_tw_expr(t(tk.PAUSE_VIDEO_BTN))+'">&#x2759;&nbsp;&#x2759;</div>\n <div id="button_replay'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_button ayl_video_button_replay" data-action="video_replay" title="'+_tw_expr(t(tk.REPLAY_VIDEO_BTN))+'">'+_tw_expr(t(tk.REPLAY_VIDEO_BTN))+'</div>\n <div id="button_volume'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_button ayl_video_button_volume" title="'+_tw_expr(t(tk.VOLUME_VIDEO_BTN))+'">\n <div id="button_volume_mute'+_tw_expr(p.Rndid)+'" class="ayl_video_button ayl_video_button_volume_on" title="'+_tw_expr(t(tk.VOLUME_VIDEO_BTN))+'"></div>\n <div id="button_volume_unmute'+_tw_expr(p.Rndid)+'" style="display:none;" class="ayl_video_button ayl_video_button_volume_muted" title="'+_tw_expr(t(tk.VOLUME_VIDEO_BTN))+'"></div>\n </div>\n </div>\n </div>\n ')),_out("\n </div>\n "),(p.Config.MediumType==gostructs.MediumType.VIDEO_YOUTUBE||p.Config.MediumType==gostructs.MediumType.VIDEO_ADYOULIKE)&&_out('\n <div id="video_glass'+_tw_expr(p.Rndid)+'" class="ayl_video_glass_middle '+_tw_expr(p.Config.Clickable?"ayl_clickable":"")+'" style="display: none; width:'+_tw_expr(p.PlayerWidth)+"px; height:"+_tw_expr(p.PlayerHeight)+'px">\n <div id="video_glass_play_button'+_tw_expr(p.Rndid)+'" class="ayl_video_button ayl_video_play" style="display:none; left: '+_tw_expr((p.PlayerWidth-56)/2)+"px;bottom: "+_tw_expr((p.PlayerHeight-40)/2)+'px"></div>\n </div>\n '),_out('\n </div>\n <div id="response_content'+_tw_expr(p.Rndid)+'" class="ayl_response_content" style="top: '+_tw_expr(p.PlayerHeight+55+2*controlHeight)+'px">\n <div id="response_instructions'+_tw_expr(p.Rndid)+'" class="ayl_response_instructions"></div>\n <div id="response'+_tw_expr(p.Rndid)+'" class="ayl_response" style="display:none;">\n <div class="ayl_response_error_message">'+_tw_expr(t(tk.INCORRECT_TRY_AGAIN))+'</div>\n <div id="response_input_placeholder'+_tw_expr(p.Rndid)+'" class="ayl_placeholder_input_response">\n '+_tw_expr(t(tk.RESPONSE_PLACEHOLDER))+'\n </div>\n <input id="response_input'+_tw_expr(p.Rndid)+'" class="ayl_response_input" style="width: '+_tw_expr(p.Config.HasValidateButton?205:270)+'px;" type="text" autocomplete="off" id="ayl_response" name="_ayl_response" />\n <input type="hidden" name="_ayl_utf8_ie_fix" value="&#9731;" />\n <input type="hidden" name="_ayl_attempt" value="'+_tw_expr(p.Config.Attempt)+'" />\n <input type="hidden" name="_ayl_campaign" value="'+_tw_expr(p.Config.Campaign)+'" />\n <input type="hidden" name="_ayl_visitor" value="'+_tw_expr(p.Config.Visitor)+'" />\n <input type="hidden" name="_ayl_apiprefix" value="'+_tw_expr(p.Config.ApiPrefix)+'" />\n '),p.Config.HasValidateButton&&_out('\n <input class="ayl_validate_btn" type="submit" value="'+_tw_expr(t(tk.SUBMIT_BTN))+"\"/>'\n "),_out('\n </div>\n <div id="response_proceed'+_tw_expr(p.Rndid)+'" class="ayl_response_proceed">'+_tw_expr(t(tk.PLEASE_PROCEED))+"</div>\n "),p.Config.Skippable&&_out('\n <div id="code_progress_content'+_tw_expr(p.Rndid)+'" class="ayl_code_progress_content" style="display:none">\n <div id="code_progress_bg'+_tw_expr(p.Rndid)+'" class="ayl_code_progress_bg">\n <div id="code_progress'+_tw_expr(p.Rndid)+'" class="ayl_code_progress"></div>\n </div>\n <div id="code_progress_message_countdown'+_tw_expr(p.Rndid)+'" class="ayl_code_progress_message_countdown"></div>\n </div>\n '),_out('\n </div>\n </span>\n</div>\n<div id="validate'+_tw_expr(p.Rndid)+'">\n <input type="submit" id="validate_button'+_tw_expr(p.Rndid)+'" style="visibility: hidden;" value="'+_tw_expr(t(tk.VALIDATE))+'" />\n</div>\n'),_result.join("")}exports.Template=Template});
define("js/fo/captcha/captcha_template_css",["require","exports","util/str"],function(require,exports,_tw_str){function _tw_expr(s){return _tw_str.IsTainted(s)&&(s=_tw_str.Untaint(s)),_tw_str.EscapeHTML(""+s)}function Template(locals){function _out(s){_result.push(s)}locals||(locals={});var _result=[];_out("#ayl_lesshack\n");var v=locals;return _out("{\n a: 0;\n}\n#ayl_beacon_theme_adyoulike {\n width: 4px;\n}\n@font-face {\n font-family: Frank;\n src: url('"+_tw_expr(v.StaticPrefix)+"/font/frankregular.eot');\n src: local('☺'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankregular.eot?#iefix') format('embedded-opentype'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankregular.woff') format('woff'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankregular.ttf') format('truetype'), url('"+_tw_expr(v.StaticPrefix)+"/font/frank-egular.svg#Frank') format('svg');\n font-weight: normal;\n font-style: normal;\n}\n@font-face {\n font-family: Frank-Medium;\n src: url('"+_tw_expr(v.StaticPrefix)+"/font/frankmedium.eot');\n src: local('☺'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankmedium.eot?#iefix') format('embedded-opentype'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankmedium.woff') format('woff'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankmedium.ttf') format('truetype'), url('"+_tw_expr(v.StaticPrefix)+"/font/frankmedium.svg#Frank-Medium') format('svg');\n font-weight: normal;\n font-style: normal;\n}\n#root_captcha"+_tw_expr(v.RndId)+" {\n -webkit-user-select: none;\n -khtml-user-select: none;\n -moz-user-select: none;\n -o-user-select: none;\n user-select: none;\n display: block;\n text-align: left;\n}\n#root_captcha"+_tw_expr(v.RndId)+" input:focus {\n outline: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_env_sticker,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_spinner,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_player,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_frame,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_countdown,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress_download {\n color: "+_tw_expr(v.TextColor)+";\n font-style: "+_tw_expr(v.TextFontStyle)+";\n font-variant: "+_tw_expr(v.TextFontVariant)+";\n font-weight: normal;\n font-size: "+_tw_expr(v.TextFontSize)+";\n line-height: "+_tw_expr(v.TextLineHeight)+"px;\n font-family: "+_tw_expr(v.TextFontFamily)+";\n vertical-align: baseline;\n background-color: transparent;\n background-image: none;\n border: 0;\n border-radius: 0;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_container.ayl_private_credit_a {\n text-decoration: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_container {\n position: relative;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n height: "+_tw_expr(v.WidgetHeight)+"px;\n margin: auto;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_title,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder_type_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_credit,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_block_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_iframe,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_click_information,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_reload,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_to_medium_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_to_medium_image,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_error_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_error_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_invisible_zone,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_player,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_countdown,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_message_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress_download,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_focus,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_validate_btn,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_input {\n display: block;\n position: absolute;\n margin: 0;\n padding: 0;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_player {\n bottom: 0px;\n left: 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_click {\n width: 200px;\n height: 42px;\n left: 74px;\n bottom: 0;\n text-align: center;\n white-space: pre-wrap;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder {\n left: 10px;\n top: 30px;\n font-size: 18px;\n color: #27313a ;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_title {\n top: 16px;\n left: 10px;\n height: 12px;\n font-size: 12px;\n font-variant: normal;\n color: #27313a;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_credit {\n top: 6px;\n right: 25px;\n height: 25px;\n width: 130px;\n overflow: hidden;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image {\n top: "+_tw_expr(v.HeaderHeight+1)+"px;\n left: "+_tw_expr(v.LayoutVerticalHpadding)+"px;\n z-index: 2;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n height: "+_tw_expr(v.WidgetVisualHeight)+"px;\n border-left: 1px solid #B3B5B8;\n border-right: 1px solid #B3B5B8;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_instructions {\n bottom: 40px;\n left: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize)+"px;\n height: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_reload {\n bottom: 12px;\n right: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize+0*(v.BigButtonsSize+v.HinterspaceInside))+"px;\n height: 25px;\n width: 25px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_to_medium_audio {\n bottom: 12px;\n right: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize+1*(v.BigButtonsSize+v.HinterspaceInside))+"px;\n height: 25px;\n width: 25px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_to_medium_image {\n bottom: 12px;\n right: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize+1*(v.BigButtonsSize+v.HinterspaceInside))+"px;\n height: 25px;\n width: 25px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_error_message {\n bottom: 0px;\n left: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize)+"px;\n height: 12px;\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_title {\n top: 11px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_credit {\n top: 10px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_title {\n height: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_image {\n left: "+_tw_expr(v.LayoutHorizontalHpadding)+"px;\n top: auto;\n bottom: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_reload {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" input {\n -webkit-user-select: text;\n -khtml-user-select: text;\n -moz-user-select: text;\n -o-user-select: text;\n user-select: text;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_outside {\n background-position: -1px -1px;\n z-index: 1;\n transition: opacity 0.3s;\n -moz-transition: opacity 0.3s;\n -webkit-transition: opacity 0.3s;\n -o-transition: opacity 0.3s;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_click_information {\n display: none;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n height: "+_tw_expr(v.WidgetVisualHeight)+"px;\n background-color: #F5F5F6;\n text-align: center;\n text-transform: capitalize;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_click_information span {\n margin-left: auto;\n margin-right: auto;\n font-size: 2.143em;\n font-family: Verdana;\n height: 80px;\n top: 50%;\n font-family: Frank, Verdana;\n position: relative;\n line-height: 40px;\n margin-top: -40px;\n display: block;\n color: #27313a;\n /* IE9 SVG, needs conditional override of 'filter' to 'none' */\n /*background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMTAwJSIgeDI9IjEwMCUiIHkyPSIwJSI+CiAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjEiLz4KICAgIDxzdG9wIG9mZnNldD0iNjklIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjEiLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2UwZTBlMCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+); */\n /*background: -webkit-gradient(linear, left bottom, right top, color-stop(0%,#000000), color-stop(69%,#000000), color-stop(100%,#e0e0e0), color-stop(100%,#000000)); */\n /* Chrome,Safari4+ */\n /*background: -webkit-linear-gradient(45deg, #000000 0%,#000000 69%,#e0e0e0 100%,#000000 100%); */\n /* Chrome10+,Safari5.1+ */\n /*background: -o-linear-gradient(45deg, #000000 0%,#000000 69%,#e0e0e0 100%,#000000 100%); */\n /* Opera 11.10+ */\n /*background: -ms-linear-gradient(45deg, #000000 0%,#000000 69%,#e0e0e0 100%,#000000 100%); */\n /* IE10+ */\n /*filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#000000', endColorstr='#000000',GradientType=1 ); */\n /* IE6-8 fallback on horizontal gradient */\n /* Safari and Chrome */\n /*background-clip: text;\n -webkit-background-clip: text;*/\n /*text-fill-color: transparent;\n -webkit-text-fill-color: transparent;\n -moz-text-fill-color: transparent;\n -ms-text-fill-color: transparent;\n -o-text-fill-color: transparent;\n animation: gradient-move-click-information 3s infinite;\n -webkit-animation: gradient-move-click-information 3s infinite;\n -moz-animation: gradient-move-click-information 3s infinite;\n -ms-animation: gradient-move-click-information 3s infinite;\n -o-animation: gradient-move-click-information 3s infinite;*/\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_iframe {\n overflow: hidden;\n z-index: 2;\n width: 300px;\n left: 0px;\n top: 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_block_outside {\n left: 0;\n bottom: 0;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_block_outside .ayl_container {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_block_wbg {\n position: absolute;\n left: "+_tw_expr(v.InsideBorderSize)+"px;\n top: "+_tw_expr(v.InsideBorderSize)+"px;\n background-color: white;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_block_wbg {\n background: black;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_format_big {\n background-position: "+_tw_expr(-(0+v.FormatBigX))+"px "+_tw_expr(-(0+v.FormatBigY))+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_private_format_big {\n background-position: "+_tw_expr(-(0+v.FormatBigPreplayX))+"px "+_tw_expr(-(0+v.FormatBigPreplayY))+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_image_inside {\n cursor: pointer;\n bottom: 25px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_outside {\n overflow: hidden;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_image_outside {\n bottom: 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_placeholder {\n position: absolute;\n color: #888;\n height: 26px;\n z-index: 1;\n line-height: 25px;\n padding: 0 9px;\n font-size: 15px;\n font-family: Frank, Verdana;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_placeholder_input_response {\n position: relative;\n color: #888;\n height: 26px;\n z-index: 0;\n line-height: 25px;\n padding: 0 9px;\n font-size: 12px;\n font-family: Frank, Verdana;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_audio .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_instructions_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_instructions_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_audio .ayl_instructions_visual,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_audio .ayl_instructions_visual_folded,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_to_medium_image,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_to_medium_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_audio .ayl_to_medium_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_error_none .ayl_error_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_error_none .ayl_response_error_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_to_medium_image,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_to_medium_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_to_medium_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_bottom_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_placeholder,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_image_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_block_inside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfolded .ayl_instructions_visual_folded,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_folded .ayl_instructions_visual,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_not_unfoldable .ayl_instructions_visual_folded,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_folded .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_folded .ayl_video_glass_middle,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_folded .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_glass_middle,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_glass_click,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_muted,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_muted .ayl_video_button_volume_off,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_muted .ayl_video_button_volume_on,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_private_proceedable .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_private_proceedable .ayl_response {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_invisible_zone,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_folded .ayl_block_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_player,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_frame,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_focus {\n position: absolute;\n left: -9999px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_top_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_bottom_controls {\n z-index: 6;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_frame {\n position: absolute;\n bottom: "+_tw_expr(v.VideoToolbarBottomHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_top,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_middle,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_bottom,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_click {\n position: absolute;\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -9999px -9999px;\n left: 0;\n bottom: "+_tw_expr(v.VideoToolbarBottomHeight+1)+"px;\n z-index: 5;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_top {\n bottom: auto;\n top: -1px;\n left: -1px;\n height: "+_tw_expr(v.VideoToolbarTopHeight+2)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_bottom {\n left: 1px;\n bottom: 0;\n height: "+_tw_expr(v.VideoToolbarBottomHeight+2)+"px;\n background-color: black;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_glass_click {\n cursor: pointer;\n bottom: 0;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_top_controls {\n background: black;\n position: absolute;\n left: 0;\n top: 0;\n height: "+_tw_expr(v.VideoToolbarTopHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_bottom_controls {\n background: black;\n position: absolute;\n left: 0;\n bottom: 0;\n height: 24px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_glass,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_glass,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_glass {\n cursor: pointer;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_countdown {\n bottom: 40px;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n text-align: center;\n font-size: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress_download {\n left: 0px;\n bottom: 0px;\n height: 5px;\n font-size: 1px;\n -webkit-transition: width 0.2s linear;\n -moz-transition: width 0.2s linear;\n -o-transition: width 0.2s linear;\n transition: width 0.2s linear;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_button_pause,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_button_fullscreen,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_button_volume,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_button_pause,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_button_fullscreen,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_button_volume,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_button_volume,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_button_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_button_fullscreen,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_button_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_video_button_fullscreen,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_button_replay,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_social_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_video_social_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_video_social_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_video_social_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_video_social_controls,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfoldable.ayl_private_video_loading .ayl_video_button_close,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfoldable.ayl_private_video_cued .ayl_video_button_close,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfoldable.ayl_private_video_playing .ayl_video_button_close,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfoldable.ayl_private_video_paused .ayl_video_button_close,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_unfoldable.ayl_private_video_stopped .ayl_video_button_close,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_video_spinner,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_on,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_off,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_muted .ayl_video_button_volume_muted,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_proceedable .ayl_response_proceed {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_credit {\n text-align: right;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_button {\n text-align: center;\n font-size: 10px;\n line-height: 25px;\n color: #ffffff;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button {\n position: absolute;\n left: 10px;\n bottom: 0px;\n width: 14px;\n height: 14px;\n cursor: pointer;\n text-align: center;\n font-size: 10px;\n line-height: 16px;\n color: #ffffff;\n overflow: hidden;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_fullscreen,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_pause,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_replay,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume {\n bottom: 9px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_off,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_on,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_volume_muted {\n left: 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_spinner {\n display: none;\n position: absolute;\n left: 145px;\n top: 136px;\n width: 16px;\n height: 16px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_top_controls .ayl_video_button {\n bottom: "+_tw_expr((v.VideoToolbarTopHeight-v.VideoToolbarTopIconsSize)/2)+"px;\n right: "+_tw_expr((v.VideoToolbarTopHeight-v.VideoToolbarTopIconsSize)/2-3)+"px;\n left: auto;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_social_controls {\n position: absolute;\n top: "+_tw_expr((v.VideoToolbarTopHeight-v.VideoToolbarTopSocialIconsSize)/2)+"px;\n left: 0;\n z-index: 6;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_social_controls .ayl_video_button {\n display: block;\n position: static;\n float: left;\n margin: "+_tw_expr(v.MarginSizeFromWidgetWidth)+"px 0 0 "+_tw_expr(v.MarginSizeFromWidgetWidth)+"px;\n width: "+_tw_expr(v.VideoToolbarTopSocialIconsSize)+"px;\n height: "+_tw_expr(v.VideoToolbarTopSocialIconsSize)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_social_controls .ayl_video_button_twitter {\n left: "+_tw_expr((v.VideoToolbarTopHeight-v.VideoToolbarTopSocialIconsSize)/2+v.VideoToolbarTopSocialIconsSize)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_facebook {\n background-position: -128px -112px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_facebook:hover {\n background-position: "+_tw_expr(-128-v.VideoToolbarTopSocialIconsSize)+"px -112px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_twitter {\n background-position: -79px -112px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_button_twitter:hover {\n background-position: "+_tw_expr(-79-v.VideoToolbarTopSocialIconsSize)+"px -113px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_expanding_header {\n top: "+_tw_expr(-1*v.HeaderHeight-1)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_header {\n left: 0px;\n z-index: -1;\n height: "+_tw_expr(v.HeaderHeight)+"px;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n font-family: Frank-Medium, Verdana;\n border: 1px solid #B3B5B8;\n -webkit-border-top-left-radius: 8px;\n -webkit-border-top-right-radius: 8px;\n -moz-border-radius-topleft: 8px;\n -moz-border-radius-topright: 8px;\n border-top-left-radius: 8px;\n border-top-right-radius: 8px;\n background: white;\n background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjIzJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNkZmUwZTMiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);\n background: -moz-linear-gradient(top, #ffffff 40%, #bcbfc4);\n background: -webkit-gradient(linear, left top, left bottom, color-stop(50%, #ffffff), color-stop(#bcbfc4));\n background: -webkit-linear-gradient(top, #ffffff 40%, #bcbfc4);\n background: -o-linear-gradient(top, #ffffff 40%, #bcbfc4);\n background: -ms-linear-gradient(top, #ffffff 40%, #bcbfc4);\n background: linear-gradient(to bottom, #ffffff 40%, #bcbfc4);\n filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dfe0e3', GradientType=0);\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_header .ayl_expanding_header_background {\n height: 64px;\n position: absolute;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_content {\n height: "+_tw_expr(v.ResponseContentHeight)+"px;\n top: "+_tw_expr(v.HeaderHeight+v.WidgetVisualHeight)+"px;\n left: 0px;\n border: 1px solid #B3B5B8;\n width: "+_tw_expr(v.WidgetWidth)+"px;\n -webkit-border-bottom-left-radius: 8px;\n -webkit-border-bottom-right-radius: 8px;\n -moz-border-radius-bottomleft: 8px;\n -moz-border-radius-bottomright: 8px;\n border-bottom-left-radius: 8px;\n border-bottom-right-radius: 8px;\n background: white;\n background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjIzJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNkZmUwZTMiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);\n background: -moz-linear-gradient(top, #ffffff 50%, #bcbfc4);\n background: -webkit-gradient(linear, left top, left bottom, color-stop(50%, #ffffff), color-stop(#bcbfc4));\n background: -webkit-linear-gradient(top, #ffffff 50%, #bcbfc4);\n background: -o-linear-gradient(top, #ffffff 50%, #bcbfc4);\n background: -ms-linear-gradient(top, #ffffff 50%, #bcbfc4);\n background: linear-gradient(to bottom, #ffffff 50%, #bcbfc4);\n filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dfe0e3', GradientType=0);\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_response_content {\n height: "+_tw_expr(v.HighResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_response_content {\n height: "+_tw_expr(v.HighResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_private_proceedable .ayl_response_content {\n height: "+_tw_expr(v.ResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress_content {\n display: none;\n width: "+_tw_expr(v.WidgetResponseGlobalWidth)+"px;\n height: 14px;\n left: "+_tw_expr((v.WidgetWidth-v.WidgetResponseGlobalWidth)/2)+"px;\n top: "+_tw_expr((v.ResponseContentHeight-12)/2)+"px;\n font-size: 1px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response {\n display: none;\n width: "+_tw_expr(v.WidgetResponseWidth)+"px;\n left: "+_tw_expr((v.WidgetWidth-v.WidgetResponseGlobalWidth)/2)+"px;\n top: 24px;\n height: 25px;\n border: 1px solid #808588;\n -webkit-radius: 3px;\n -moz-border-radius: 3px;\n border-radius: 3px;\n -moz-box-shadow: inset 0 0 3px #808588;\n -webkit-box-shadow: inset 0 0 3px #808588;\n box-shadow: inset 0 0 3px #808588;\n background: #e4e5e6;\n background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2U0ZTVlNiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);\n background: -moz-linear-gradient(top, #e4e5e6 0%, #ffffff 100%);\n background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #e4e5e6), color-stop(100%, #ffffff));\n background: -webkit-linear-gradient(top, #e4e5e6 0%, #ffffff 100%);\n background: -o-linear-gradient(top, #e4e5e6 0%, #ffffff 100%);\n background: -ms-linear-gradient(top, #e4e5e6 0%, #ffffff 100%);\n background: linear-gradient(to bottom, #e4e5e6 0%, #ffffff 100%);\n filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#e4e5e6', endColorstr='#ffffff', GradientType=0);\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_error_message {\n display: block;\n top: 26px;\n left: 1px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_input {\n left: 0px;\n top: 0px;\n height: 25px;\n border: 0;\n font-family: Frank-Medium, Verdana;\n background: transparent;\n padding-left: 9px;\n font-size: 14px;\n font-style: normal;\n color: "+_tw_expr(v.TextColor)+";\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_instructions {\n position: absolute;\n top: 6px;\n left: "+_tw_expr((v.WidgetWidth-v.WidgetResponseGlobalWidth)/2)+"px;\n height: 18px;\n text-align: left;\n font-size: 12px;\n font-family: Verdana;\n color: #4A494A;\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_instructions .ayl_code {\n color: #3A3A3A;\n font-size: 11px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_response_proceed {\n display: none;\n position: absolute;\n margin: 0;\n padding: 0;\n height: 17px;\n left: "+_tw_expr((v.WidgetWidth-280)/2)+"px;\n top: "+_tw_expr((v.ResponseContentHeight-17)/2)+"px;\n text-align: center;\n width: 280px;\n bottom: 18px;\n font-size: 14px;\n font-family: Frank, Verdana;\n color: #27313a;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress_bg,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress {\n -webkit-border-radius: 4px;\n -moz-border-radius: 4px;\n border-radius: 4px;\n -moz-box-shadow: inset 0 0 4px #808588;\n -webkit-box-shadow: inset 0 0 4px #808588;\n box-shadow: inset 0 0 4px #808588;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress_bg {\n position: absolute;\n background: #C6D0D8;\n border: 1px solid #B3B5B8;\n width: "+_tw_expr(v.WidgetCodeProgressWidth)+"px;\n height: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress {\n height: 12px;\n background: #FFFFFF;\n width: 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code_progress_message_countdown {\n font-size: 12px;\n display: block;\n position: absolute;\n right: 0px;\n height: 14px;\n color: #5B5C5C;\n font-family: Verdana;\n line-height: 15px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_background {\n position: absolute;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_validate_btn {\n color: #8E8E8E;\n font-family: Frank, Verdana;\n font-size: 15px;\n cursor: pointer;\n overflow: hidden;\n border: 0;\n width: 64px;\n height: 26px;\n left: "+_tw_expr(v.WidgetResponseWidth+1)+"px;\n top: 0px;\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -117px -189px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_validate_btn:hover {\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -117px -221px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_button,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_clickable {\n cursor: pointer;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_button,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_credit {\n background-image: url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png');\n text-align: left;\n text-indent: -9999px;\n background-repeat: no-repeat;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_credit {\n background-position: 54px -112px;\n height: 16px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_credit:hover {\n background-position: 54px -128px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_reload {\n background-position: -50px -16px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_reload:hover {\n background-position: -75px -16px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_play {\n background-position: -65px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_play:hover {\n background-position: -80px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_fullscreen {\n left: auto;\n right: 10px;\n background-position: -89px -96px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_fullscreen:hover {\n background-position: -108px -96px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_pause {\n background-position: -36px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_pause:hover {\n background-position: -49px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_close {\n display: none;\n background-position: 0px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_close:hover {\n background-position: -16px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_volume {\n left: 34px;\n background-position: -9999px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_volume .ayl_video_button_volume_off {\n background-position: -2px -80px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_volume .ayl_video_button_volume_on {\n background-position: -88px -64px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_volume .ayl_video_button_volume_on:hover {\n background-position: -100px -64px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_button_volume .ayl_video_button_volume_muted {\n background-position: -45px -97px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_play {\n width: 56px;\n height: 40px;\n top: auto;\n background-position: -132px 0px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_unfolded .ayl_video_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_video_glass_click:hover .ayl_video_play {\n background-position: -132px -40px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_env_sticker {\n color: white;\n background-color: #AA0000;\n cursor: help;\n position: absolute;\n left: 5px;\n top: -15px;\n width: 70px;\n height: 15px;\n line-height: 15px;\n vertical-align: middle;\n text-align: center;\n font-size: 9px;\n font-weight: bold;\n border-radius: 5px 5px 0 0;\n text-transform: uppercase;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_video_frame,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_block_outside,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_block_inside {\n background-color: black;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_spinner {\n background-image: url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/spinner.gif');\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_countdown,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_message_click {\n color: #FFFFFF;\n font-weight: bold;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress {\n border-bottom: 1px solid #B3B5B8;\n background-color: #E8E8E8;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress_download {\n background-color: #353535;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_video_progress_download {\n line-height: 1px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_code {\n color: #AFAFAF;\n font-weight: bold;\n font-size: "+_tw_expr(v.TextFontSize+2)+";\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_subcontainer .ayl_instructions {\n font-size: "+_tw_expr(v.FontSizeFromWidgetWidth)+";\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder_type_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_state_placeholder_play {\n width: 280px;\n display: none;\n height: 22px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image.ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_stopped .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video .ayl_state_placeholder_type_message {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_image .ayl_state_placeholder_type_message,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_start .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_loading .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_cued .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_playing .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_private_video_paused .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_video.ayl_private_video_stopped .ayl_state_placeholder_type_message {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_hidden {\n position: absolute;\n left: -9999px;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_header {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_response_content {\n background: transparent;\n border: none;\n filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_medium_video .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_medium_video .ayl_video_message_countdown {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_drop_shadow::before,\n#root_captcha"+_tw_expr(v.RndId)+'.ayl_light_version .ayl_drop_shadow::after {\n content: "";\n position: absolute;\n z-index: -2;\n}\n#root_captcha'+_tw_expr(v.RndId)+".ayl_light_version .ayl_engine_adyoulike .ayl_image::before {\n right: 0;\n top: 10px;\n bottom: 10px;\n left: 0;\n -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);\n -moz-box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);\n box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_drop_shadow {\n -webkit-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\n -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\n box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_display_version_normal .ayl_response_content::before,\n#root_captcha"+_tw_expr(v.RndId)+'.varr_display_version_normal .ayl_response_content::after {\n content: "";\n position: absolute;\n z-index: -4;\n}\n#root_captcha'+_tw_expr(v.RndId)+".varr_display_version_normal .ayl_response_content::before {\n -webkit-border-radius: 10px;\n -moz-border-radius: 10px;\n border-radius: 10px;\n right: 12px;\n top: 50%;\n bottom: 0;\n left: 12px;\n -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n -moz-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_display_version_normal .ayl_header::before,\n#root_captcha"+_tw_expr(v.RndId)+'.varr_display_version_normal .ayl_header::after {\n content: "";\n position: absolute;\n z-index: -4;\n}\n#root_captcha'+_tw_expr(v.RndId)+".varr_display_version_normal .ayl_header::before {\n -webkit-border-radius: 10px;\n -moz-border-radius: 10px;\n border-radius: 10px;\n right: 12px;\n top: 0;\n bottom: 50%;\n left: 12px;\n -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n -moz-box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_no_response_input .ayl_medium_image .ayl_response {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_no_response_input .ayl_medium_image .ayl_response_content {\n height: "+_tw_expr(v.ResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_plugin_skippable_video .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_medium_video .ayl_video_message_countdown {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_private_video_cued .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_private_video_stopped .ayl_code_progress_content {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".ayl_light_version .ayl_plugin_skippable_video .ayl_private_skippable .ayl_code_progress_content {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_skippable .ayl_instructions {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_skippable .ayl_instructions_skip {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_response_content {\n height: "+_tw_expr(v.HighResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_response {\n top: "+_tw_expr((v.HighResponseContentHeight-25)/2)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_to_medium_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_to_medium_image,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_reload {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_instructions_proceed {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_response_input,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video.ayl_container .ayl_private_proceedable .ayl_instructions_visual {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_proceedable .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_proceedable .ayl_response_instructions,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_proceedable .ayl_state_placeholder_play {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_video .ayl_private_skippable .ayl_state_placeholder_type_message {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_response_content {\n height: "+_tw_expr(v.ResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_private_skippable .ayl_response_content {\n height: "+_tw_expr(v.HighResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_private_skippable .ayl_placeholder,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_private_skippable .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_response_instructions {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_code_progress_content,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_private_skippable .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_skippable_image .ayl_private_skippable .ayl_response_instructions {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick .ayl_container .ayl_state_placeholder_type_message,\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick .ayl_container .ayl_private_skippable .ayl_state_placeholder_play {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick .ayl_container .ayl_state_placeholder_play,\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick .ayl_container .ayl_private_skippable .ayl_state_placeholder_type_message {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick .ayl_container .ayl_code_progress_content {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick_delayed .ayl_container .ayl_code_progress_content {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick_delayed .ayl_container .ayl_waiting_skip_click .ayl_code_progress_content {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick_delayed .ayl_container .ayl_waiting_skip_click .ayl_click_information {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+'.varr_skip_onclick_delayed .ayl_container .ayl_waiting_skip_click .ayl_image_iframe {\n -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n filter: alpha(opacity=0);\n opacity: 0;\n}\n#root_captcha'+_tw_expr(v.RndId)+".varr_skip_onclick_delayed .ayl_container .ayl_waiting_skip_click .ayl_state_placeholder {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+".varr_skip_onclick_delayed .ayl_container .ayl_private_proceedable .ayl_response_proceed {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_unrully_clicktoplay.ayl_waitfor .ayl_response_input {\n background-color: #DDD;\n font-size: 11px;\n font-style: italic;\n color: #AAA;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_plugin_unrully_clicktoplay .ayl_placeholder {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_help_small_button {\n top: 6px;\n right: "+_tw_expr(v.LayoutVerticalHpadding+v.LayoutVerticalIndentation-v.InsideBorderSize-3)+"px;\n height: 14px;\n width: 14px;\n cursor: pointer;\n display: block;\n position: absolute;\n margin: 0;\n padding: 0;\n font-size: 1px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_help_small_button {\n top: 8px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_help_small_button {\n background-image: url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png');\n text-align: left;\n text-indent: -9999px;\n background-repeat: no-repeat;\n background-position: -163px -97px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_engine_adyoulike .ayl_help_small_button:hover {\n background-position: -178px -97px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_fblike {\n position: absolute;\n display: block;\n margin: 0;\n padding: 0;\n width: 260px;\n font-family: Frank, Verdana;\n color: #5A5B5B;\n font-weight: normal;\n height: auto;\n left: 22px;\n top: 12px;\n text-align: left;\n font-size: 12px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_fblike .ayl_instructions_fblike_title {\n font-family: Frank-Medium, Verdana;\n color: #8E8E8E;\n font-size: 14px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead.ayl_lead .ayl_instructions_fblike {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_instructions_fblike {\n left: 335px;\n bottom: 29px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_nofb_button {\n position: absolute;\n cursor: pointer;\n display: block;\n margin: 0;\n padding: 0;\n width: 120px;\n font-weight: normal;\n font-family: Frank;\n height: auto;\n left: 22px;\n bottom: 16px;\n text-align: left;\n text-decoration: underline;\n font-size: 12px;\n color: #989999;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_nofb_button:hover {\n color: #989999;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead.ayl_lead .ayl_fblike_nofb_button {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_fblike_nofb_button {\n left: 395px;\n bottom: 14px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_btn_button {\n position: absolute;\n margin: 0;\n padding: 0;\n display: none;\n height: 26px;\n width: 79px;\n top: 12px;\n right: 22px;\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -4px -150px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_btn_button:hover {\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -86px -150px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_layout_horizontal .ayl_fblike_btn_button {\n left: 587px;\n bottom: 30px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead.ayl_nolead .ayl_fblike_btn_button {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead.ayl_nolead .ayl_fblike_btn_hidden {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_btn_logo {\n display: block;\n position: absolute;\n margin: 0;\n padding: 0;\n background: transparent url('"+_tw_expr(v.StaticPrefix)+"/theme/adyoulike/theme.png') no-repeat -176px -80px;\n width: 16px;\n height: 16px;\n top: 1px;\n left: 4px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_fblike_btn_text {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_proceed {\n display: none;\n bottom: 30px;\n font-size: 12px;\n width: 145px;\n text-align: center;\n left: 73px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead.ayl_lead .ayl_instructions_proceed {\n display: block;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_response,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_reload,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_video,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_audio,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_visual,\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_instructions_visual_folded {\n display: none;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_response_content {\n height: "+_tw_expr(v.LeadHighResponseContentHeight)+"px;\n}\n#root_captcha"+_tw_expr(v.RndId)+" .ayl_medium_lead .ayl_private_proceedable .ayl_response_content {\n height: "+_tw_expr(v.ResponseContentHeight)+"px;\n}\n#validate"+_tw_expr(v.RndId)+" {\n font-family: Frank, Verdana;\n text-align: right;\n margin:auto;\n width:300px;\n}\n#validate_button"+_tw_expr(v.RndId)+" {\n cursor: pointer;\n background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ededed), color-stop(1, #dfdfdf) );\n background:-moz-linear-gradient( center top, #ededed 5%, #dfdfdf 100% );\n background-color:#ededed;\n text-indent:0px;\n border:1px solid #dcdcdc;\n display:inline-block;\n color:#333333;\n font-family:Arial;\n font-size:14px;\n font-weight:bold;\n font-style:normal;\n height:34px;\n line-height:34px;\n width:90px;\n text-decoration:none;\n text-align:center;\n}\n#validate_button"+_tw_expr(v.RndId)+":hover {\n color:#555555;\n}\n#validate_button"+_tw_expr(v.RndId)+":active {\n color:#888888;\n}\n"),_result.join("")
}exports.Template=Template});
define("js/fo/captcha/captcha_theme_adyoulike_variables",["require","exports","util/str"],function(require,exports,str){function New(params){var RndId=params.Rndid,FormatBigPreplayX=0,FormatBigPreplayY=0,FormatBigX=0,FormatBigY=IsVideo?24:0,FormatBigW=640,FormatBigH=360;FormatBigPreplayX=900,FormatBigPreplayY=0,FormatBigX=0,FormatBigY=IsVideo?24:0,FormatBigW=300,FormatBigH=250;var Ratio=4/340*(FormatBigW-300),WithValidate=!1,IsVideo=!1,VideoToolbarTopHeight=24,VideoToolbarBottomHeight=24,BigButtonsSize=25,FontSizeFromWidgetWidth=10+Ratio,HeaderHeight=55,HighResponseContentHeight=62,HinterspaceInside=7,InsideBorderSize=0,LayoutHorizontalHpadding=10,LayoutVerticalHpadding=0,LayoutVerticalIndentation=10,LeadHighResponseContentHeight=82,MarginSizeFromWidgetWidth=1+Ratio,ResponseContentHeight=32,StaticPrefix=str.EscapeHTML(params.Config.StaticPrefix)+"/captcha",TextColor="#000",TextFontFamily="Verdana",TextFontSize=10,TextFontStyle="normal",TextFontVariant="normal",TextLineHeight=12,VideoToolbarBottomHeight=24,VideoToolbarTopHeight=24,VideoToolbarTopIconsSize=16,VideoToolbarTopSocialIconsSize=24,WidgetCodeProgressWidth=214,WidgetHeight=FormatBigH+HeaderHeight+64,WidgetResponseGlobalWidth=270,WidgetResponseWidth=WidgetResponseGlobalWidth+(WithValidate?-65:0),WidgetVisualHeight=FormatBigH+(IsVideo?VideoToolbarTopHeight+VideoToolbarBottomHeight:0),WidgetWidth=FormatBigW;return{BigButtonsSize:BigButtonsSize,FontSizeFromWidgetWidth:FontSizeFromWidgetWidth,FormatBigPreplayX:FormatBigPreplayX,FormatBigPreplayY:FormatBigPreplayY,FormatBigX:FormatBigX,FormatBigY:FormatBigY,HeaderHeight:HeaderHeight,HighResponseContentHeight:HighResponseContentHeight,HinterspaceInside:HinterspaceInside,InsideBorderSize:InsideBorderSize,LayoutHorizontalHpadding:LayoutHorizontalHpadding,LayoutVerticalHpadding:LayoutVerticalHpadding,LayoutVerticalIndentation:LayoutVerticalIndentation,LeadHighResponseContentHeight:LeadHighResponseContentHeight,MarginSizeFromWidgetWidth:MarginSizeFromWidgetWidth,ResponseContentHeight:ResponseContentHeight,RndId:RndId,StaticPrefix:StaticPrefix,TextColor:TextColor,TextFontFamily:TextFontFamily,TextFontSize:TextFontSize,TextFontStyle:TextFontStyle,TextFontVariant:TextFontVariant,TextLineHeight:TextLineHeight,VideoToolbarBottomHeight:VideoToolbarBottomHeight,VideoToolbarTopHeight:VideoToolbarTopHeight,VideoToolbarTopIconsSize:VideoToolbarTopIconsSize,VideoToolbarTopSocialIconsSize:VideoToolbarTopSocialIconsSize,WidgetCodeProgressWidth:WidgetCodeProgressWidth,WidgetHeight:WidgetHeight,WidgetResponseGlobalWidth:WidgetResponseGlobalWidth,WidgetResponseWidth:WidgetResponseWidth,WidgetVisualHeight:WidgetVisualHeight,WidgetWidth:WidgetWidth}}exports.New=New});
define("js/fo/captcha/statemachine",["require","exports","util/time","util/str","lib/jquery"],function(require,exports,time,str,jquery){var Diff=(jquery.jQuery,function(){function Diff(newDiff){this.klass=Diff,this.Modifs=[],this.listOfSubdiffEntries=[],this.events={},this.NewDiff=newDiff}return Diff.toString=function(){return"DiffClass<"+this.Name+">"},Diff.prototype.toString=function(){return"Diff<"+this.klass.Name+">"},Diff.prototype.onInit=function(){},Diff.prototype.Enter=function(){this.initRun||this.onInit(),this.onEnter()},Diff.prototype.onEnter=function(){},Diff.prototype.Exit=function(){for(var destruct;destruct=this.Modifs.pop();)destruct();this.onExit()},Diff.prototype.onExit=function(){},Diff.prototype.NewTimer=function(params){var timer=new time.Timer(params);return this.Modifs.push(function(){timer.Stop()}),timer},Diff.prototype.NewWaiter=function(params){var waiter=new time.Waiter(params);return this.Modifs.push(function(){waiter.Stop()}),waiter},Diff.prototype.EnterSubdiff=function(diffClass){var _this=this,diff=this.NewDiff(diffClass);diff.NewDiff=this.NewDiff,diff.parentDiff=this;for(var i=0;i<this.listOfSubdiffEntries.length;i++)if(this.listOfSubdiffEntries[i].diffClass===diffClass)throw new Error("EnterSubdiff called twice for the same diff '"+diffClass+"'");var destructor=function(){_this.ExitSubdiff(diffClass)};this.Modifs.push(destructor),this.listOfSubdiffEntries.push({diffClass:diffClass,diff:diff,destructor:destructor}),diff.Enter()},Diff.prototype.ExitSubdiff=function(diffClass){for(var i=0;i<this.listOfSubdiffEntries.length;i++)if(this.listOfSubdiffEntries[i].diffClass===diffClass){var diffEntry=this.listOfSubdiffEntries[i];this.listOfSubdiffEntries.splice(i,1);for(var j=0;j<this.Modifs.length;j++)if(this.Modifs[j]===diffEntry.destructor){this.Modifs.splice(j,1);break}return void diffEntry.diff.Exit()}throw new Error("ExitSubdiff called for a diff '"+diffClass+"' without EnterSubdiff")},Diff.prototype.Bind=function(diffClass,eventName,func){for(var diff=this;diff&&diff.klass!==diffClass;)diff=diff.parentDiff;if(null==diff)throw new Error("Can only bind an event of an ancestor Diff");var funcs=diff.events[eventName];funcs||(funcs=diff.events[eventName]=[]),funcs.push({f:func,i:this}),this.Modifs.push(function(){for(var i=0;i<funcs.length;i++)if(funcs[i].f===func)return void funcs.splice(i,1)})},Diff.prototype.Trigger=function(diffClass,eventName){for(var args=[],_i=0;_i<arguments.length-2;_i++)args[_i]=arguments[_i+2];for(var diff=this;diff&&diff.klass!==diffClass;)diff=diff.parentDiff;if(null==diff)throw new Error("Can only trigger an event of an ancestor Diff");var funcs=diff.events[eventName];if(funcs)for(var i=0;i<funcs.length;i++)funcs[i].f.apply(funcs[i].i,args)},Diff}());exports.Diff=Diff;var DiffSwitch=function(){function DiffSwitch(parentDiff){this.parentDiff=parentDiff}return DiffSwitch.prototype.Switch=function(diffClass){this.currentDiffClass!==diffClass&&(null!=this.currentDiffClass&&this.parentDiff.ExitSubdiff(this.currentDiffClass),this.currentDiffClass=diffClass,null!=this.currentDiffClass&&this.parentDiff.EnterSubdiff(this.currentDiffClass))},DiffSwitch}();exports.DiffSwitch=DiffSwitch;var RevertableJQuery=function(){function RevertableJQuery(diff,el){this.htmlSet=!1,this.textSet=!1,this.valSet=!1,this.propSet={},this.addClassSet=!1,this.cssSet=!1,this.showhideSet=!1,this.disableenableSet=!1,this.diff=diff,this.el=el}return RevertableJQuery.prototype.Html=function(value){var _this=this;if(0==arguments.length)return this.el.html();if(!this.htmlSet){this.htmlSet=!0;var backup=this.el.html();this.diff.Modifs.push(function(){_this.htmlSet=!1,_this.el.html(backup)})}return this.el.html(value),this},RevertableJQuery.prototype.Text=function(value){var _this=this;if(0==arguments.length)return this.el.text();if(!this.textSet){this.textSet=!0;var backup=this.el.text();this.diff.Modifs.push(function(){_this.textSet=!1,_this.el.text(backup)})}return str.IsTainted(value)&&(value=str.Untaint(value)),this.el.text(value),this},RevertableJQuery.prototype.Val=function(value){var _this=this;if(0==arguments.length)return this.el.val();if(!this.valSet){this.valSet=!0;var backup=this.el.val();backup=void 0===backup?null:backup,this.diff.Modifs.push(function(){_this.valSet=!1,_this.el.val(backup)})}return str.IsTainted(value)&&(value=str.Untaint(value)),this.el.val(value),this},RevertableJQuery.prototype.Prop=function(name,value){var _this=this;if(0==arguments.length)return this.el.prop(name);if(!(name in this.propSet)){this.propSet[name]=!0;var backup=this.el.prop(name);backup=void 0===backup?null:backup,this.diff.Modifs.push(function(){_this.el.prop(name,backup),delete _this.propSet[name]})}return this.el.prop(name,value),this},RevertableJQuery.prototype.AddClass=function(value){var _this=this;if(!this.addClassSet){this.addClassSet=!0;var hasClass=this.el.hasClass(value);this.diff.Modifs.push(function(){hasClass||(_this.addClassSet=!1,_this.el.removeClass(value))})}return this.el.addClass(value),this},RevertableJQuery.prototype.Css=function(properties){var _this=this;this.cssSet||(this.cssSet=!0,this.cssBackup={},this.diff.Modifs.push(function(){_this.cssSet=!1,_this.el.css(_this.cssBackup)}));var css=this.el.prop("style");for(var prop in properties){var replacer=function(all,letter){return letter.toUpperCase()};prop=prop.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,replacer),prop in this.cssBackup||(this.cssBackup[prop]=css[prop])}return this.el.css(properties),this},RevertableJQuery.prototype.Height=function(height){return 0==arguments.length?this.el.height():this.Css({height:height+"px"})},RevertableJQuery.prototype.Width=function(width){return 0==arguments.length?this.el.width():this.Css({width:width+"px"})},RevertableJQuery.prototype.showHideBackup=function(){var _this=this;if(!this.showhideSet){this.showhideSet=!0;var showhideElWasHidden=this.el.is(":hidden");this.diff.Modifs.push(function(){_this.showhideSet=!1,showhideElWasHidden?_this.el.hide():_this.el.show()})}},RevertableJQuery.prototype.Show=function(){return this.showHideBackup(),this.el.show(),this},RevertableJQuery.prototype.Hide=function(){return this.showHideBackup(),this.el.hide(),this},RevertableJQuery.prototype.disableenableBackup=function(){var _this=this;if(!this.disableenableSet){this.disableenableSet=!0;var backup=this.el.prop("disabled");backup=void 0===backup?null:backup,this.diff.Modifs.push(function(){_this.disableenableSet=!1,_this.el.prop("disabled",backup)})}},RevertableJQuery.prototype.Disable=function(){return this.disableenableBackup(),this.el.prop("disabled",!0),this},RevertableJQuery.prototype.Enable=function(){return this.disableenableBackup(),this.el.prop("disabled",!1),this},RevertableJQuery.prototype.On=function(eventName,handler){var _this=this,namespace=".ayl_revertablejquery_"+ ++RevertableJQuery.onCounter;return this.el.on(eventName+namespace,handler),this.diff.Modifs.push(function(){_this.el.off(eventName+namespace)}),this},RevertableJQuery.onCounter=0,RevertableJQuery}();exports.RevertableJQuery=RevertableJQuery});
define("js/fo/native/main",["require","exports","util/str","omnitag/gostructs","util/analytics","nativestructs","carrier/loader","integration/loader","lib/jquery","lib/countdown","util/trigger","util/i99n","util/native/dom/element"],function(require,exports,str,gostructs,analytics,nativestructs,carrier_loader,integration_loader,jquery,countdown,trigger,i99n,ayl_element){function Load(config){var na=new nativeAttempt(config);na.Inject()}function LoadDisabled(config){config.Genus==gostructs.GenusKind.AD_TO_CONTENT&&trigger.TriggerEvent(gostructs.EventKind.GET_CONTENT,config)}var $=jquery.jQuery;exports.Load=Load,exports.LoadDisabled=LoadDisabled;var nativeAttempt=function(){function nativeAttempt(config){this.config=config,this.isUITriggerClickEnabled=!1,this.uiTriggerScrollDone=!1,this.uiTriggerMouseOverDone=!1,this.callbackDeclareRun=!1,this.carrierOpened=!1}return nativeAttempt.prototype.Inject=function(){var _this=this;if(this.config.Genus==gostructs.GenusKind.SPONSOR_POST){var title=str.Untaint(i99n.T({lang:this.config.Lang,kind:gostructs.TranslationKind.NATIVE_TITLE,source:this.config.Translations,defaultValue:""}));document.title=title}var afterLoadCallback=function(mainContentElement,injectedNodes){_this.mainContentElement=mainContentElement,_this.injectedNodes=injectedNodes,_this.config.Integration==gostructs.NativeIntegrationKind.NONE?_this.registerPerformUITriggers():_this.command(_this.mainContentElement?nativestructs.CommandKind.DECLARE_SUCCESS:nativestructs.CommandKind.DECLARE_ERROR)},uiTrigger=function(nativeUITriggerKind){_this.uiTrigger(nativeUITriggerKind)};integration_loader.Load(this.config.Integration,this.config,afterLoadCallback,uiTrigger)},nativeAttempt.prototype.uiTrigger=function(nativeUITriggerKind){switch(nativeUITriggerKind){case gostructs.NativeUITriggerKind.CLICK_ARTICLE:this.isUITriggerClickEnabled&&this.command(nativestructs.CommandKind.PERFORM);break;case gostructs.NativeUITriggerKind.SCROLL:this.uiTriggerScrollDone||(this.uiTriggerScrollDone=!0,this.command(nativestructs.CommandKind.PERFORM));break;case gostructs.NativeUITriggerKind.CLICK_CLOSE:this.command(nativestructs.CommandKind.REMOVE);break;default:throw new Error("Unknown NativeUITriggerKind: "+nativeUITriggerKind)}},nativeAttempt.prototype.registerPerformUITriggers=function(){for(var _this=this,i=0;i<this.config.PerformUITriggers.length;i++){var nativeUITriggerKind=this.config.PerformUITriggers[i];switch(nativeUITriggerKind){case gostructs.NativeUITriggerKind.LOAD:this.command(nativestructs.CommandKind.PERFORM);break;case gostructs.NativeUITriggerKind.CLICK_ARTICLE:this.isUITriggerClickEnabled=!0;break;case gostructs.NativeUITriggerKind.SCROLL:var documentTop,documentBottom,container=$(this.mainContentElement),validAdreaderHeight=container.width()*(9/16),validAdreaderTop=container.offset().top,validAdreaderBottom=validAdreaderTop+validAdreaderHeight,canPerform=function(){var canBePerformed;switch(_this.config.Carrier){case gostructs.NativeCarrierKind.ADREADER:documentTop=$(window).scrollTop(),documentBottom=documentTop+$(window).height(),canBePerformed=validAdreaderTop>=documentTop&&documentBottom>=validAdreaderBottom;break;default:canBePerformed=ayl_element.IsVisibleElement(container[0],1)}return canBePerformed},checkPerformOnScrollHandler=function(){return _this.uiTriggerScrollDone?!1:void(canPerform()&&(_this.uiTriggerScrollDone=!0,_this.command(nativestructs.CommandKind.PERFORM)))};$(window).scroll(function(){checkPerformOnScrollHandler()}),checkPerformOnScrollHandler();break;case gostructs.NativeUITriggerKind.MOUSE_OVER:var uid=str.EscapeHTML(this.config.Attempt),container=$(this.mainContentElement),cd=new countdown.Countdown(container,uid,3,.6,!0,function(){_this.uiTriggerMouseOverDone=!0,_this.command(nativestructs.CommandKind.PERFORM)});if(!cd.IsDisplayable())return;var display_cd=function(){cd.IsDisplayed()||_this.carrierOpened||_this.uiTriggerMouseOverDone||(cd.Reset(),cd.Display(),cd.Start())};container.hover(function(){display_cd()},function(){cd.Pause(),cd.Hide()});var mouseX,mouseY,cPosition=container.position(),mousemoveHandler=function(eventObject){mouseX=eventObject.pageX,mouseY=eventObject.pageY,cPosition.left<=mouseX&&mouseX<=cPosition.left+container.width()&&cPosition.top<=mouseY&&mouseY<=cPosition.top+container.height()&&(container.off("mousemove",mousemoveHandler),display_cd())};container.on("mousemove",mousemoveHandler);break;default:throw new Error("Unknown NativeUITriggerKind: "+nativeUITriggerKind)}}},nativeAttempt.prototype.command=function(commandKind){switch(commandKind){case nativestructs.CommandKind.DECLARE_SUCCESS:this.commandDeclareSuccess();break;case nativestructs.CommandKind.DECLARE_ERROR:this.commandDeclareError();break;case nativestructs.CommandKind.PERFORM:this.commandPerform();break;case nativestructs.CommandKind.REMOVE:this.commandRemove()}},nativeAttempt.prototype.commandDeclareSuccess=function(){var _this=this;if(!this.callbackDeclareRun){this.callbackDeclareRun=!0,this.triggerEvent(gostructs.EventKind.INSERTION),analytics.DeclareInsertionSuccess(this.config);var checkInjectorVisibility=function(){var visible=ayl_element.IsVisibleElement(_this.mainContentElement,.5);return visible&&_this.triggerEvent(gostructs.EventKind.VISIBLE_INSERTION),visible},checkInjectorVisibilityHandler=function(eventObject){checkInjectorVisibility()&&eventObject&&$(window).off(eventObject.type,checkInjectorVisibilityHandler)};$(window).on("scroll",checkInjectorVisibilityHandler),$(window).on("resize",checkInjectorVisibilityHandler),checkInjectorVisibility(),this.registerPerformUITriggers()}},nativeAttempt.prototype.commandDeclareError=function(){this.callbackDeclareRun||(this.callbackDeclareRun=!0,analytics.DeclareInsertionFailure(this.config))},nativeAttempt.prototype.commandPerform=function(){var _this=this;this.triggerEvent(gostructs.EventKind.NATIVEACTION),this.carrierOpened||(this.carrierOpened=!0,carrier_loader.Load(this.config.Carrier,this.mainContentElement,this.config,function(){_this.carrierOpened=!1}))},nativeAttempt.prototype.commandRemove=function(){this.triggerEvent(gostructs.EventKind.NATIVEREMOVE),$(this.injectedNodes).remove()},nativeAttempt.prototype.triggerEvent=function(eventKind){trigger.TriggerEvent(eventKind,this.config,this.config.Campaign)},nativeAttempt}()});
define("js/fo/native/nativestructs",["require","exports","util/str"],function(require,exports,str){var CommandKind=function(){function CommandKind(value){this.value=value,CommandKind.map[value]=this}return CommandKind.prototype.toString=function(){return this.value},CommandKind.Cast=function(value){var result=CommandKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid constant: "+str.Untaint(value));return result},CommandKind.map={},CommandKind.DECLARE_SUCCESS=new CommandKind("DECLARE_SUCCESS"),CommandKind.DECLARE_ERROR=new CommandKind("DECLARE_ERROR"),CommandKind.PERFORM=new CommandKind("PERFORM"),CommandKind.REMOVE=new CommandKind("REMOVE"),CommandKind}();exports.CommandKind=CommandKind});
define("js/fo/native/carrier/loader",["require","exports","omnitag/gostructs","redirect","iframe","adreader","inpreview","sponsorpost"],function(require,exports,gostructs,redirect,iframe,adreader,inpreview,sponsorpost){function Load(carrierKind,injectorHTMLElement,config,endedCallback){var carrier;switch(carrierKind){case gostructs.NativeCarrierKind.REDIRECT:carrier=new redirect.Redirect(injectorHTMLElement,config,endedCallback);break;case gostructs.NativeCarrierKind.IFRAME:carrier=new iframe.Iframe(injectorHTMLElement,config,endedCallback);break;case gostructs.NativeCarrierKind.ADREADER:carrier=new adreader.Adreader(injectorHTMLElement,config,endedCallback);break;case gostructs.NativeCarrierKind.INPREVIEW:carrier=new inpreview.Inpreview(injectorHTMLElement,config,endedCallback);break;case gostructs.NativeCarrierKind.SPONSORPOST:carrier=new sponsorpost.Sponsorpost(injectorHTMLElement,config,endedCallback);break;default:throw new Error("Unknown NativeCarrierKind: "+carrierKind)}carrier.Load()}exports.Load=Load});
define("js/fo/native/carrier/redirect",["require","exports","util/redir","base"],function(require,exports,redir,base){var Redirect=function(_super){function Redirect(){_super.apply(this,arguments)}return __extends(Redirect,_super),Redirect.prototype.Load=function(){window.open(redir.RedirUrl(this.config,this.config.EmbeddedLandingUrl),"_blank"),this.endedCallback()},Redirect}(base.Carrier);exports.Redirect=Redirect});
define("js/fo/native/carrier/base",["require","exports","util/str","util/trigger","lib/jquery","lib/xdm","omnitag/gostructs","fo/iframe","iframe/xdm_api","xdm_api"],function(require,exports,str,trigger,jquery,xdm,gostructs,iframe,iframe_xdm_api,xdm_api){var $=jquery.jQuery,Carrier=function(){function Carrier(injectorHTMLElement,config,endedCallback){this.endedCallbacksExecuted=0,this.endedCallbacksExpected=0,this.config=config,this._endedCallbacks=[],endedCallback&&(this.endedCallback=endedCallback),this.injectorElement=$(injectorHTMLElement),this.baseElement=$("body")}return Carrier.prototype.onEnded=function(callback){this._endedCallbacks.push(callback),this.endedCallbacksExpected++},Carrier.prototype.endedCallbackExecuted=function(){this.endedCallbacksExecuted++},Carrier.prototype.ended=function(){for(var callbacks=this._endedCallbacks.reverse(),i=0;i<callbacks.length;i++){var callback=callbacks[i];try{callback()}catch(e){}}this.config.CarrierDeletable&&this.remove(),this.endedCallback()},Carrier.prototype.remove=function(){this.rootElement.remove()},Carrier.prototype.Load=function(){this.prepareHTMLElement(),this.prepareListeners(),this.insertHTMLElement()},Carrier.prototype.triggerEvent=function(event){trigger.TriggerEvent(event,this.config,this.config.Campaign)},Carrier.prototype.prepareHTMLElement=function(){},Carrier.prototype.prepareListeners=function(){},Carrier.prototype.insertHTMLElement=function(){},Carrier}();exports.Carrier=Carrier;var CarrierWithIframe=function(_super){function CarrierWithIframe(injectorHTMLElement,config,endedCallback){_super.call(this,injectorHTMLElement,config,endedCallback),this.baseElement=$("body").children().last()}return __extends(CarrierWithIframe,_super),CarrierWithIframe.prototype.XDMTriggerEvent=function(eventKindStr){this.triggerEvent(gostructs.EventKind.Cast(eventKindStr))},CarrierWithIframe.prototype.XDMOnEnded=function(){this.ended()},CarrierWithIframe.prototype.Load=function(){_super.prototype.Load.call(this),this.XDMIframeElement&&(this.initXDM(),this.IframeManagerAPI&&this.IframeManagerAPI.XDMSetOrientation(Math.abs(window.orientation)))},CarrierWithIframe.prototype.prepareHTMLElement=function(){_super.prototype.prepareHTMLElement.call(this),this.rootElement=$("<div/>",{id:"ayl_native_root_element_"+str.EscapeHTML(this.config.Attempt)})},CarrierWithIframe.prototype.insertHTMLElement=function(){_super.prototype.insertHTMLElement.call(this),this.baseElement.after(this.rootElement)},CarrierWithIframe.prototype.prepareListeners=function(){var _this=this;_super.prototype.prepareListeners.call(this),$(window).bind("orientationchange deviceorientation",function(){_this.IframeManagerAPI&&_this.IframeManagerAPI.XDMSetOrientation(Math.abs(window.orientation))})},CarrierWithIframe.prototype.initXDM=function(){var ifr=this.XDMIframeElement[0],iframeApis=xdm.ConnectIframe(iframe.Endpoints,iframe.ENDPOINTS_ID,ifr);iframeApis.NativeCarrierIframe(this.config),xdm.ListenIframe(this,xdm_api.API_IFRAME_CARRIER,ifr),this.IframeManagerAPI=xdm.ConnectIframe(iframe_xdm_api.XDMApiIframeManager,iframe_xdm_api.API_IFRAME_MANAGER,ifr)},CarrierWithIframe}(Carrier);exports.CarrierWithIframe=CarrierWithIframe});
define("js/fo/iframe",["require","exports","native/iframe","js/lib/xdm"],function(require,exports,nativeIframe,xdm){function Main(){xdm.ListenParent(new Endpoints,exports.ENDPOINTS_ID)}exports.ENDPOINTS_ID="ENDPOINTS";var Endpoints=function(){function Endpoints(){}return Endpoints.prototype.NativeCarrierIframe=function(config){nativeIframe.Call(config)},Endpoints}();exports.Endpoints=Endpoints,exports.Main=Main});
define("js/fo/native/iframe",["require","exports","omnitag/gostructs","iframe/manager"],function(require,exports,gostructs,manager){function Call(config){config=gostructs.NativeConfig.Cast(config);var m=new manager.IframeManager(config);m.Init()}exports.Call=Call});
define("js/fo/native/iframe/manager",["require","exports","util/redir","lib/jquery","omnitag/gostructs","notifications","element/interactive_component/close_counter","element/interactive_component/sharing","element/interactive_component/skin","element/material/video","element/material/landing_iframe","element/material/vpaid","element/material/captcha","native_iframe_css","native_iframe_ie_css","lib/xdm","fo/native/xdm_api","xdm_api"],function(require,exports,redir,jquery,gostructs,notif,close_counter,sharing,skin,video,landing_iframe,vpaid,captcha,native_iframe_css,native_iframe_ie_css,xdm,carrier_xdm_api,xdm_api){var $=jquery.jQuery,IframeManager=function(){function IframeManager(config){xdm.ListenParent(this,xdm_api.API_IFRAME_MANAGER),this.carrierAPI=xdm.ConnectParent(carrier_xdm_api.XDMApiIframeCarrier,carrier_xdm_api.API_IFRAME_CARRIER),this.initialisedCallbacks=[],this.interactiveComponents=[],this.materials=[],this.config=config}return IframeManager.prototype.Init=function(){this.insertBaseUI(),this.findElements(),this.initInteractiveComponents(),this.initMaterialComponents(),this.insertComponents(),this.Initialised()},IframeManager.prototype.findElements=function(){this.ElinteractiveComponentSharingArea=$(".interactive_component_sharing_area"),this.ElinteractiveComponentSkinArea=$(".interactive_component_skin_area"),this.ElinteractiveComponentCloseCounterArea=$(".interactive_component_close_counter_area"),this.ElmaterialArea=$(".material_area"),this.Elbox=$(".box")},IframeManager.prototype.initInteractiveComponents=function(){if(this.config.HasCloseButton){var closCounterComponent=new close_counter.InteractiveCloseCounter(this,this.ElinteractiveComponentCloseCounterArea,this.config);this.interactiveComponents.push(closCounterComponent)}if(this.config.HasShares){var sharingComponent=new sharing.InteractiveSharing(this,this.ElinteractiveComponentSharingArea,this.config);this.interactiveComponents.push(sharingComponent)}if(this.config.HasSkin){var skinComponent=new skin.InteractiveSkin(this,this.ElinteractiveComponentSkinArea,this.config);this.interactiveComponents.push(skinComponent)}},IframeManager.prototype.initMaterialComponents=function(){for(var i=0;i<this.config.Materials.length;i++){var materialKind=this.config.Materials[i];switch(materialKind){case gostructs.MaterialKind.VIDEO:var videoMaterial=new video.MaterialVideo(this,this.ElmaterialArea,this.config);this.materials.push(videoMaterial);break;case gostructs.MaterialKind.LANDING:var landingMaterial=new landing_iframe.MaterialLandingIframe(this,this.ElmaterialArea,this.config);this.materials.push(landingMaterial);break;case gostructs.MaterialKind.CAPTCHA:var captchaMaterial=new captcha.MaterialCaptcha(this,this.ElmaterialArea,this.config);this.materials.push(captchaMaterial);break;case gostructs.MaterialKind.VPAID:var vpaidMaterial=new vpaid.MaterialVPAID(this,this.ElmaterialArea,this.config);this.materials.push(vpaidMaterial);break;default:throw new Error("Unknown MaterialKind: "+materialKind.toString())}}if(0==this.materials.length)throw new Error("Iframe must contains one material");this.currentMaterial=this.materials[0]},IframeManager.prototype.insertComponents=function(){for(var i=0;i<this.interactiveComponents.length;i++){var element=this.interactiveComponents[i];element.Insert()}this.currentMaterial.Insert()},IframeManager.prototype.insertNextMaterial=function(){this.materials.shift(),this.materials.length>0?(this.currentMaterial=this.materials[0],this.currentMaterial.Insert()):this.ended()},IframeManager.prototype.ended=function(){this.config.Genus==gostructs.GenusKind.AD_TO_CONTENT&&this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.GET_CONTENT.toString()),this.carrierAPI.XDMOnEnded()},IframeManager.prototype.close=function(){var _this=this;this.Elbox.addClass("animate_close"),setTimeout(function(){_this.ended()},600)},IframeManager.prototype.HandleNotification=function(notification){switch(notification.Kind){case notif.NotificationKind.MATERIAL_CLICKTHROUGH:(this.currentMaterial instanceof vpaid.MaterialVPAID||this.currentMaterial instanceof video.MaterialVideo)&&this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOCLICK.toString()),this.config.Clickable&&window.open(redir.RedirUrl(this.config),"_blank"),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_DISPLAYED:(this.currentMaterial instanceof vpaid.MaterialVPAID||this.currentMaterial instanceof video.MaterialVideo)&&this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEODISPLAY.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_STARTED:this.currentMaterial instanceof vpaid.MaterialVPAID?this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOCREATIVEVIEW.toString()):this.currentMaterial instanceof landing_iframe.MaterialLandingIframe&&this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.DISPLAYSITE.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_ENDED:this.notifyComponents(notification),this.insertNextMaterial();break;case notif.NotificationKind.MATERIAL_SKIP:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOSKIP.toString()),this.notifyComponents(notification),this.insertNextMaterial();break;case notif.NotificationKind.MATERIAL_CLOSE:(this.currentMaterial instanceof vpaid.MaterialVPAID||this.currentMaterial instanceof video.MaterialVideo)&&this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOCLOSE.toString()),this.notifyComponents(notification),this.insertNextMaterial();break;case notif.NotificationKind.MATERIAL_FAILED:throw new Error(notification.Data);case notif.NotificationKind.MATERIAL_START:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEO000.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_FIRSTQUARTILE:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEO025.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_MIDPOINT:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEO050.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_THIRDQUARTILE:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEO075.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_COMPLETE:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEO100.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_UNMUTED:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOUNMUTE.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_MUTED:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOMUTE.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_PLAY:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEORESUME.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_PAUSE:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOPAUSE.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_USERACCEPTINVITATION:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOACCEPTINVITATION.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.MATERIAL_COLLAPSE:this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.VIDEOCOLLAPSE.toString()),this.notifyComponents(notification);break;case notif.NotificationKind.CLICK_SKIN:if(notification.Data){var landingUrl=this.config.Landings.Get(notification.Data,null);landingUrl&&window.open(redir.RedirUrl(this.config,landingUrl),"_blank")}this.notifyComponents(notification);break;case notif.NotificationKind.CLICK_CLOSE:this.notifyComponents(notification),this.carrierAPI.XDMTriggerEvent(gostructs.EventKind.CLOSE.toString()),this.close();break;case notif.NotificationKind.CLICK_SHARING:this.notifyComponents(notification);break;default:this.notifyComponents(notification)}},IframeManager.prototype.notifyComponents=function(notification){for(var element,elements=this.interactiveComponents.concat(this.currentMaterial),i=0;i<elements.length;i++)element=elements[i],element.AcceptNotification(notification.Kind)&&element!==notification.Source&&element.Receive(notification)},IframeManager.prototype.onInitialised=function(callback){this.initialisedCallbacks.push(callback)},IframeManager.prototype.Initialised=function(){this._initialised=!0;for(var i=0;i<this.initialisedCallbacks.length;i++){var callback=this.initialisedCallbacks[i];try{callback()}catch(e){}}},IframeManager.prototype.XDMSetOrientation=function(orientation){var orientationStr=90===Math.abs(orientation)?"landscape":"portrait";$("body").removeClass("portrait landscape").addClass(orientationStr)},IframeManager.prototype.XDMPlayMaterial=function(){var _this=this,ntf=new notif.Notification(notif.NotificationKind.PLAY_MATERIAL,null);this._initialised?this.notifyComponents(ntf):this.onInitialised(function(){_this.notifyComponents(ntf)})},IframeManager.prototype.XDMPauseMaterial=function(){var _this=this,ntf=new notif.Notification(notif.NotificationKind.PAUSE_MATERIAL,null);this._initialised?this.notifyComponents(ntf):this.onInitialised(function(){_this.notifyComponents(ntf)})},IframeManager.prototype.insertBaseUI=function(){var cssTagJQ=$('<style type="text/css"></style>'),cssTag=cssTagJQ[0];if(cssTag.styleSheet)cssTag.styleSheet.cssText=native_iframe_css.Content;else{var textNode=document.createTextNode(native_iframe_css.Content);cssTag.appendChild(textNode)}$(cssTag).prependTo($("head"));var ie=function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0];);return v>4?v:-1}();if(ie>-1&&9>=ie){var cssTagIEJQ=$('<style type="text/css" ></style>'),cssTagIE=cssTagIEJQ[0];if(cssTagIE.styleSheet)cssTagIE.styleSheet.cssText=native_iframe_ie_css.Content;else{var textNode=document.createTextNode(native_iframe_ie_css.Content);cssTagIE.appendChild(textNode)}$(cssTagIE).appendTo($("head"))}$("body").html(this.templateHTML()),$("html").addClass(this.config.Carrier.toString().toLowerCase())},IframeManager.prototype.templateHTML=function(){return'<div class="container interactive_component_skin_area">	<div class="container_inner">		<div class="container_left container_column"></div>		<div class="container_middle container_column">			<div class="container_top"></div>			<div class="container_center container_column">				<div class="box">					<div class="interactive_component_sharing_area"></div>					<div class="interactive_component_close_counter_area"></div>					<div class="material_area"></div>				</div>			</div>			<div class="container_bottom"></div>		</div>		<div class="container_right container_column"></div>	</div></div>'},IframeManager}();exports.IframeManager=IframeManager});
define("js/fo/native/iframe/notifications",["require","exports","util/str"],function(require,exports,str){var NotificationKind=function(){function NotificationKind(value){this.value=value,NotificationKind.map[value]=this}return NotificationKind.prototype.toString=function(){return this.value},NotificationKind.Cast=function(value){var result=NotificationKind.map[str.Untaint(value)];if(null==result)throw new Error("Invalid constant: "+str.Untaint(value));return result},NotificationKind.map={},NotificationKind.MATERIAL_DISPLAYED=new NotificationKind("MATERIAL_DISPLAYED"),NotificationKind.MATERIAL_STARTED=new NotificationKind("MATERIAL_STARTED"),NotificationKind.MATERIAL_ENDED=new NotificationKind("MATERIAL_END"),NotificationKind.MATERIAL_RESTARTED=new NotificationKind("MATERIAL_RESTARTED"),NotificationKind.MATERIAL_FAILED=new NotificationKind("MATERIAL_FAILED"),NotificationKind.MATERIAL_PLAY=new NotificationKind("MATERIAL_PLAY"),NotificationKind.MATERIAL_PAUSE=new NotificationKind("MATERIAL_PAUSE"),NotificationKind.MATERIAL_CLICKTHROUGH=new NotificationKind("MATERIAL_CLICKTHROUGH"),NotificationKind.MATERIAL_CLOSE=new NotificationKind("MATERIAL_CLOSE"),NotificationKind.MATERIAL_SKIP=new NotificationKind("MATERIAL_SKIP"),NotificationKind.MATERIAL_MUTED=new NotificationKind("MATERIAL_MUTED"),NotificationKind.MATERIAL_UNMUTED=new NotificationKind("MATERIAL_UNMUTED"),NotificationKind.MATERIAL_USERACCEPTINVITATION=new NotificationKind("MATERIAL_USERACCEPTINVITATION"),NotificationKind.MATERIAL_COLLAPSE=new NotificationKind("MATERIAL_COLLAPSE"),NotificationKind.MATERIAL_START=new NotificationKind("MATERIAL_START"),NotificationKind.MATERIAL_FIRSTQUARTILE=new NotificationKind("MATERIAL_FIRSTQUARTILE"),NotificationKind.MATERIAL_MIDPOINT=new NotificationKind("MATERIAL_MIDPOINT"),NotificationKind.MATERIAL_THIRDQUARTILE=new NotificationKind("MATERIAL_THIRDQUARTILE"),NotificationKind.MATERIAL_COMPLETE=new NotificationKind("MATERIAL_COMPLETE"),NotificationKind.CLICK_SHARING=new NotificationKind("CLICK_SHARING"),NotificationKind.CLICK_CLOSE=new NotificationKind("CLICK_CLOSE"),NotificationKind.CLICK_SKIN=new NotificationKind("CLICK_SKIN"),NotificationKind.CLOSE=new NotificationKind("CLOSE"),NotificationKind.REDIRECT=new NotificationKind("REDIRECT"),NotificationKind.PAUSE_MATERIAL=new NotificationKind("PAUSE_MATERIAL"),NotificationKind.PLAY_MATERIAL=new NotificationKind("PLAY_MATERIAL"),NotificationKind}();exports.NotificationKind=NotificationKind;var Notification=function(){function Notification(kind,source,data){this.Kind=kind,this.Source=source,this.Data=data}return Notification}();exports.Notification=Notification});
define("js/fo/native/iframe/element/interactive_component/close_counter",["require","exports","elements","notifications","util/informer"],function(require,exports,elements,notif,informer){var InteractiveCloseCounter=function(_super){function InteractiveCloseCounter(facade,Elcontainer,config){_super.call(this,facade,Elcontainer,config),this.skip=this.Config.Skip/1e3,this.counter=0,this.counterIsEnded=!1,this.AcceptedNotifications=[notif.NotificationKind.MATERIAL_PLAY,notif.NotificationKind.MATERIAL_PAUSE,notif.NotificationKind.MATERIAL_STARTED,notif.NotificationKind.MATERIAL_FAILED]}return __extends(InteractiveCloseCounter,_super),InteractiveCloseCounter.prototype.GetComponentName=function(){return"InteractiveCloseCounter"},InteractiveCloseCounter.prototype.Insert=function(){this.ElContainer.html(this.templateHTML()),this.findElements(),this.addListeners()},InteractiveCloseCounter.prototype.findElements=function(){this.ElcloseButton=this.ElContainer.find(".interactive_close_counter > .close_button"),this.Elcounter=this.ElContainer.find(".interactive_close_counter > .counter")},InteractiveCloseCounter.prototype.addListeners=function(){var _this=this;this.ElcloseButton.click(function(){_this.onClickClose()})},InteractiveCloseCounter.prototype.startCounter=function(){var _this=this;!this.counterIsEnded&&this.counter<this.skip?(this.Elcounter.html((this.skip-this.counter).toString()),this.displayCounter(),this.counterInterval=setInterval(function(){_this.counter+=1,_this.Elcounter.html((_this.skip-_this.counter).toString()),_this.counter>=_this.skip&&(_this.displayCloseButton(),_this.pauseCounter())},1e3)):(this.counterIsEnded=!0,this.displayCloseButton())},InteractiveCloseCounter.prototype.pauseCounter=function(){clearInterval(this.counterInterval)},InteractiveCloseCounter.prototype.displayCloseButton=function(){this.Elcounter.removeClass("display").addClass("hidden"),this.ElcloseButton.addClass("display").removeClass("hidden")},InteractiveCloseCounter.prototype.displayCounter=function(){this.Elcounter.addClass("display").removeClass("hidden"),this.ElcloseButton.removeClass("display").addClass("hidden")},InteractiveCloseCounter.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){case notif.NotificationKind.MATERIAL_PAUSE:this.pauseCounter();break;case notif.NotificationKind.MATERIAL_PLAY:this.startCounter();break;case notif.NotificationKind.MATERIAL_STARTED:this.startCounter();break;case notif.NotificationKind.MATERIAL_FAILED:this.pauseCounter(),this.displayCloseButton();break;case notif.NotificationKind.REDIRECT:this.pauseCounter();break;default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},InteractiveCloseCounter.prototype.onClickClose=function(){this.Notify(notif.NotificationKind.CLICK_CLOSE)},InteractiveCloseCounter.prototype.templateHTML=function(){return'<div class="interactive_element interactive_close_counter">	<div class="counter"></div>	<div class="close_button"></div></div>'},InteractiveCloseCounter}(elements.InteractiveComponent);exports.InteractiveCloseCounter=InteractiveCloseCounter});
define("js/fo/native/iframe/element/elements",["require","exports","notifications"],function(require,exports,notif){var AbstractComponent=function(){function AbstractComponent(facade,container,config){this.Facade=facade,this.ElContainer=container,this.Config=config,this.AcceptedNotifications=[]}return AbstractComponent.prototype.Notify=function(notificationKind,data){var notification=new notif.Notification(notificationKind,this,data);this.Facade.HandleNotification(notification)},AbstractComponent.prototype.Receive=function(){},AbstractComponent.prototype.AcceptNotification=function(notificationKind){for(var acceptedNotifications,i=0;i<this.AcceptedNotifications.length;i++)if(acceptedNotifications=this.AcceptedNotifications[i],acceptedNotifications===notificationKind)return!0;return!1},AbstractComponent.prototype.GetComponentName=function(){throw new Error("GetComponentName function must be overrided in children classes")},AbstractComponent.prototype.Insert=function(){throw new Error("Insert function must be overrided in children classes")},AbstractComponent}();exports.AbstractComponent=AbstractComponent;var Material=function(_super){function Material(){_super.apply(this,arguments)}return __extends(Material,_super),Material}(AbstractComponent);exports.Material=Material;var InteractiveComponent=function(_super){function InteractiveComponent(){_super.apply(this,arguments)}return __extends(InteractiveComponent,_super),InteractiveComponent}(AbstractComponent);exports.InteractiveComponent=InteractiveComponent});
define("js/fo/native/iframe/element/interactive_component/sharing",["require","exports","omnitag/gostructs","elements","notifications","lib/jquery","util/str","util/informer"],function(require,exports,gostructs,elements,notif,jquery,str,informer){var $=jquery.jQuery,InteractiveSharing=function(_super){function InteractiveSharing(facade,Elcontainer,config){_super.call(this,facade,Elcontainer,config),this.AcceptedNotifications=[],this.shares=this.Config.Shares}return __extends(InteractiveSharing,_super),InteractiveSharing.prototype.GetComponentName=function(){return"InteractiveSharing"},InteractiveSharing.prototype.Insert=function(){this.shares&&(this.ElContainer.html(this.templateHTML()),this.findElements(),this.addListeners())},InteractiveSharing.prototype.findElements=function(){this.Elshares=this.ElContainer.find(".interactive_sharing .share")},InteractiveSharing.prototype.addListeners=function(){var _this=this;this.Elshares.click(function(eventObject){_this.onClickShare(eventObject)})},InteractiveSharing.prototype.doSharing=function(data){var windowParams="",sh=gostructs.ShareKind.Cast(data.toUpperCase()),windowTarget=sh.toString();switch(sh){case gostructs.ShareKind.TWITTER:windowParams="height=440,width=620,scrollbars=yes";break;case gostructs.ShareKind.FACEBOOK:windowParams="height=600,width=900,scrollbars=yes";break;case gostructs.ShareKind.GOOGLE_PLUS:windowParams="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600";break;case gostructs.ShareKind.MORE_INFO:windowTarget="_blank"}window.open(str.Untaint(this.Config.ApiPrefix)+"/share?attempt="+str.EncodeURIComponent(this.Config.Attempt)+"&campaign="+str.EncodeURIComponent(this.Config.Campaign)+"&kind="+sh.toString(),windowTarget,windowParams),this.Notify(notif.NotificationKind.REDIRECT)},InteractiveSharing.prototype.onClickShare=function(eventObject){var data=$(eventObject.currentTarget).attr("data-action");this.doSharing(data)},InteractiveSharing.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},InteractiveSharing.prototype.templateHTML=function(){for(var key,keys=this.shares.Keys(),shareElementTemplate='<li class="share ###" data-action="###"></li>',shareHTMLElements=[];keys.length>0;)key=keys.shift(),key==gostructs.ShareKind.MORE_INFO&&keys.length>0?keys.push(key):shareHTMLElements.push(shareElementTemplate.replace(/###/g,key.toString().toLowerCase()));return'<div class="interactive_element interactive_sharing">		<ul>'+shareHTMLElements.join(" ")+"		</ul></div>"},InteractiveSharing}(elements.InteractiveComponent);exports.InteractiveSharing=InteractiveSharing});
define("js/fo/native/iframe/element/interactive_component/skin",["require","exports","omnitag/gostructs","elements","notifications","lib/jquery","util/str","util/attachments"],function(require,exports,gostructs,elements,notif,jquery,str,attachments){var $=jquery.jQuery,InteractiveSkin=function(_super){function InteractiveSkin(facade,ElContainer,config){_super.call(this,facade,ElContainer,config),this.AcceptedNotifications=[]}return __extends(InteractiveSkin,_super),InteractiveSkin.prototype.GetComponentName=function(){return"InteractiveSkin"},InteractiveSkin.prototype.getBackgroundUrlFromConfig=function(kind){return attachments.GetAttachmentUrlFromAttachmentSpecialId(this.Config,kind)},InteractiveSkin.prototype.findElements=function(){this.ElContainerTop=this.ElContainer.find(".container_top"),this.ElContainerBottom=this.ElContainer.find(".container_bottom"),this.ElContainerLeft=this.ElContainer.find(".container_left"),this.ElContainerRight=this.ElContainer.find(".container_right")},InteractiveSkin.prototype.addBackground=function(element,url){element.css("background-image","url('"+url+"')"),element.css("cursor","pointer")},InteractiveSkin.prototype.Insert=function(){this.findElements(),this.Config.HasBackgroundColor&&this.ElContainer.css("background-color","rgba("+str.EscapeHTML(this.Config.BackgroundColor)+")"),this.addBackground(this.ElContainerTop,this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND_TOP)),this.addBackground(this.ElContainerBottom,this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND_BOTTOM)),this.addBackground(this.ElContainerLeft,this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND_LEFT)),this.addBackground(this.ElContainerRight,this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND_RIGHT)),this.addBackground(this.ElContainer,this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND)),this.addListeners()},InteractiveSkin.prototype.addListeners=function(){var _this=this;""!=this.getBackgroundUrlFromConfig(gostructs.AttachmentIdSpecialKind.PLAYER_BACKGROUND)&&this.ElContainer.click(function(eventObject){eventObject.target==eventObject.delegateTarget&&_this.onClickSkin(eventObject)}),this.ElContainerTop.click(function(eventObject){eventObject.target==eventObject.delegateTarget&&_this.onClickSkin(eventObject)}),this.ElContainerBottom.click(function(eventObject){eventObject.target==eventObject.delegateTarget&&_this.onClickSkin(eventObject)}),this.ElContainerLeft.click(function(eventObject){eventObject.target==eventObject.delegateTarget&&_this.onClickSkin(eventObject)}),this.ElContainerRight.click(function(eventObject){eventObject.target==eventObject.delegateTarget&&_this.onClickSkin(eventObject)})},InteractiveSkin.prototype.onClickSkin=function(eventObject){var data,target=$(eventObject.target);target.is(this.ElContainerTop)?data=gostructs.LandingKind.PLAYER_BACKGROUND_TOP:target.is(this.ElContainerRight)?data=gostructs.LandingKind.PLAYER_BACKGROUND_RIGHT:target.is(this.ElContainerBottom)?data=gostructs.LandingKind.PLAYER_BACKGROUND_BOTTOM:target.is(this.ElContainerLeft)?data=gostructs.LandingKind.PLAYER_BACKGROUND_LEFT:target.is(this.ElContainer)&&(data=gostructs.LandingKind.DEFAULT),this.Notify(notif.NotificationKind.CLICK_SKIN,data)},InteractiveSkin}(elements.InteractiveComponent);exports.InteractiveSkin=InteractiveSkin});
define("js/fo/util/attachments",["require","exports","omnitag/gostructs","util/str"],function(require,exports,gostructs,str){function GetAttachmentUrlFromString(config,attachementId){var attach;try{attach=config.Attachments.System.Get(gostructs.AttachmentIdSpecialKind.Cast(attachementId),null)}catch(e){}return attach||(attach=config.Attachments.Custom.Get(attachementId,null)),getAttachementUrl(config,attach)}function GetAttachmentUrlFromAttachmentSpecialId(config,attachementId){var attach=config.Attachments.System.Get(attachementId,null);return getAttachementUrl(config,attach)}function getAttachementUrl(config,attachment){var attachURL="";if(!attachment)return attachURL;switch(attachment.Kind){case gostructs.AttachmentKind.BLOB_REFERENCE:attachURL=str.EscapeHTML(config.ApiPrefix)+"/blobs/"+str.EscapeHTML(attachment.BlobReference.Uid);break;case gostructs.AttachmentKind.EXTERNAL_URL:attachURL=str.Untaint(attachment.ExternalURL);break;default:throw new Error("Unknown AttachmentKind "+attachment.Kind.toString())}return attachURL}exports.GetAttachmentUrlFromString=GetAttachmentUrlFromString,exports.GetAttachmentUrlFromAttachmentSpecialId=GetAttachmentUrlFromAttachmentSpecialId});
define("js/fo/native/iframe/element/material/video",["require","exports","omnitag/gostructs","elements","notifications","lib/popcorn","util/informer","lib/jquery","util/attachments"],function(require,exports,gostructs,elements,notif,popcorn,informer,jquery,attachments){var $=jquery.jQuery,MaterialVideo=function(_super){function MaterialVideo(facade,Elcontainer,config){_super.call(this,facade,Elcontainer,config),this.videoURLs=this.getVideoUrlsFromConfig(),this.silent=this.Config.HasNoSound,this.autoplay=this.Config.Autoplay,this.AcceptedNotifications=[notif.NotificationKind.CLOSE,notif.NotificationKind.PAUSE_MATERIAL,notif.NotificationKind.PLAY_MATERIAL],this.materialStarted=!1,this.internalPause=!1,this.notificationTimePositions=[0,.25,.5,.75,.96]}return __extends(MaterialVideo,_super),MaterialVideo.prototype.GetComponentName=function(){return"MaterialVideo"},MaterialVideo.prototype.Insert=function(){this.ElContainer.html("").append(this.templateHTML()),this.findElements(),this.initPlayer(),this.addListeners()},MaterialVideo.prototype.findElements=function(){this.ElprogressBar=this.ElContainer.find(".material_video > .progress_bar"),this.ElprogressBarProgress=this.ElContainer.find(".material_video > .progress_bar > .progress"),this.ElVideoContainer=this.ElContainer.find(".material_video > .video_container"),this.ElclickableArea=this.ElContainer.find(".material_video > .clickable_area"),this.ElclickableAreaPlay=this.ElContainer.find(".material_video > .clickable_area .clickable_image_play "),this.ElclickableAreaReadMore=this.ElContainer.find(".material_video > .clickable_area .clickable_image_more")},MaterialVideo.prototype.initPlayer=function(){switch(this.ElVideoContainer.attr("id",popcorn.Popcorn.guid("video_container")),this.player=popcorn.Popcorn.smart(this.ElVideoContainer.attr("id"),this.videoURLs),this.player.preload("metadata"),this.autoplay){case gostructs.AutoplayKind.UNDEFINED:case gostructs.AutoplayKind.NONE:this.displayPlayButton(),this.player.autoplay(!1),this.internalPause=!0;break;case gostructs.AutoplayKind.ONLOAD:this.player.autoplay(!0),this.displayPlayButton();break;default:throw new Error("Unknown AutoplayKind "+this.autoplay)}this.silent&&this.player.mute()},MaterialVideo.prototype.getVideoUrlsFromConfig=function(){var _videoURLs=[];if(this.Config.Attachments)for(var videoIdSpecialKinds=[gostructs.AttachmentIdSpecialKind.VIDEOYOUTUBE,gostructs.AttachmentIdSpecialKind.VIDEODAILYMOTION,gostructs.AttachmentIdSpecialKind.VIDEOMP4,gostructs.AttachmentIdSpecialKind.VIDEOWEBM,gostructs.AttachmentIdSpecialKind.VIDEO],i=0;i<videoIdSpecialKinds.length;i++){var videoUrl=attachments.GetAttachmentUrlFromAttachmentSpecialId(this.Config,videoIdSpecialKinds[i]);videoUrl&&(videoIdSpecialKinds[i]!=gostructs.AttachmentIdSpecialKind.VIDEO||videoUrl.match(/\.flv$/i)||(videoUrl+=".flv"),_videoURLs.push(videoUrl))}return _videoURLs},MaterialVideo.prototype.addListeners=function(){var _this=this;this.ElclickableArea.click(function(eventObject){$(eventObject.target).is(_this.ElclickableAreaReadMore)?_this.Notify(notif.NotificationKind.MATERIAL_CLICKTHROUGH):_this.onClickClickableArea()}),this.silent&&this.ElclickableArea.hover(function(){_this.unmute()},function(){_this.mute()}),this.player.on("loadstart",function(){_this.onLoadStart()}),this.player.on("loadeddata",function(){_this.onLoadedData()}),this.player.on("timeupdate",function(){_this.onTimeUpdate()}),this.player.on("play",function(){_this.internalPause=!1,_this.onPlay()}),this.player.on("pause",function(){_this.onPause()}),this.player.on("ended",function(){_this.onEnded()})},MaterialVideo.prototype.mute=function(){this.player.muted(!0)},MaterialVideo.prototype.unmute=function(){this.player.muted(!1)},MaterialVideo.prototype.displayPlayButton=function(){this.ElclickableArea.addClass("play")},MaterialVideo.prototype.hidePlayButton=function(){this.ElclickableArea.removeClass("play")},MaterialVideo.prototype.displayReplayButton=function(){this.ElclickableArea.addClass("replay")},MaterialVideo.prototype.hideReplayButton=function(){this.ElclickableArea.removeClass("replay")},MaterialVideo.prototype.updateProgressBar=function(){var currentTime=this.player.currentTime(),duration=this.player.duration(),progress=0;currentTime>0&&duration>0&&(progress=currentTime/duration),this.ElprogressBarProgress.css({"-moz-transform":"scaleX("+progress+")","-webkit-transform":"scaleX("+progress+")",transform:"scaleX("+progress+")",width:"100%"})},MaterialVideo.prototype.notifyProgress=function(){for(var currentProgress=this.player.currentTime()/this.player.duration(),i=0;i<this.notificationTimePositions.length;i++){var position=this.notificationTimePositions[i];if(currentProgress>=position)switch(this.notificationTimePositions.splice(this.notificationTimePositions.indexOf(position),1),position){case 0:this.Notify(notif.NotificationKind.MATERIAL_START);break;case.25:this.Notify(notif.NotificationKind.MATERIAL_FIRSTQUARTILE);break;case.5:this.Notify(notif.NotificationKind.MATERIAL_MIDPOINT);break;case.75:this.Notify(notif.NotificationKind.MATERIAL_THIRDQUARTILE);break;case.96:this.Notify(notif.NotificationKind.MATERIAL_COMPLETE)}}},MaterialVideo.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){case notif.NotificationKind.CLOSE:this.player.destroy();break;case notif.NotificationKind.PLAY_MATERIAL:this.internalPause||this.player.play();break;case notif.NotificationKind.PAUSE_MATERIAL:this.player.pause();break;default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},MaterialVideo.prototype.onClickClickableArea=function(){this.player.paused()?this.player.play():(this.Notify(notif.NotificationKind.MATERIAL_CLICKTHROUGH),this.internalPause=!0,this.player.pause())},MaterialVideo.prototype.onLoadStart=function(){var iframe=this.ElVideoContainer.children("iframe");iframe.length>0&&-1!=iframe.attr("src").indexOf("youtube")&&this.ElVideoContainer.addClass("video_container_youtube")},MaterialVideo.prototype.onLoadedData=function(){this.Notify(notif.NotificationKind.MATERIAL_DISPLAYED)},MaterialVideo.prototype.onTimeUpdate=function(){this.updateProgressBar(),this.notifyProgress()},MaterialVideo.prototype.onPause=function(){this.displayPlayButton(),this.Notify(notif.NotificationKind.MATERIAL_PAUSE)},MaterialVideo.prototype.onPlay=function(){this.hidePlayButton(),this.hideReplayButton(),this.materialStarted?this.Notify(notif.NotificationKind.MATERIAL_PLAY):(this.Notify(notif.NotificationKind.MATERIAL_STARTED),this.ElVideoContainer.addClass("video_started"),this.materialStarted=!0)},MaterialVideo.prototype.onEnded=function(){this.Notify(notif.NotificationKind.MATERIAL_ENDED),this.displayReplayButton()},MaterialVideo.prototype.templateHTML=function(){var videoContainer=document.createElement("div");videoContainer.className="video_container";var progress=document.createElement("div");progress.className="progress";var progressBar=document.createElement("div");progressBar.className="progress_bar",progressBar.appendChild(progress);var clickableImage=document.createElement("div");clickableImage.className="clickable_image";var clickableImagePlay=document.createElement("div");if(clickableImagePlay.className="clickable_image_play clickable_image_element",clickableImage.appendChild(clickableImagePlay),this.Config.Clickable){var clickableImageMore=document.createElement("div");clickableImageMore.className="clickable_image_more clickable_image_element",clickableImage.appendChild(clickableImageMore)}var clickableArea=document.createElement("div");clickableArea.className="clickable_area",clickableArea.appendChild(clickableImage);var materialVideo=document.createElement("div");return materialVideo.className="material material_video",materialVideo.appendChild(videoContainer),materialVideo.appendChild(progressBar),materialVideo.appendChild(clickableArea),materialVideo},MaterialVideo}(elements.Material);exports.MaterialVideo=MaterialVideo});
define("js/lib/popcorn",["require","exports","./popcorn/popcorn-1_3-src"],function(require,exports,src){return src});
define("js/lib/popcorn/popcorn-1_3-src",["require","exports"],function(require,exports){document.createElement("video").canPlayType&&(!function(global,document){function TrackEvent(track){Abstract.put.call(this,track)}function TrackEvents(parent){this.parent=parent,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,this.count=1}function isMatch(obj,key,value){return obj[key]&&obj[key]===value}function getPreviousProperties(oldOptions,newOptions){var matchProps={};for(var prop in oldOptions)hasOwn.call(newOptions,prop)&&hasOwn.call(oldOptions,prop)&&(matchProps[prop]=oldOptions[prop]);return matchProps}function safeTry(fn,pluginName){return function(){if(Popcorn.plugin.debug)return fn.apply(this,arguments);try{return fn.apply(this,arguments)}catch(ex){Popcorn.plugin.errors.push({plugin:pluginName,thrown:ex,source:fn.toString()}),this.emit("pluginerror",Popcorn.plugin.errors)}}}if(document.addEventListener){var AP=Array.prototype,OP=Object.prototype,forEach=AP.forEach,slice=AP.slice,hasOwn=OP.hasOwnProperty,toString=OP.toString,_Popcorn=global.Popcorn,readyStack=[],readyBound=!1,readyFired=!1,internal={events:{hash:{},apis:{}}},requestAnimFrame=function(){return global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.oRequestAnimationFrame||global.msRequestAnimationFrame||function(callback){global.setTimeout(callback,16)}}(),getKeys=function(obj){return Object.keys?Object.keys(obj):function(obj){var item,list=[];for(item in obj)hasOwn.call(obj,item)&&list.push(item);return list}(obj)},Abstract={put:function(dictionary){for(var key in dictionary)dictionary.hasOwnProperty(key)&&(this[key]=dictionary[key])}},Popcorn=function(entity,options){return new Popcorn.p.init(entity,options||null)};Popcorn.version="ae2bc75",Popcorn.isSupported=!0,Popcorn.instances=[],Popcorn.p=Popcorn.prototype={init:function(entity,options){var matches,nodeName,self=this;{if("function"!=typeof entity){if("string"==typeof entity)try{matches=document.querySelector(entity)}catch(e){throw new Error("Popcorn.js Error: Invalid media element selector: "+entity)}if(this.media=matches||entity,nodeName=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[nodeName]=this.media,this.options=Popcorn.extend({},options)||{},this.id=this.options.id||Popcorn.guid(nodeName),Popcorn.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:Popcorn.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new TrackEvents(this)},Popcorn.instances.push(this);var isReady=function(){self.media.currentTime<0&&(self.media.currentTime=0),self.media.removeEventListener("loadedmetadata",isReady,!1);var duration,videoDurationPlus,runningPlugins,runningPlugin,rpLength,rpNatives;duration=self.media.duration,videoDurationPlus=duration!=duration?Number.MAX_VALUE:duration+1,Popcorn.addTrackEvent(self,{start:videoDurationPlus,end:videoDurationPlus}),self.isDestroyed||(self.data.durationChange=function(){var newDuration=self.media.duration,newDurationPlus=newDuration+1,byStart=self.data.trackEvents.byStart,byEnd=self.data.trackEvents.byEnd;byStart.pop(),byEnd.pop();for(var k=byEnd.length-1;k>0;k--)byEnd[k].end>newDuration&&self.removeTrackEvent(byEnd[k]._id);for(var i=0;i<byStart.length;i++)byStart[i].end>newDuration&&self.removeTrackEvent(byStart[i]._id);self.data.trackEvents.byEnd.push({start:newDurationPlus,end:newDurationPlus}),self.data.trackEvents.byStart.push({start:newDurationPlus,end:newDurationPlus})},self.media.addEventListener("durationchange",self.data.durationChange,!1)),self.options.frameAnimation?(self.data.timeUpdate=function(){Popcorn.timeUpdate(self,{}),Popcorn.forEach(Popcorn.manifest,function(key,val){if(runningPlugins=self.data.running[val]){rpLength=runningPlugins.length;for(var i=0;rpLength>i;i++)runningPlugin=runningPlugins[i],rpNatives=runningPlugin._natives,rpNatives&&rpNatives.frame&&rpNatives.frame.call(self,{},runningPlugin,self.currentTime())}}),self.emit("timeupdate"),!self.isDestroyed&&requestAnimFrame(self.data.timeUpdate)},!self.isDestroyed&&requestAnimFrame(self.data.timeUpdate)):(self.data.timeUpdate=function(event){Popcorn.timeUpdate(self,event)},self.isDestroyed||self.media.addEventListener("timeupdate",self.data.timeUpdate,!1))};return self.media.addEventListener("error",function(){self.error=self.media.error},!1),self.media.readyState>=1?isReady():self.media.addEventListener("loadedmetadata",isReady,!1),this}if("complete"===document.readyState)return void entity(document,Popcorn);if(readyStack.push(entity),!readyBound){readyBound=!0;var DOMContentLoaded=function(){readyFired=!0,document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1);for(var i=0,readyStackLength=readyStack.length;readyStackLength>i;i++)readyStack[i].call(document,Popcorn);readyStack=null};document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1)}}}},Popcorn.p.init.prototype=Popcorn.p,Popcorn.byId=function(str){for(var instances=Popcorn.instances,length=instances.length,i=0;length>i;i++)if(instances[i].id===str)return instances[i];return null},Popcorn.forEach=function(obj,fn,context){if(!obj||!fn)return{};context=context||this;var key,len;if(forEach&&obj.forEach===forEach)return obj.forEach(fn,context);if("[object NodeList]"===toString.call(obj)){for(key=0,len=obj.length;len>key;key++)fn.call(context,obj[key],key,obj);return obj}for(key in obj)hasOwn.call(obj,key)&&fn.call(context,obj[key],key,obj);return obj},Popcorn.extend=function(obj){var dest=obj,src=slice.call(arguments,1);return Popcorn.forEach(src,function(copy){for(var prop in copy)dest[prop]=copy[prop]}),dest},Popcorn.extend(Popcorn,{noConflict:function(deep){return deep&&(global.Popcorn=_Popcorn),Popcorn},error:function(msg){throw new Error(msg)},guid:function(prefix){return Popcorn.guid.counter++,(prefix?prefix:"")+(+new Date+Popcorn.guid.counter)},sizeOf:function(obj){var size=0;for(var prop in obj)size++;return size},isArray:Array.isArray||function(array){return"[object Array]"===toString.call(array)},nop:function(){},position:function(elem){if(!elem.parentNode)return null;var clientTop,clientLeft,scrollTop,scrollLeft,top,left,clientRect=elem.getBoundingClientRect(),bounds={},docElem=(elem.ownerDocument,document.documentElement),body=document.body;clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=global.pageYOffset&&docElem.scrollTop||body.scrollTop,scrollLeft=global.pageXOffset&&docElem.scrollLeft||body.scrollLeft,top=Math.ceil(clientRect.top+scrollTop-clientTop),left=Math.ceil(clientRect.left+scrollLeft-clientLeft);for(var p in clientRect)bounds[p]=Math.round(clientRect[p]);return Popcorn.extend({},bounds,{top:top,left:left})},disable:function(instance,plugin){if(!instance.data.disabled[plugin]){if(instance.data.disabled[plugin]=!0,plugin in Popcorn.registryByName&&instance.data.running[plugin])for(var event,i=instance.data.running[plugin].length-1;i>=0;i--)event=instance.data.running[plugin][i],event._natives.end.call(instance,null,event),instance.emit("trackend",Popcorn.extend({},event,{plugin:event.type,type:"trackend"}));return instance}},enable:function(instance,plugin){if(instance.data.disabled[plugin]){if(instance.data.disabled[plugin]=!1,plugin in Popcorn.registryByName&&instance.data.running[plugin])for(var event,i=instance.data.running[plugin].length-1;i>=0;i--)event=instance.data.running[plugin][i],event._natives.start.call(instance,null,event),instance.emit("trackstart",Popcorn.extend({},event,{plugin:event.type,type:"trackstart",track:event}));return instance}},destroy:function(instance){var singleEvent,item,fn,plugin,events=instance.data.events,trackEvents=instance.data.trackEvents;for(item in events){singleEvent=events[item];for(fn in singleEvent)delete singleEvent[fn];events[item]=null}for(plugin in Popcorn.registryByName)Popcorn.removePlugin(instance,plugin);trackEvents.byStart.length=0,trackEvents.byEnd.length=0,instance.isDestroyed||(instance.data.timeUpdate&&instance.media.removeEventListener("timeupdate",instance.data.timeUpdate,!1),instance.isDestroyed=!0),Popcorn.instances.splice(Popcorn.instances.indexOf(instance),1)}}),Popcorn.guid.counter=1,Popcorn.extend(Popcorn.p,function(){var methods="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",ret={};return Popcorn.forEach(methods.split(/\s+/g),function(name){ret[name]=function(arg){var previous;return"function"==typeof this.media[name]?(null!=arg&&/play|pause/.test(name)&&(this.media.currentTime=Popcorn.util.toSeconds(arg)),this.media[name](),this):null!=arg?(previous=this.media[name],this.media[name]=arg,previous!==arg&&this.emit("attrchange",{attribute:name,previousValue:previous,currentValue:arg}),this):this.media[name]}}),ret}()),Popcorn.forEach("enable disable".split(" "),function(method){Popcorn.p[method]=function(plugin){return Popcorn[method](this,plugin)}}),Popcorn.extend(Popcorn.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(id,time,fn){var trackEvent,sec,options,length=arguments.length,eventType="trackadded";try{sec=Popcorn.util.toSeconds(id)}catch(e){}if("number"==typeof sec&&(id=sec),"number"==typeof id&&2===length)fn=time,time=id,id=Popcorn.guid("cue");else if(1===length)time=-1;else if(trackEvent=this.getTrackEvent(id))this.data.trackEvents.remove(id),TrackEvent.end(this,trackEvent),Popcorn.removeTrackEvent.ref(this,id),eventType="cuechange","string"==typeof id&&2===length&&("number"==typeof time&&(fn=trackEvent._natives.start),"function"==typeof time&&(fn=time,time=trackEvent.start));else if(length>=2){if("string"==typeof time){try{sec=Popcorn.util.toSeconds(time)}catch(e){}time=sec}"number"==typeof time&&(fn=fn||Popcorn.nop()),"function"==typeof time&&(fn=time,time=-1)}return options={id:id,start:time,end:time+1,_running:!1,_natives:{start:fn||Popcorn.nop,end:Popcorn.nop,type:"cue"}},trackEvent&&(options=Popcorn.extend(trackEvent,options)),"cuechange"===eventType?(options._id=options.id||options._id||Popcorn.guid(options._natives.type),this.data.trackEvents.add(options),TrackEvent.start(this,options),this.timeUpdate(this,null,!0),Popcorn.addTrackEvent.ref(this,options),this.emit(eventType,Popcorn.extend({},options,{id:id,type:eventType,previousValue:{time:trackEvent.start,fn:trackEvent._natives.start},currentValue:{time:time,fn:fn||Popcorn.nop},track:trackEvent}))):Popcorn.addTrackEvent(this,options),this},mute:function(toggle){var event=null==toggle||toggle===!0?"muted":"unmuted";return"unmuted"===event&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===event&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(event),this},unmute:function(toggle){return this.mute(null==toggle?!1:!toggle)},position:function(){return Popcorn.position(this.media)},toggle:function(plugin){return Popcorn[this.data.disabled[plugin]?"enable":"disable"](this,plugin)},defaults:function(plugin,defaults){return Popcorn.isArray(plugin)?(Popcorn.forEach(plugin,function(obj){for(var name in obj)this.defaults(name,obj[name])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[plugin]||(this.options.defaults[plugin]={}),Popcorn.extend(this.options.defaults[plugin],defaults),this)}}),Popcorn.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},Popcorn.Events.Natives=Popcorn.Events.UIEvents+" "+Popcorn.Events.MouseEvents+" "+Popcorn.Events.Events,internal.events.apiTypes=["UIEvents","MouseEvents","Events"],function(events,data){for(var apis=internal.events.apiTypes,eventsList=events.Natives.split(/\s+/g),idx=0,len=eventsList.length;len>idx;idx++)data.hash[eventsList[idx]]=!0;apis.forEach(function(val){data.apis[val]={};for(var apiEvents=events[val].split(/\s+/g),len=apiEvents.length,k=0;len>k;k++)data.apis[val][apiEvents[k]]=!0})}(Popcorn.Events,internal.events),Popcorn.events={isNative:function(type){return!!internal.events.hash[type]},getInterface:function(type){if(!Popcorn.events.isNative(type))return!1;for(var api,tmp,eventApi=internal.events,apis=eventApi.apiTypes,apihash=eventApi.apis,idx=0,len=apis.length;len>idx;idx++)if(tmp=apis[idx],apihash[tmp][type]){api=tmp;break}return api},all:Popcorn.Events.Natives.split(/\s+/g),fn:{trigger:function(type,data){var eventInterface,evt,clonedEvents,events=this.data.events[type];if(events){if(eventInterface=Popcorn.events.getInterface(type))return evt=document.createEvent(eventInterface),evt.initEvent(type,!0,!0,global,1),this.media.dispatchEvent(evt),this;for(clonedEvents=events.slice();clonedEvents.length;)clonedEvents.shift().call(this,data)}return this},listen:function(type,fn){var clonedEvents,tmp,self=this,hasEvents=!0,eventHook=Popcorn.events.hooks[type];if("function"!=typeof fn)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[type]||(this.data.events[type]=[],hasEvents=!1),eventHook&&(eventHook.add&&eventHook.add.call(this,{},fn),eventHook.bind&&(type=eventHook.bind),eventHook.handler&&(tmp=fn,fn=function(event){eventHook.handler.call(self,event,tmp)}),hasEvents=!0,this.data.events[type]||(this.data.events[type]=[],hasEvents=!1)),this.data.events[type].push(fn),!hasEvents&&Popcorn.events.all.indexOf(type)>-1&&this.media.addEventListener(type,function(event){if(self.data.events[type])for(clonedEvents=self.data.events[type].slice();clonedEvents.length;)clonedEvents.shift().call(self,event)},!1),this},unlisten:function(type,fn){var ind,events=this.data.events[type];if(events){if("string"==typeof fn){for(var i=0;i<events.length;i++)events[i].name===fn&&events.splice(i--,1);return this}if("function"==typeof fn){for(;-1!==ind;)ind=events.indexOf(fn),-1!==ind&&events.splice(ind,1);return this}return this.data.events[type]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(event,callback){var state=!1;this.media.readyState&&(setTimeout(function(){callback.call(this,event)}.bind(this),0),state=!0),this.data.hooks.canplayall={fired:state}},handler:function(event,callback){this.data.hooks.canplayall.fired||(callback.call(this,event),this.data.hooks.canplayall.fired=!0)}}}},Popcorn.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(key){Popcorn.p[key[0]]=Popcorn.p[key[1]]=Popcorn.events.fn[key[0]]}),TrackEvent.start=function(instance,track){track.end>instance.media.currentTime&&track.start<=instance.media.currentTime&&!track._running&&(track._running=!0,instance.data.running[track._natives.type].push(track),instance.data.disabled[track._natives.type]||(track._natives.start.call(instance,null,track),instance.emit("trackstart",Popcorn.extend({},track,{plugin:track._natives.type,type:"trackstart",track:track}))))},TrackEvent.end=function(instance,track){var runningPlugins;(track.end<=instance.media.currentTime||track.start>instance.media.currentTime)&&track._running&&(runningPlugins=instance.data.running[track._natives.type],track._running=!1,runningPlugins.splice(runningPlugins.indexOf(track),1),instance.data.disabled[track._natives.type]||(track._natives.end.call(instance,null,track),instance.emit("trackend",Popcorn.extend({},track,{plugin:track._natives.type,type:"trackend",track:track}))))},TrackEvents.prototype.where=function(params){return(this.parent.getTrackEvents()||[]).filter(function(event){var key,value;if(!params)return!0;for(key in params)if(value=params[key],isMatch(event,key,value)||isMatch(event._natives,key,value))return!0;return!1})},TrackEvents.prototype.add=function(track){var startIndex,endIndex,byStart=this.byStart,byEnd=this.byEnd;for(track&&track._id&&this.parent.data.history.push(track._id),track.start=Popcorn.util.toSeconds(track.start,this.parent.options.framerate),track.end=Popcorn.util.toSeconds(track.end,this.parent.options.framerate),startIndex=byStart.length-1;startIndex>=0;startIndex--)if(track.start>=byStart[startIndex].start){byStart.splice(startIndex+1,0,track);break}for(endIndex=byEnd.length-1;endIndex>=0;endIndex--)if(track.end>byEnd[endIndex].end){byEnd.splice(endIndex+1,0,track);break}startIndex<=this.parent.data.trackEvents.startIndex&&track.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,endIndex<=this.parent.data.trackEvents.endIndex&&track.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++,this.count++},TrackEvents.prototype.remove=function(removeId,state){if(removeId instanceof TrackEvent&&(removeId=removeId.id),"object"==typeof removeId)return this.where(removeId).forEach(function(event){this.removeTrackEvent(event._id)},this.parent),this;var start,end,animate,historyLen,track,length=this.byStart.length,index=0,indexWasAt=0,byStart=[],byEnd=[],animating=[],history=[];for(state=state||{};--length>-1;)start=this.byStart[index],end=this.byEnd[index],start._id||(byStart.push(start),byEnd.push(end)),start._id&&(start._id!==removeId&&byStart.push(start),end._id!==removeId&&byEnd.push(end),start._id===removeId&&(indexWasAt=index,track=start)),index++;if(length=this.animating.length,index=0,length)for(;--length>-1;)animate=this.animating[index],animate._id||animating.push(animate),animate._id&&animate._id!==removeId&&animating.push(animate),index++;indexWasAt<=this.startIndex&&this.startIndex--,indexWasAt<=this.endIndex&&this.endIndex--,this.byStart=byStart,this.byEnd=byEnd,this.animating=animating,this.count--,historyLen=this.parent.data.history.length;for(var i=0;historyLen>i;i++)this.parent.data.history[i]!==removeId&&history.push(this.parent.data.history[i]);this.parent.data.history=history},Popcorn.addTrackEvent=function(obj,track){var temp;track instanceof TrackEvent||(track=new TrackEvent(track),track&&track._natives&&track._natives.type&&obj.options.defaults&&obj.options.defaults[track._natives.type]&&(temp=Popcorn.extend({},track),Popcorn.extend(track,obj.options.defaults[track._natives.type],temp)),track._natives&&(track._id=track.id||track._id||Popcorn.guid(track._natives.type),track._natives._setup&&(track._natives._setup.call(obj,track),obj.emit("tracksetup",Popcorn.extend({},track,{plugin:track._natives.type,type:"tracksetup",track:track})))),obj.data.trackEvents.add(track),TrackEvent.start(obj,track),this.timeUpdate(obj,null,!0),track._id&&Popcorn.addTrackEvent.ref(obj,track),obj.emit("trackadded",Popcorn.extend({},track,track._natives?{plugin:track._natives.type}:{},{type:"trackadded",track:track})))},Popcorn.addTrackEvent.ref=function(obj,track){return obj.data.trackRefs[track._id]=track,obj},Popcorn.removeTrackEvent=function(obj,removeId){var track=obj.getTrackEvent(removeId);track&&(track._natives._teardown&&track._natives._teardown.call(obj,track),obj.data.trackEvents.remove(removeId),Popcorn.removeTrackEvent.ref(obj,removeId),track._natives&&obj.emit("trackremoved",Popcorn.extend({},track,{plugin:track._natives.type,type:"trackremoved",track:track})))},Popcorn.removeTrackEvent.ref=function(obj,removeId){return delete obj.data.trackRefs[removeId],obj},Popcorn.getTrackEvents=function(obj){for(var ref,trackevents=[],refs=obj.data.trackEvents.byStart,length=refs.length,idx=0;length>idx;idx++)ref=refs[idx],ref._id&&trackevents.push(ref);return trackevents},Popcorn.getTrackEvents.ref=function(obj){return obj.data.trackRefs},Popcorn.getTrackEvent=function(obj,trackId){return obj.data.trackRefs[trackId]},Popcorn.getTrackEvent.ref=function(obj,trackId){return obj.data.trackRefs[trackId]},Popcorn.getLastTrackEventId=function(obj){return obj.data.history[obj.data.history.length-1]},Popcorn.timeUpdate=function(obj,event){var byEnd,byStart,natives,type,runningPlugins,currentTime=obj.media.currentTime,previousTime=obj.data.trackEvents.previousUpdateTime,tracks=obj.data.trackEvents,end=tracks.endIndex,start=tracks.startIndex,byStartLen=tracks.byStart.length,byEndLen=tracks.byEnd.length,registryByName=Popcorn.registryByName,trackstart="trackstart",trackend="trackend";if(currentTime>=previousTime){for(;tracks.byEnd[end]&&tracks.byEnd[end].end<=currentTime;){if(byEnd=tracks.byEnd[end],natives=byEnd._natives,type=natives&&natives.type,natives&&!registryByName[type]&&!obj[type])return void Popcorn.removeTrackEvent(obj,byEnd._id);byEnd._running===!0&&(byEnd._running=!1,runningPlugins=obj.data.running[type],runningPlugins.splice(runningPlugins.indexOf(byEnd),1),obj.data.disabled[type]||(natives.end.call(obj,event,byEnd),obj.emit(trackend,Popcorn.extend({},byEnd,{plugin:type,type:trackend,track:byEnd})))),end++}for(;tracks.byStart[start]&&tracks.byStart[start].start<=currentTime;){if(byStart=tracks.byStart[start],natives=byStart._natives,type=natives&&natives.type,natives&&!registryByName[type]&&!obj[type])return void Popcorn.removeTrackEvent(obj,byStart._id);byStart.end>currentTime&&byStart._running===!1&&(byStart._running=!0,obj.data.running[type].push(byStart),obj.data.disabled[type]||(natives.start.call(obj,event,byStart),obj.emit(trackstart,Popcorn.extend({},byStart,{plugin:type,type:trackstart,track:byStart})))),start++}}else if(previousTime>currentTime){for(;tracks.byStart[start]&&tracks.byStart[start].start>currentTime;){if(byStart=tracks.byStart[start],natives=byStart._natives,type=natives&&natives.type,natives&&!registryByName[type]&&!obj[type])return void Popcorn.removeTrackEvent(obj,byStart._id);byStart._running===!0&&(byStart._running=!1,runningPlugins=obj.data.running[type],runningPlugins.splice(runningPlugins.indexOf(byStart),1),obj.data.disabled[type]||(natives.end.call(obj,event,byStart),obj.emit(trackend,Popcorn.extend({},byStart,{plugin:type,type:trackend,track:byStart})))),start--}for(;tracks.byEnd[end]&&tracks.byEnd[end].end>currentTime;){if(byEnd=tracks.byEnd[end],natives=byEnd._natives,type=natives&&natives.type,natives&&!registryByName[type]&&!obj[type])return void Popcorn.removeTrackEvent(obj,byEnd._id);byEnd.start<=currentTime&&byEnd._running===!1&&(byEnd._running=!0,obj.data.running[type].push(byEnd),obj.data.disabled[type]||(natives.start.call(obj,event,byEnd),obj.emit(trackstart,Popcorn.extend({},byEnd,{plugin:type,type:trackstart,track:byEnd})))),end--}}tracks.endIndex=end,tracks.startIndex=start,tracks.previousUpdateTime=currentTime,tracks.byStart.length<byStartLen&&tracks.startIndex--,tracks.byEnd.length<byEndLen&&tracks.endIndex--},Popcorn.extend(Popcorn.p,{getTrackEvents:function(){return Popcorn.getTrackEvents.call(null,this)},getTrackEvent:function(id){return Popcorn.getTrackEvent.call(null,this,id)},getLastTrackEventId:function(){return Popcorn.getLastTrackEventId.call(null,this)},removeTrackEvent:function(id){return Popcorn.removeTrackEvent.call(null,this,id),this},removePlugin:function(name){return Popcorn.removePlugin.call(null,this,name),this},timeUpdate:function(event){return Popcorn.timeUpdate.call(null,this,event),this},destroy:function(){return Popcorn.destroy.call(null,this),this}}),Popcorn.manifest={},Popcorn.registry=[],Popcorn.registryByName={},Popcorn.plugin=function(name,definition,manifest){if(Popcorn.protect.natives.indexOf(name.toLowerCase())>=0)return void Popcorn.error("'"+name+"' is a protected function name");var isfn="function"==typeof definition,blacklist=["start","end","type","manifest"],methods=["_setup","_teardown","start","end","frame"],plugin={},combineFn=function(first,second){return first=first||Popcorn.nop,second=second||Popcorn.nop,function(){first.apply(this,arguments),second.apply(this,arguments)}};Popcorn.manifest[name]=manifest=manifest||definition.manifest||{},methods.forEach(function(method){definition[method]=safeTry(definition[method]||Popcorn.nop,name)});var pluginFn=function(setup,options){if(!options)return this;if(options.ranges&&Popcorn.isArray(options.ranges))return Popcorn.forEach(options.ranges,function(range){var opts=Popcorn.extend({},options,range);delete opts.ranges,this[name](opts)},this),this;var manifestOpts,natives=options._natives={},compose="";return Popcorn.extend(natives,setup),options._natives.type=options._natives.plugin=name,options._running=!1,natives.start=natives.start||natives["in"],natives.end=natives.end||natives.out,options.once&&(natives.end=combineFn(natives.end,function(){this.removeTrackEvent(options._id)})),natives._teardown=combineFn(function(){var args=slice.call(arguments),runningPlugins=this.data.running[natives.type];args.unshift(null),args[1]._running&&runningPlugins.splice(runningPlugins.indexOf(options),1)&&natives.end.apply(this,args),args[1]._running=!1,this.emit("trackend",Popcorn.extend({},options,{plugin:natives.type,type:"trackend",track:Popcorn.getTrackEvent(this,options.id||options._id)}))},natives._teardown),natives._teardown=combineFn(natives._teardown,function(){this.emit("trackteardown",Popcorn.extend({},options,{plugin:name,type:"trackteardown",track:Popcorn.getTrackEvent(this,options.id||options._id)}))}),options.compose=options.compose||[],"string"==typeof options.compose&&(options.compose=options.compose.split(" ")),options.effect=options.effect||[],"string"==typeof options.effect&&(options.effect=options.effect.split(" ")),options.compose=options.compose.concat(options.effect),options.compose.forEach(function(composeOption){compose=Popcorn.compositions[composeOption]||{},methods.forEach(function(method){natives[method]=combineFn(natives[method],compose[method])})}),options._natives.manifest=manifest,"start"in options||(options.start=options["in"]||0),options.end||0===options.end||(options.end=options.out||Number.MAX_VALUE),hasOwn.call(options,"toString")||(options.toString=function(){var props=["start: "+options.start,"end: "+options.end,"id: "+(options.id||options._id)];return null!=options.target&&props.push("target: "+options.target),name+" ( "+props.join(", ")+" )"}),options.target||(manifestOpts="options"in manifest&&manifest.options,options.target=manifestOpts&&"target"in manifestOpts&&manifestOpts.target),!options._id&&options._natives&&(options._id=Popcorn.guid(options._natives.type)),options instanceof TrackEvent?(options._natives&&(options._id=options.id||options._id||Popcorn.guid(options._natives.type),options._natives._setup&&(options._natives._setup.call(this,options),this.emit("tracksetup",Popcorn.extend({},options,{plugin:options._natives.type,type:"tracksetup",track:options})))),this.data.trackEvents.add(options),TrackEvent.start(this,options),this.timeUpdate(this,null,!0),options._id&&Popcorn.addTrackEvent.ref(this,options)):Popcorn.addTrackEvent(this,options),Popcorn.forEach(setup,function(callback,type){-1===blacklist.indexOf(type)&&this.on(type,callback)},this),this};Popcorn.p[name]=plugin[name]=function(id,options){{var trackEvent,defaults,mergedSetupOpts,previousOpts,newOpts;arguments.length}if(id&&!options)options=id,id=null;else{if(trackEvent=this.getTrackEvent(id))return newOpts=options,previousOpts=getPreviousProperties(trackEvent,newOpts),trackEvent._natives._update?(this.data.trackEvents.remove(trackEvent),hasOwn.call(options,"start")&&(trackEvent.start=options.start),hasOwn.call(options,"end")&&(trackEvent.end=options.end),TrackEvent.end(this,trackEvent),isfn&&definition.call(this,trackEvent),trackEvent._natives._update.call(this,trackEvent,options),this.data.trackEvents.add(trackEvent),TrackEvent.start(this,trackEvent),"cue"!==trackEvent._natives.type&&this.emit("trackchange",{id:trackEvent.id,type:"trackchange",previousValue:previousOpts,currentValue:newOpts,track:trackEvent}),this):(Popcorn.extend(trackEvent,options),this.data.trackEvents.remove(id),trackEvent._natives._teardown&&trackEvent._natives._teardown.call(this,trackEvent),Popcorn.removeTrackEvent.ref(this,id),isfn?pluginFn.call(this,definition.call(this,trackEvent),trackEvent):(trackEvent._id=trackEvent.id||trackEvent._id||Popcorn.guid(trackEvent._natives.type),trackEvent._natives&&trackEvent._natives._setup&&(trackEvent._natives._setup.call(this,trackEvent),this.emit("tracksetup",Popcorn.extend({},trackEvent,{plugin:trackEvent._natives.type,type:"tracksetup",track:trackEvent}))),this.data.trackEvents.add(trackEvent),TrackEvent.start(this,trackEvent),this.timeUpdate(this,null,!0),Popcorn.addTrackEvent.ref(this,trackEvent)),this.emit("trackchange",{id:trackEvent.id,type:"trackchange",previousValue:previousOpts,currentValue:trackEvent,track:trackEvent}),this);options.id=id}return this.data.running[name]=this.data.running[name]||[],defaults=this.options.defaults&&this.options.defaults[name]||{},mergedSetupOpts=Popcorn.extend({},defaults,options),pluginFn.call(this,isfn?definition.call(this,mergedSetupOpts):definition,mergedSetupOpts),this},manifest&&Popcorn.extend(definition,{manifest:manifest});var entry={fn:plugin[name],definition:definition,base:definition,parents:[],name:name};return Popcorn.registry.push(Popcorn.extend(plugin,entry,{type:name})),Popcorn.registryByName[name]=entry,plugin},Popcorn.plugin.errors=[],Popcorn.plugin.debug="@VERSION"===Popcorn.version,Popcorn.removePlugin=function(obj,name){if(!name){if(name=obj,obj=Popcorn.p,Popcorn.protect.natives.indexOf(name.toLowerCase())>=0)return void Popcorn.error("'"+name+"' is a protected function name");var registryIdx,registryLen=Popcorn.registry.length;for(registryIdx=0;registryLen>registryIdx;registryIdx++)if(Popcorn.registry[registryIdx].name===name)return Popcorn.registry.splice(registryIdx,1),delete Popcorn.registryByName[name],delete Popcorn.manifest[name],void delete obj[name]}var idx,sl,byStart=obj.data.trackEvents.byStart,byEnd=obj.data.trackEvents.byEnd,animating=obj.data.trackEvents.animating;for(idx=0,sl=byStart.length;sl>idx;idx++)byStart[idx]&&byStart[idx]._natives&&byStart[idx]._natives.type===name&&(byStart[idx]._natives._teardown&&byStart[idx]._natives._teardown.call(obj,byStart[idx]),byStart.splice(idx,1),idx--,sl--,obj.data.trackEvents.startIndex<=idx&&(obj.data.trackEvents.startIndex--,obj.data.trackEvents.endIndex--)),byEnd[idx]&&byEnd[idx]._natives&&byEnd[idx]._natives.type===name&&byEnd.splice(idx,1);for(idx=0,sl=animating.length;sl>idx;idx++)animating[idx]&&animating[idx]._natives&&animating[idx]._natives.type===name&&(animating.splice(idx,1),idx--,sl--)},Popcorn.compositions={},Popcorn.compose=function(name,definition,manifest){Popcorn.manifest[name]=manifest=manifest||definition.manifest||{},Popcorn.compositions[name]=definition},Popcorn.plugin.effect=Popcorn.effect=Popcorn.compose;var rnaiveExpr=/^(?:\.|#|\[)/;Popcorn.dom={debug:!1,find:function(selector,context){var node=null;if(context=context||document,selector){if(!rnaiveExpr.test(selector)&&(node=document.getElementById(selector),null!==node))return node;try{node=context.querySelector(selector)}catch(e){if(Popcorn.dom.debug)throw new Error(e)}}return node}};var rparams=/\?/,setup={ajax:null,url:"",data:"",dataType:"",success:Popcorn.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};Popcorn.xhr=function(options){var settings;return options.dataType=options.dataType&&options.dataType.toLowerCase()||null,!options.dataType||"jsonp"!==options.dataType&&"script"!==options.dataType?(settings=Popcorn.extend({},setup,options),settings.ajax=new XMLHttpRequest,settings.ajax?("GET"===settings.type&&settings.data&&(settings.url+=(rparams.test(settings.url)?"&":"?")+settings.data,settings.data=null),settings.ajax.open(settings.type,settings.url,settings.async),"POST"===settings.type&&settings.ajax.setRequestHeader("Content-Type",settings.contentType),settings.ajax.send(settings.data||null),Popcorn.xhr.httpData(settings)):void 0):void Popcorn.xhr.getJSONP(options.url,options.success,"script"===options.dataType)
},Popcorn.xhr.httpData=function(settings){var data,parser,json=null,xml=null;return settings.ajax.onreadystatechange=function(){if(4===settings.ajax.readyState){try{json=JSON.parse(settings.ajax.responseText)}catch(e){}if(data={xml:settings.ajax.responseXML,text:settings.ajax.responseText,json:json},!data.xml||!data.xml.documentElement){data.xml=null;try{parser=new DOMParser,xml=parser.parseFromString(settings.ajax.responseText,"text/xml"),xml.getElementsByTagName("parsererror").length||(data.xml=xml)}catch(e){}}settings.dataType&&(data=data[settings.dataType]),settings.success.call(settings.ajax,data)}},data},Popcorn.xhr.getJSONP=function(url,success,isScript){var prefix,callback,callparam,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script"),isFired=!1,params=[],rjsonp=/(=)\?(?=&|$)|\?\?/;isScript||(callparam=url.match(/(callback=[^&]*)/),null!==callparam&&callparam.length?(prefix=callparam[1].split("=")[1],"?"===prefix&&(prefix="jsonp"),callback=Popcorn.guid(prefix),url=url.replace(/(callback=[^&]*)/,"callback="+callback)):(callback=Popcorn.guid("jsonp"),rjsonp.test(url)&&(url=url.replace(rjsonp,"$1"+callback)),params=url.split(/\?(.+)?/),url=params[0]+"?",params[1]&&(url+=params[1]+"&"),url+="callback="+callback),window[callback]=function(data){success&&success(data),isFired=!0}),script.addEventListener("load",function(){isScript&&success&&success(),isFired&&delete window[callback],head.removeChild(script)},!1),script.addEventListener("error",function(e){success&&success({error:e}),isScript||delete window[callback],head.removeChild(script)},!1),script.src=url,head.insertBefore(script,head.firstChild)},Popcorn.getJSONP=Popcorn.xhr.getJSONP,Popcorn.getScript=Popcorn.xhr.getScript=function(url,success){return Popcorn.xhr.getJSONP(url,success,!0)},Popcorn.util={toSeconds:function(timeStr,framerate){var digitPairs,lastIndex,lastPair,firstPair,frameInfo,frameTime,validTimeFormat=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,errorMessage="Invalid time format";return"number"==typeof timeStr?timeStr:("string"!=typeof timeStr||validTimeFormat.test(timeStr)||Popcorn.error(errorMessage),digitPairs=timeStr.split(":"),lastIndex=digitPairs.length-1,lastPair=digitPairs[lastIndex],lastPair.indexOf(";")>-1&&(frameInfo=lastPair.split(";"),frameTime=0,framerate&&"number"==typeof framerate&&(frameTime=parseFloat(frameInfo[1],10)/framerate),digitPairs[lastIndex]=parseInt(frameInfo[0],10)+frameTime),firstPair=digitPairs[0],{1:parseFloat(firstPair,10),2:60*parseInt(firstPair,10)+parseFloat(digitPairs[1],10),3:3600*parseInt(firstPair,10)+60*parseInt(digitPairs[1],10)+parseFloat(digitPairs[2],10)}[digitPairs.length||1])}},Popcorn.p.cue=Popcorn.p.exec,Popcorn.protect={natives:getKeys(Popcorn.p).map(function(val){return val.toLowerCase()})},Popcorn.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(recommend,api){var original=Popcorn.p[api];Popcorn.p[api]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+api+"', "+(null==recommend?"do not use.":"use '"+recommend+"' instead.")),Popcorn.p[api]=original),Popcorn.p[recommend].apply(this,[].slice.call(arguments))}}),global.Popcorn=Popcorn}else{global.Popcorn={isSupported:!1};for(var methods="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);methods.length;)global.Popcorn[methods.shift()]=function(){}}}(window,window.document),function(global,Popcorn){function initLocale(arg){var locale="string"==typeof arg?arg:[arg.language,arg.region].join("-"),parts=locale.split("-");return{iso6391:locale,language:parts[0]||"",region:parts[1]||""}}var navigator=global.navigator,localeData=initLocale(navigator.userLanguage||navigator.language);Popcorn.locale={get:function(){return localeData},set:function(arg){return localeData=initLocale(arg),Popcorn.locale.broadcast(),localeData},broadcast:function(type){var instance,instances=Popcorn.instances,length=instances.length,idx=0;for(type=type||"locale:changed";length>idx;idx++)instance=instances[idx],type in instance.data.events&&instance.trigger(type)}}}(this,this.Popcorn),function(Popcorn){{var AP=Array.prototype,OP=Object.prototype,hasOwn=(AP.forEach,AP.slice,OP.hasOwnProperty);OP.toString}Popcorn.parsers={},Popcorn.parser=function(name,type,definition){if(Popcorn.protect.natives.indexOf(name.toLowerCase())>=0)return void Popcorn.error("'"+name+"' is a protected function name");if("function"!=typeof type||definition||(definition=type,type=""),"function"==typeof definition&&"string"==typeof type){var parseFn,parser=(Popcorn.events.all,{});return parseFn=function(filename,callback,options){if(!filename)return this;"function"==typeof callback||options||(options=callback,callback=null);var that=this;return Popcorn.xhr({url:filename,dataType:type,success:function(data){var tracksData,tracksDataLen,tracksDef,tracksObject=definition(data,options),idx=0;if(tracksData=tracksObject.data||[],tracksDataLen=tracksData.length,tracksDef=null,tracksDataLen){for(;tracksDataLen>idx;idx++){tracksDef=tracksData[idx];for(var key in tracksDef)hasOwn.call(tracksDef,key)&&that[key]&&that[key](tracksDef[key])}callback&&callback()}}}),this},parser[name]=parseFn,Popcorn.extend(Popcorn.p,parser),parser}}}(Popcorn),function(Popcorn){var combineFn=function(first,second){return first=first||Popcorn.nop,second=second||Popcorn.nop,function(){first.apply(this,arguments),second.apply(this,arguments)}};Popcorn.player=function(name,player){if(!Popcorn[name]){player=player||{};var playerFn=function(target,src,options){options=options||{};var timeout,popcorn,date=new Date/1e3,baselineTime=date,currentTime=0,readyState=0,volume=1,muted=!1,events={},container="string"==typeof target?Popcorn.dom.find(target):target,basePlayer={};Object.prototype.__defineGetter__||(basePlayer=container||document.createElement("div"));for(var val in container)val in basePlayer||("object"==typeof container[val]?basePlayer[val]=container[val]:"function"==typeof container[val]?basePlayer[val]=function(value){return"length"in container[value]&&!container[value].call?container[value]:function(){return container[value].apply(container,arguments)}}(val):Popcorn.player.defineProperty(basePlayer,val,{get:function(value){return function(){return container[value]}}(val),set:Popcorn.nop,configurable:!0}));var timeupdate=function(){date=new Date/1e3,basePlayer.paused||(basePlayer.currentTime=basePlayer.currentTime+(date-baselineTime),basePlayer.dispatchEvent("timeupdate"),timeout=setTimeout(timeupdate,10)),baselineTime=date};return basePlayer.play=function(){this.paused=!1,basePlayer.readyState>=4&&(baselineTime=new Date/1e3,basePlayer.dispatchEvent("play"),timeupdate())},basePlayer.pause=function(){this.paused=!0,basePlayer.dispatchEvent("pause")},Popcorn.player.defineProperty(basePlayer,"currentTime",{get:function(){return currentTime},set:function(val){return currentTime=+val,basePlayer.dispatchEvent("timeupdate"),currentTime},configurable:!0}),Popcorn.player.defineProperty(basePlayer,"volume",{get:function(){return volume},set:function(val){return volume=+val,basePlayer.dispatchEvent("volumechange"),volume},configurable:!0}),Popcorn.player.defineProperty(basePlayer,"muted",{get:function(){return muted},set:function(val){return muted=+val,basePlayer.dispatchEvent("volumechange"),muted},configurable:!0}),Popcorn.player.defineProperty(basePlayer,"readyState",{get:function(){return readyState},set:function(val){return readyState=val},configurable:!0}),basePlayer.addEventListener=function(evtName,fn){return events[evtName]||(events[evtName]=[]),events[evtName].push(fn),fn},basePlayer.removeEventListener=function(evtName,fn){var i,listeners=events[evtName];if(listeners){for(i=events[evtName].length-1;i>=0;i--)fn===listeners[i]&&listeners.splice(i,1);return fn}},basePlayer.dispatchEvent=function(oEvent){var evt,eventInterface,self=this,eventName=oEvent.type;if(eventName||(eventName=oEvent,eventInterface=Popcorn.events.getInterface(eventName),eventInterface&&(evt=document.createEvent(eventInterface),evt.initEvent(eventName,!0,!0,window,1))),events[eventName])for(var i=events[eventName].length-1;i>=0;i--)events[eventName][i].call(self,evt,self)},basePlayer.src=src||"",basePlayer.duration=0,basePlayer.paused=!0,basePlayer.ended=0,options&&options.events&&Popcorn.forEach(options.events,function(val,key){basePlayer.addEventListener(key,val,!1)}),player._canPlayType(container.nodeName,src)!==!1?player._setup?player._setup.call(basePlayer,options):(basePlayer.readyState=4,basePlayer.dispatchEvent("loadedmetadata"),basePlayer.dispatchEvent("loadeddata"),basePlayer.dispatchEvent("canplaythrough")):setTimeout(function(){basePlayer.dispatchEvent("error")},0),popcorn=new Popcorn.p.init(basePlayer,options),player._teardown&&(popcorn.destroy=combineFn(popcorn.destroy,function(){player._teardown.call(basePlayer,options)})),popcorn};playerFn.canPlayType=player._canPlayType=player._canPlayType||Popcorn.nop,Popcorn[name]=Popcorn.player.registry[name]=playerFn}},Popcorn.player.registry={},Popcorn.player.defineProperty=Object.defineProperty||function(object,description,options){object.__defineGetter__(description,options.get||Popcorn.nop),object.__defineSetter__(description,options.set||Popcorn.nop)},Popcorn.player.playerQueue=function(){var _queue=[],_running=!1;return{next:function(){_running=!1,_queue.shift(),_queue[0]&&_queue[0]()},add:function(callback){_queue.push(function(){_running=!0,callback&&callback()}),!_running&&_queue[0]()}}},Popcorn.smart=function(target,src,options){var i,srci,j,media,mediaWrapper,popcorn,srcLength,node="string"==typeof target?Popcorn.dom.find(target):target,wrappers="HTMLYouTubeVideoElement HTMLDailymotionVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLFLVPlayerVideoElement HTMLNullVideoElement ".split(" ");if(!node)return void Popcorn.error("Specified target `"+target+"` was not found.");for(src="string"==typeof src?[src]:src,i=0,srcLength=src.length;srcLength>i;i++){for(srci=src[i],j=0;j<wrappers.length;j++)if(mediaWrapper=Popcorn[wrappers[j]],mediaWrapper&&"probably"===mediaWrapper._canPlaySrc(srci))return media=mediaWrapper(node),popcorn=Popcorn(media,options),setTimeout(function(){media.src=srci},0),popcorn;for(var key in Popcorn.player.registry)if(Popcorn.player.registry.hasOwnProperty(key)&&Popcorn.player.registry[key].canPlayType(node.nodeName,srci))return Popcorn[key](node,srci,options)}var videoHTML,videoElement,videoID=Popcorn.guid("popcorn-video-"),videoHTMLContainer=document.createElement("div");if(videoHTMLContainer.style.width="100%",videoHTMLContainer.style.height="100%",1===src.length)return videoElement=document.createElement("video"),videoElement.id=videoID,node.appendChild(videoElement),setTimeout(function(){var decodeDiv=document.createElement("div");decodeDiv.innerHTML=src[0],videoElement.src=decodeDiv.firstChild.nodeValue},0),Popcorn("#"+videoID,options);for(node.appendChild(videoHTMLContainer),videoHTML='<video id="'+videoID+'" preload=auto autobuffer>',i=0,srcLength=src.length;srcLength>i;i++)videoHTML+='<source src="'+src[i]+'">';return videoHTML+="</video>",videoHTMLContainer.innerHTML=videoHTML,options&&options.events&&options.events.error&&node.addEventListener("error",options.events.error,!1),Popcorn("#"+videoID,options)}}(Popcorn),function(Popcorn){document.addEventListener("DOMContentLoaded",function(){var dataAttr="data-timeline-sources",medias=document.querySelectorAll("["+dataAttr+"]");Popcorn.forEach(medias,function(idx,key){var dataSources,data,popcornMedia,media=medias[key];media.id||(media.id=Popcorn.guid("__popcorn")),media.nodeType&&1===media.nodeType&&(popcornMedia=Popcorn("#"+media.id),dataSources=(media.getAttribute(dataAttr)||"").split(","),dataSources[0]&&Popcorn.forEach(dataSources,function(source){data=source.split("!"),1===data.length&&(data=source.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),data[0]="parse"+data[1].toUpperCase(),data[1]=source),dataSources[0]&&popcornMedia[data[0]]&&popcornMedia[data[0]](data[1])}),popcornMedia.autoplay()&&popcornMedia.play())})},!1)}(Popcorn),function(Popcorn,document){function parseUri(str){for(var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri}function MediaElementProto(){var parentNode,protoElement={};return Object.prototype.__defineGetter__||(protoElement=document.createElement("div")),protoElement._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(value){return"string"==typeof value||value===!0},parseUri:parseUri},protoElement.addEventListener=function(type,listener,useCapture){document.addEventListener(this._eventNamespace+type,listener,useCapture)},protoElement.removeEventListener=function(type,listener,useCapture){document.removeEventListener(this._eventNamespace+type,listener,useCapture)},protoElement.dispatchEvent=function(name){var customEvent=document.createEvent("CustomEvent"),detail={type:name,target:this.parentNode,data:null};customEvent.initCustomEvent(this._eventNamespace+name,!1,!1,detail),document.dispatchEvent(customEvent)},protoElement.load=Popcorn.nop,protoElement.canPlayType=function(){return""},protoElement.getBoundingClientRect=function(){return parentNode.getBoundingClientRect()},protoElement.NETWORK_EMPTY=0,protoElement.NETWORK_IDLE=1,protoElement.NETWORK_LOADING=2,protoElement.NETWORK_NO_SOURCE=3,protoElement.HAVE_NOTHING=0,protoElement.HAVE_METADATA=1,protoElement.HAVE_CURRENT_DATA=2,protoElement.HAVE_FUTURE_DATA=3,protoElement.HAVE_ENOUGH_DATA=4,Object.defineProperties(protoElement,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return parentNode},set:function(val){parentNode=val},configurable:!0},preload:{get:function(){return"auto"},set:Popcorn.nop,configurable:!0},controls:{get:function(){return!0},set:Popcorn.nop,configurable:!0},poster:{get:function(){return""},set:Popcorn.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return _fakeTimeRanges},configurable:!0},seekable:{get:function(){return _fakeTimeRanges},configurable:!0},buffered:{get:function(){return _fakeTimeRanges},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),protoElement}parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var _fakeTimeRanges={length:0,start:Popcorn.nop,end:Popcorn.nop};window.MediaError=window.MediaError||function(){function MediaError(code,msg){this.code=code||null,this.message=msg||""}return MediaError.MEDIA_ERR_NONE_ACTIVE=0,MediaError.MEDIA_ERR_ABORTED=1,MediaError.MEDIA_ERR_NETWORK=2,MediaError.MEDIA_ERR_DECODE=3,MediaError.MEDIA_ERR_NONE_SUPPORTED=4,MediaError}(),Popcorn._MediaElementProto=MediaElementProto}(Popcorn,window.document),function(Popcorn,window,document){function isDailymotionReady(){if(!dmLoaded){window.dmAsyncInit=function(){for(dmReady=!0;dmCallbacks.length;)(callback=dmCallbacks.shift())()};var e=document.createElement("script");e.async=!0,e.src=document.location.protocol+"//api.dmcdn.net/all.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s),dmLoaded=!0}return dmReady}function addDailymotionCallback(callback){dmCallbacks.unshift(callback)}function HTMLDailymotionVideoElement(id){function addMediaReadyCallback(callback){mediaReadyCallbacks.unshift(callback)}function destroyPlayer(){mediaReady&&player&&(player.pause(),parent.removeChild(elem),elem=document.createElement("div"))}function onApiReady(){for(impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),mediaReady=!0;mediaReadyCallbacks.length;)mediaReadyCallbacks[0](),mediaReadyCallbacks.shift()}function onProgress(){impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("progress")}function onError(){var err={name:"MediaError"};err.code=player.error.code,err.message=player.error.messsage,impl.error=err,self.dispatchEvent("error")}function onLoadedMetadata(){impl.networkState=self.NETWORK_IDLE,impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata")}function onPlaying(){impl.readyState=self.HAVE_FUTURE_DATA,impl.paused=!1,impl.seeking=!1,self.dispatchEvent("playing")}function onCanPlay(){impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay")}function onCanPlayThrough(){impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough")}function onSeeking(){impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.seeking=!1,self.dispatchEvent("seeked")}function onTimeUpdate(){impl.currentTime=player.currentTime,self.dispatchEvent("timeupdate")}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(catchRoguePlayEvent=!0,impl.ended=!0,player.load(video_id),self.dispatchEvent("ended"))}function onDurationChange(){var oldDuration=impl.duration,newDuration=player.duration;oldDuration!==newDuration&&(impl.duration=newDuration,self.dispatchEvent("durationchange"),isNaN(oldDuration)&&(impl.readyState=self.HAVE_CURRENT_DATA,self.dispatchEvent("loadeddata")))}function onPlay(){return catchRoguePlayEvent?(catchRoguePlayEvent=!1,void self.pause()):(impl.ended&&(impl.ended=!1),impl.paused=!1,void self.dispatchEvent("play"))}function onPause(){impl.paused=!0,self.dispatchEvent("pause")}function onVolumeChange(){impl.muted=player.muted,impl.volume=player.volume,self.dispatchEvent("volumechange")}function changeSrc(aSrc){if(self._canPlaySrc(aSrc)==EMPTY_STRING)return impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error");if(impl.src=aSrc,mediaReady&&destroyPlayer(),!isDailymotionReady())return void addDailymotionCallback(function(){changeSrc(aSrc)});mediaReady=!1,parent.appendChild(elem);var src=self._util.parseUri(aSrc),queryKey=src.queryKey,playerVars={};playerVars.autoplay=queryKey.autoplay||(impl.autoplay?1:0),playerVars.api=queryKey.api||"postMessage",playerVars.chromeless=queryKey.chromeless||1,playerVars.info=queryKey.info||0,playerVars.logo=queryKey.logo||1,queryKey.syndication&&(playerVars.syndication=queryKey.syndication),playerVars.related=queryKey.related||0;var match=src.source.match(/dailymotion\.com\/(?:embed\/)?video\/([a-z0-9\-]+)_*/i);video_id=match?match[1]:src.path,player=DM.player(elem,{video:video_id,width:"100%",height:"100%",params:playerVars}),player.addEventListener("apiready",onApiReady),player.addEventListener("progress",onProgress),player.addEventListener("error",onError),player.addEventListener("playing",onPlaying),player.addEventListener("canplay",onCanPlay),player.addEventListener("canplaythrough",onCanPlayThrough),player.addEventListener("seeking",onSeeking),player.addEventListener("seeked",onSeeked),player.addEventListener("timeupdate",onTimeUpdate),player.addEventListener("ended",onEnded),player.addEventListener("durationchange",onDurationChange),player.addEventListener("play",onPlay),player.addEventListener("pause",onPause),player.addEventListener("volumechange",onVolumeChange),player.addEventListener("loadedmetadata",onLoadedMetadata)}function changeCurrentTime(aTime){return mediaReady?void player.seek(aTime):void addMediaReadyCallback(function(){player.seek(aTime)})}function setVolume(aValue){player.setVolume(aValue)}function setMuted(aMute){return mediaReady?void 0:void addMediaReadyCallback(function(){player.setMuted(aMute)})}if(!window.postMessage)throw new Error("ERROR: HTMLDailymotionVideoElement requires window.postMessage");var video_id,player,self=new Popcorn._MediaElementProto,parent="string"==typeof id?Popcorn.dom.find(id):id,elem=document.createElement("div"),impl={src:EMPTY_STRING,preload:EMPTY_STRING,controls:!1,loop:!1,poster:EMPTY_STRING,readyState:self.HAVE_NOTHING,networkState:self.NETWORK_EMPTY,autoplay:EMPTY_STRING,currentTime:0,duration:0/0,seeking:!1,error:null,ended:!1,muted:!1,volume:1,paused:!0},mediaReady=!1,catchRoguePlayEvent=!1,mediaReadyCallbacks=[];return self._eventNamespace=Popcorn.guid("HTMLDailymotionVideoElement::"),self.parentNode=parent,self._util.type="Dailymotion",self.play=function(){return mediaReady?void player.play():void addMediaReadyCallback(function(){self.play()})},self.pause=function(){return mediaReady?void player.pause():void addMediaReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return self.parentNode.offsetWidth}},height:{get:function(){return self.parentNode.offsetHeight}},currentTime:{get:function(){return impl.currentTime},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return impl.duration}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){return impl.volume},set:function(aValue){if(0>aValue||aValue>1)throw new Error("Volume value must be between 0.0 and 1.0");setVolume(aValue)}},muted:{get:function(){return impl.muted},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},error:{get:function(){return impl.error}}}),self._canPlaySrc=Popcorn.HTMLDailymotionVideoElement._canPlaySrc,self.canPlayType=Popcorn.HTMLDailymotionVideoElement.canPlayType,self}var EMPTY_STRING="",dmCallbacks=[],dmReady=!1,dmLoaded=!1;HTMLDailymotionVideoElement.prototype=new Popcorn._MediaElementProto,HTMLDailymotionVideoElement.prototype.constructor=HTMLDailymotionVideoElement,HTMLDailymotionVideoElement.prototype._canPlaySrc=function(url){return/dailymotion\.com(\/embed)?\/video\//.test(url)?"probably":EMPTY_STRING},HTMLDailymotionVideoElement.prototype.canPlayType=function(type){return"video/x-dailymotion"===type?"probably":EMPTY_STRING},Popcorn.HTMLDailymotionVideoElement=function(id){return new HTMLDailymotionVideoElement(id)},Popcorn.HTMLDailymotionVideoElement._canPlaySrc=HTMLDailymotionVideoElement.prototype._canPlaySrc,Popcorn.HTMLDailymotionVideoElement.canPlayType=HTMLDailymotionVideoElement.prototype.canPlayType}(Popcorn,window,document),function(Popcorn,window,document){function detectflash(){if(null!=navigator.plugins&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"]&&!0;if(~navigator.userAgent.toLowerCase().indexOf("webtv"))return!0;if(~navigator.appVersion.indexOf("MSIE")&&!~navigator.userAgent.indexOf("Opera"))try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&!0}catch(e){}return!1}function HTMLFLVPlayerVideoElement(id){function destroyPlayer(){playerReady&&player&&(clearInterval(currentTimeInterval),clearInterval(bufferedInterval),self.pause(),parent.removeChild(elem),elem=document.createElement("embed"))}function monitorCurrentTime(){var playerTime=parseInt(listener().position,10);impl.seeking?ABS(playerTime-impl.currentTime)<1&&onSeeked():(impl.currentTime=playerTime,ABS(impl.currentTime-playerTime)>CURRENT_TIME_MONITOR_MS&&(onSeeking(),onSeeked()))}function monitorBuffered(){var fraction=parseInt(listener().bytesLoaded,10);lastLoadedFraction!==fraction&&(lastLoadedFraction=fraction,onProgress(),fraction>=1&&clearInterval(bufferedInterval))}function addMediaReadyCallback(callback){mediaReadyCallbacks.unshift(callback)}function listener(){return window["flvplayer_listener_"+playerUID]}function onUpdate(){return catchRoguePlayEvent?(catchRoguePlayEvent=!1,void self.pause()):void("true"==listener().isPlaying?(playerPaused&&(playerPaused=!1),parseInt(listener().position,10)>0?onTimeUpdate():onBuffering()):getDuration()>0?playerPaused||onPause():mediaReady||onReady())}function onReady(){bufferedInterval=setInterval(monitorBuffered,50),impl.duration=parseInt(listener.duration,10),impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata"),currentTimeInterval=setInterval(monitorCurrentTime,CURRENT_TIME_MONITOR_MS),self.dispatchEvent("loadeddata"),impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay"),mediaReady=!0;for(var i=mediaReadyCallbacks.length;i--;)mediaReadyCallbacks[i](),delete mediaReadyCallbacks[i];impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough")}function onPlayerError(e){var err={name:"MediaError"};err.message=e.message,err.code=e.code||5,impl.error=err,self.dispatchEvent("error")}function onSeeking(){impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.ended=!1,impl.seeking=!1,self.dispatchEvent("seeked")}function onPlay(){playerPaused&&(playerPaused=!1,(impl.loop&&!loopedPlay||!impl.loop)&&(loopedPlay=!0,self.dispatchEvent("play")),self.dispatchEvent("playing"))}function onProgress(){self.dispatchEvent("progress")}function onPause(){impl.paused=!0,playerPaused||(playerPaused=!0,self.dispatchEvent("pause"))}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(impl.ended=!0,catchRoguePlayEvent=!0,player.SetVariable("method:setPosition",0),self.dispatchEvent("ended"))}function onTimeUpdate(){self.dispatchEvent("timeupdate")}function onBuffering(){impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("waiting")}function getCurrentTime(){return impl.currentTime}function changeCurrentTime(aTime){return mediaReady?(impl.currentTime=aTime,onSeeking(),void player.SetVariable("method:setPosition",aTime)):void addMediaReadyCallback(function(){changeCurrentTime(aTime)})}function changeSrc(aSrc){if(!self._canPlaySrc(aSrc))return impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error");mediaReady=!1,playerReady=!1;var playerVars="interval="+CURRENT_TIME_MONITOR_MS+"&bgcolor=000000&listener=flvplayer_listener_"+playerUID;if(impl.src=aSrc,playerReady)player.SetVariable("method:setUrl",impl.src);else{elem.setAttribute("id",playerUID),elem.setAttribute("width","100%"),elem.setAttribute("height","100%"),elem.setAttribute("data",SWF_URL),elem.setAttribute("type","application/x-shockwave-flash");var isIE=eval("/*@cc_on!@*/false;");isIE&&elem.setAttribute("classid","clsid:D27CDB6E-AE6D-11cf-96B8-444553540000");var param=document.createElement("param");param.setAttribute("name","movie"),param.setAttribute("value",SWF_URL),elem.appendChild(param),param=document.createElement("param"),param.setAttribute("name","allowFullScreen"),param.setAttribute("value","true"),elem.appendChild(param),param=document.createElement("param"),param.setAttribute("name","AllowScriptAccess"),param.setAttribute("value","always"),elem.appendChild(param),param=document.createElement("param"),param.setAttribute("name","wmode"),param.setAttribute("value","opaque"),elem.appendChild(param),param=document.createElement("param"),param.setAttribute("name","bgcolor"),param.setAttribute("value","#000000"),elem.appendChild(param),param=document.createElement("param"),param.setAttribute("name","FlashVars"),param.setAttribute("value",playerVars),elem.appendChild(param);var embed=document.createElement("embed");embed.setAttribute("src",SWF_URL),embed.setAttribute("type","application/x-shockwave-flash"),embed.setAttribute("allowfullscreen","true"),embed.setAttribute("bgcolor","#000000"),embed.setAttribute("AllowScriptAccess","always"),embed.setAttribute("wmode","opaque"),embed.setAttribute("width","100%"),embed.setAttribute("height","100%"),embed.setAttribute("FlashVars",playerVars),embed.setAttribute("name","embed_"+playerUID),elem.appendChild(embed),self.parentNode.appendChild(elem)}impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),self.dispatchEvent("progress"),impl.autoplay&&self.play()}function setVolume(aValue){return mediaReady?(impl.volume=aValue,player.SetVariable("method:setVolume",100*impl.volume),void self.dispatchEvent("volumechange")):void addMediaReadyCallback(function(){setVolume(impl.volume)})}function setMuted(aValue){return mediaReady?(impl.muted=aValue,void(impl.muted?(lastVolume=impl.volume,setVolume(0)):lastVolume>-1&&(setVolume(lastVolume),lastVolume=-1))):void addMediaReadyCallback(function(){setMuted(aValue)})}function getMuted(){return impl.muted}function getDuration(){return parseInt(listener().duration,10)}var self=new Popcorn._MediaElementProto,parent="string"==typeof id?document.querySelector(id):id,elem=document.createElement("object"),impl={src:EMPTY_STRING,networkState:self.NETWORK_EMPTY,readyState:self.HAVE_NOTHING,seeking:!1,autoplay:EMPTY_STRING,preload:EMPTY_STRING,controls:!1,loop:!1,poster:EMPTY_STRING,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},playerUID=Popcorn.guid(),playerReady=!1,playerPaused=!0,mediaReady=!1,loopedPlay=!1,player,mediaReadyCallbacks=[],lastLoadedFraction=0,lastVolume=-1,bufferedInterval,currentTimeInterval,catchRoguePlayEvent=!1;return self._eventNamespace=Popcorn.guid("HTMLFLVPlayerVideoElement::"),self.parentNode=parent,self._util.type="FLVPlayer",window["flvplayer_listener_"+playerUID]={onClick:function(){},onKeyUp:function(){},onFlashInit:function(){},onInit:function(){playerReady=!0,player=document.getElementById(playerUID),player.SetVariable("method:setUrl",impl.src)},onFinished:function(){onEnded()},onUpdate:function(){playerReady&&onUpdate()}},self.play=function(){return mediaReady?(impl.paused=!1,impl.ended&&(changeCurrentTime(0),impl.ended=!1),player.SetVariable("method:play",""),void self.dispatchEvent("play")):void addMediaReadyCallback(function(){self.play()})},self.pause=function(){return mediaReady?(impl.paused=!0,void player.SetVariable("method:pause","")):void addMediaReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return self.parentNode.offsetWidth}},height:{get:function(){return self.parentNode.offsetHeight}},currentTime:{get:function(){return getCurrentTime()},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return getDuration()}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){return impl.volume},set:function(aValue){if(0>aValue||aValue>1)throw new Error("Volume value must be between 0.0 and 1.0");setVolume(aValue)}},muted:{get:function(){return impl.muted},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},error:{get:function(){return impl.error
}},buffered:{get:function(){var timeRanges={start:function(index){if(0===index)return 0;throw new Error("INDEX_SIZE_ERR: DOM Exception 1")},end:function(index){var duration;if(0===index)return duration=getDuration(),duration?duration*(parseInt(listener().bytesLoaded,10)/100):0;throw new Error("INDEX_SIZE_ERR: DOM Exception 1")},length:1};return timeRanges}}}),self._canPlaySrc=Popcorn.HTMLFLVPlayerVideoElement._canPlaySrc,self.canPlayType=Popcorn.HTMLFLVPlayerVideoElement.canPlayType,self}var EMPTY_STRING="",CURRENT_TIME_MONITOR_MS=10,SWF_URL=document.location.protocol+"//"+(-1!=document.location.host.indexOf("fo-api")?document.location.host.replace("fo-api","fo-static"):"fo-static.omnitagjs.com")+"/fo-static/player.swf";ABS=Math.abs,Popcorn.HTMLFLVPlayerVideoElement=function(id){return new HTMLFLVPlayerVideoElement(id)},Popcorn.HTMLFLVPlayerVideoElement._canPlaySrc=function(url){return/\.flv$/i.test(url)&&detectflash()?"probably":EMPTY_STRING},Popcorn.HTMLFLVPlayerVideoElement.canPlayType=function(type){return"video/x-flv"===type||"video/flv"===type&&detectflash()?"probably":EMPTY_STRING}}(Popcorn,window,document),function(Popcorn,document){function canPlaySrc(){return"maybe"}function wrapMedia(id,mediaType){var parent="string"==typeof id?document.querySelector(id):id,media=document.createElement(mediaType);return parent.appendChild(media),media._canPlaySrc=canPlaySrc,media}Popcorn.HTMLVideoElement=function(id){return wrapMedia(id,"video")},Popcorn.HTMLVideoElement._canPlaySrc=canPlaySrc,Popcorn.HTMLAudioElement=function(id){return wrapMedia(id,"audio")},Popcorn.HTMLAudioElement._canPlaySrc=canPlaySrc}(Popcorn,window.document),function(Popcorn,document){function NullPlayer(options){this.startTime=0,this.currentTime=options.currentTime||0,this.duration=options.duration||0/0,this.playInterval=null,this.paused=!0,this.defaultPlaybackRate=1,this.playbackRate=1,this.ended=options.endedCallback||Popcorn.nop}function nullPlay(video){video.currentTime+=(Date.now()-video.startTime)/(1e3/video.playbackRate),video.startTime=Date.now(),video.currentTime>=video.duration&&(video.pause(video.duration),video.ended()),video.currentTime<0&&video.pause(0)}function HTMLNullVideoElement(id){function addPlayerReadyCallback(callback){playerReadyCallbacks.push(callback)}function onPlayerReady(){var callback;for(playerReady=!0,impl.networkState=self.NETWORK_IDLE,impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata"),self.dispatchEvent("loadeddata"),impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay"),impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough");playerReadyCallbacks.length;)(callback=playerReadyCallbacks.shift())()}function getDuration(){return player?player.duration:0/0}function destroyPlayer(){playerReady&&player&&(player.pause(),player=null,parent.removeChild(elem),elem=document.createElement("div"))}function changeSrc(aSrc){if(!self._canPlaySrc(aSrc))return impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error");impl.src=aSrc,playerReady&&destroyPlayer(),elem.width=impl.width,elem.height=impl.height,parent.appendChild(elem);var fragments=temporalRegex.exec(aSrc),start=+fragments[1],duration=+fragments[2];player=new NullPlayer({currentTime:start,duration:duration,endedCallback:onEnded}),self.dispatchEvent("loadstart"),self.dispatchEvent("progress"),self.dispatchEvent("durationchange"),onPlayerReady()}function getCurrentTime(){return playerReady?player.currentTime:0}function changeCurrentTime(aTime){if(aTime!==getCurrentTime()){if(!playerReady)return void addPlayerReadyCallback(function(){changeCurrentTime(aTime)});onSeeking(),player.seekTo(aTime),onSeeked()}}function onTimeUpdate(){self.dispatchEvent("timeupdate")}function onSeeking(){impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.ended=!1,impl.seeking=!1,self.dispatchEvent("timeupdate"),self.dispatchEvent("seeked"),self.dispatchEvent("canplay"),self.dispatchEvent("canplaythrough")}function onPlay(){1===impl.paused?(impl.paused=!1,self.dispatchEvent("play"),self.dispatchEvent("playing")):(impl.ended&&(changeCurrentTime(0),impl.ended=!1),impl.paused&&(impl.paused=!1,impl.loop||self.dispatchEvent("play"),self.dispatchEvent("playing"))),timeUpdateInterval=setInterval(onTimeUpdate,self._util.TIMEUPDATE_MS)}function onPause(){impl.paused=!0,clearInterval(timeUpdateInterval),self.dispatchEvent("pause")}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(impl.ended=!0,onPause(),self.dispatchEvent("timeupdate"),self.dispatchEvent("ended"))}function setVolume(aValue){impl.volume=aValue,self.dispatchEvent("volumechange")}function getVolume(){return impl.volume}function setMuted(aValue){impl.muted=aValue,self.dispatchEvent("volumechange")}function getMuted(){return impl.muted}var player,timeUpdateInterval,self=new Popcorn._MediaElementProto,parent="string"==typeof id?document.querySelector(id):id,elem=document.createElement("div"),playerReady=!1,impl={src:EMPTY_STRING,networkState:self.NETWORK_EMPTY,readyState:self.HAVE_NOTHING,autoplay:EMPTY_STRING,preload:EMPTY_STRING,controls:EMPTY_STRING,loop:!1,poster:EMPTY_STRING,volume:1,muted:!1,width:0|parent.width?parent.width:self._util.MIN_WIDTH,height:0|parent.height?parent.height:self._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},playerReadyCallbacks=[];return self._eventNamespace=Popcorn.guid("HTMLNullVideoElement::"),self.parentNode=parent,self._util.type="NullVideo",self.play=function(){return playerReady?(player.play(),void(impl.paused&&onPlay())):void addPlayerReadyCallback(function(){self.play()})},self.pause=function(){return playerReady?(player.pause(),void(impl.paused||onPause())):void addPlayerReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return elem.width},set:function(aValue){elem.width=aValue,impl.width=elem.width}},height:{get:function(){return elem.height},set:function(aValue){elem.height=aValue,impl.height=elem.height}},currentTime:{get:function(){return getCurrentTime()},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return getDuration()}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){return getVolume()},set:function(aValue){if(0>aValue||aValue>1)throw"Volume value must be between 0.0 and 1.0";setVolume(aValue)}},muted:{get:function(){return getMuted()},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},playbackRate:{get:function(){return player.playbackRate},set:function(aValue){player.playbackRate=aValue,self.dispatchEvent("ratechange")}},error:{get:function(){return impl.error}}}),self._canPlaySrc=Popcorn.HTMLNullVideoElement._canPlaySrc,self.canPlayType=Popcorn.HTMLNullVideoElement.canPlayType,self}var DEFAULT_UPDATE_RESOLUTION_MS=16,EMPTY_STRING="",temporalRegex=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;NullPlayer.prototype={play:function(){var video=this;this.paused&&(this.paused=!1,this.startTime=Date.now(),this.playInterval=setInterval(function(){nullPlay(video)},DEFAULT_UPDATE_RESOLUTION_MS))},pause:function(){this.paused||(this.paused=!0,clearInterval(this.playInterval))},seekTo:function(aTime){aTime=0>aTime?0:aTime,aTime=aTime>this.duration?this.duration:aTime,this.currentTime=aTime}},Popcorn.HTMLNullVideoElement=function(id){return new HTMLNullVideoElement(id)},Popcorn.HTMLNullVideoElement._canPlaySrc=function(url){return temporalRegex.test(url)?"probably":EMPTY_STRING},Popcorn.HTMLNullVideoElement.canPlayType=function(type){return"video/x-nullvideo"===type?"probably":EMPTY_STRING}}(Popcorn,document),function(Popcorn,window,document){function isSoundCloudReady(){return scLoaded||(Popcorn.getScript("https://w.soundcloud.com/player/api.js",function(){Popcorn.getScript("https://connect.soundcloud.com/sdk.js",function(){scReady=!0,SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var i=scCallbacks.length;i--;)scCallbacks[i](),delete scCallbacks[i]})}),scLoaded=!0),scReady}function addSoundCloudCallback(callback){scCallbacks.unshift(callback)}function HTMLSoundCloudAudioElement(id){function addPlayerReadyCallback(callback){playerReadyCallbacks.unshift(callback)}function onLoaded(){player.bind(SC.Widget.Events.LOAD_PROGRESS,function(data){onStateChange({type:"loadProgress",data:data.currentPosition/1e3})}),player.bind(SC.Widget.Events.PLAY_PROGRESS,function(data){onStateChange({type:"playProgress",data:data.currentPosition/1e3})}),player.bind(SC.Widget.Events.PLAY,function(){onStateChange({type:"play"})}),player.bind(SC.Widget.Events.PAUSE,function(){onStateChange({type:"pause"})}),player.bind(SC.Widget.Events.SEEK,function(){player.getPosition(function(currentTimeInMS){var currentTimeInSeconds=currentTimeInMS/1e3;return impl.seeking?void(Math.floor(currentTimeInSeconds)!==Math.floor(impl.currentTime)?player.seekTo(1e3*impl.currentTime):onSeeked()):void onStateChange({type:"seek",data:currentTimeInSeconds})})}),player.bind(SC.Widget.Events.FINISH,function(){onStateChange({type:"finish"})}),playerReady=!0,player.getDuration(updateDuration)}function onPlayerReady(){player.bind(SC.Widget.Events.PLAY_PROGRESS,function(data){player.setVolume(0),data.currentPosition>0&&(player.unbind(SC.Widget.Events.PLAY_PROGRESS),player.bind(SC.Widget.Events.PAUSE,function(){player.unbind(SC.Widget.Events.PAUSE),player.setVolume(100),player.bind(SC.Widget.Events.SEEK,function(){player.unbind(SC.Widget.Events.SEEK),onLoaded()}),player.seekTo(0)}),player.pause())}),player.play()}function updateDuration(newDuration){newDuration/=1e3;var oldDuration=impl.duration;if(oldDuration!==newDuration&&(impl.duration=newDuration,self.dispatchEvent("durationchange"),isNaN(oldDuration))){impl.networkState=self.NETWORK_IDLE,impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata"),self.dispatchEvent("loadeddata"),impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay"),impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough");for(var i=playerReadyCallbacks.length;i--;)playerReadyCallbacks[i](),delete playerReadyCallbacks[i];impl.paused&&impl.autoplay&&self.play()}}function destroyPlayer(){playerReady&&player&&(clearInterval(currentTimeInterval),player.pause(),player.unbind(SC.Widget.Events.READY),player.unbind(SC.Widget.Events.LOAD_PROGRESS),player.unbind(SC.Widget.Events.PLAY_PROGRESS),player.unbind(SC.Widget.Events.PLAY),player.unbind(SC.Widget.Events.PAUSE),player.unbind(SC.Widget.Events.SEEK),player.unbind(SC.Widget.Events.FINISH),parent.removeChild(elem),elem=document.createElement("iframe"))}function changeCurrentTime(aTime){function seek(){onSeeking(),player.seekTo(aTime)}return impl.currentTime=aTime,aTime=1e3*aTime,playerReady?void seek():void addMediaReadyCallback(seek)}function onSeeking(){impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.ended=!1,impl.seeking=!1,self.dispatchEvent("timeupdate"),self.dispatchEvent("seeked"),self.dispatchEvent("canplay"),self.dispatchEvent("canplaythrough")}function onPause(){impl.paused=!0,playerPaused||(playerPaused=!0,clearInterval(timeUpdateInterval),self.dispatchEvent("pause"))}function onTimeUpdate(){self.dispatchEvent("timeupdate")}function onPlay(){currentTimeInterval||(currentTimeInterval=setInterval(monitorCurrentTime,CURRENT_TIME_MONITOR_MS),impl.loop&&self.dispatchEvent("play")),timeUpdateInterval=setInterval(onTimeUpdate,self._util.TIMEUPDATE_MS),impl.paused=!1,playerPaused&&(playerPaused=!1,impl.loop||self.dispatchEvent("play"),self.dispatchEvent("playing"))}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(impl.ended=!0,self.pause(),onPause(),self.dispatchEvent("timeupdate"),self.dispatchEvent("ended"))}function onCurrentTime(currentTime){impl.currentTime=currentTime,currentTime!==lastCurrentTime&&self.dispatchEvent("timeupdate"),lastCurrentTime=currentTime}function onStateChange(event){switch(event.type){case"loadProgress":self.dispatchEvent("progress");break;case"playProgress":onCurrentTime(event.data);break;case"play":onPlay();break;case"pause":onPause();break;case"finish":onEnded();break;case"seek":onCurrentTime(event.data)}}function monitorCurrentTime(){impl.ended||player.getPosition(function(currentTimeInMS){onCurrentTime(currentTimeInMS/1e3)})}function changeSrc(aSrc){return self._canPlaySrc(aSrc)?(impl.src=aSrc,playerReady&&destroyPlayer(),isSoundCloudReady()?(playerReady=!1,void SC.get("/resolve",{url:aSrc},function(data){var err;data.errors&&(err={name:"MediaError"},data.errors[0]&&"404 - Not Found"===data.errors[0].error_message&&(err.message="Video not found.",err.code=MediaError.MEDIA_ERR_NETWORK),impl.error=err,self.dispatchEvent("error")),elem.id=Popcorn.guid("soundcloud-"),elem.width=impl.width,elem.height=impl.height,elem.frameBorder=0,elem.webkitAllowFullScreen=!0,elem.mozAllowFullScreen=!0,elem.allowFullScreen=!0,setControls(impl.controls),parent.appendChild(elem),elem.onload=function(){elem.onload=null,player=SC.Widget(elem),player.bind(SC.Widget.Events.READY,onPlayerReady),impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),self.dispatchEvent("progress")},elem.src="https://w.soundcloud.com/player/?url="+data.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})):void addSoundCloudCallback(function(){changeSrc(aSrc)})):(impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error"))}function setVolume(aValue){return impl.volume=aValue,playerReady?(player.setVolume(aValue),void self.dispatchEvent("volumechange")):void addPlayerReadyCallback(function(){setVolume(aValue)})}function getVolume(){return impl.muted>0?impl.muted:impl.volume}function setMuted(aMute){return playerReady?void(aMute?(impl.muted=impl.volume,setVolume(0)):(impl.muted=0,setVolume(impl.muted))):(impl.muted=aMute?1:0,void addPlayerReadyCallback(function(){setMuted(aMute)}))}function getMuted(){return impl.muted>0}function setControls(controls){playerReady?(elem.style.position="absolute",elem.style.visibility=controls?"visible":"hidden"):(elem.style.opacity=controls?"1":"0",elem.style.pointerEvents=controls?"auto":"none"),impl.controls=controls}if(!window.postMessage)throw new Error("ERROR: HTMLSoundCloudAudioElement requires window.postMessage");var player,timeUpdateInterval,currentTimeInterval,self=new Popcorn._MediaElementProto,parent="string"==typeof id?Popcorn.dom.find(id):id,elem=document.createElement("iframe"),impl={src:EMPTY_STRING,networkState:self.NETWORK_EMPTY,readyState:self.HAVE_NOTHING,seeking:!1,autoplay:EMPTY_STRING,preload:EMPTY_STRING,controls:!1,loop:!1,poster:EMPTY_STRING,volume:100,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|parent.width?parent.width:self._util.MIN_WIDTH,height:0|parent.height?parent.height:self._util.MIN_HEIGHT,error:null},playerReady=!1,playerPaused=!0,playerReadyCallbacks=[],lastCurrentTime=0;return self._eventNamespace=Popcorn.guid("HTMLSoundCloudAudioElement::"),self.parentNode=parent,self._util.type="SoundCloud",self.play=function(){return impl.paused=!1,playerReady?(impl.ended&&changeCurrentTime(0),void player.play()):void addPlayerReadyCallback(function(){self.play()})},self.pause=function(){return impl.paused=!0,playerReady?void player.pause():void addPlayerReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return elem.width},set:function(aValue){elem.width=aValue,impl.width=elem.width}},height:{get:function(){return elem.height},set:function(aValue){elem.height=aValue,impl.height=elem.height}},currentTime:{get:function(){return impl.currentTime},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return impl.duration}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){var volume=getVolume();return volume/100},set:function(aValue){if(0>aValue||aValue>1)throw new Error("Volume value must be between 0.0 and 1.0");aValue=100*aValue,setVolume(aValue)}},muted:{get:function(){return getMuted()},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},error:{get:function(){return impl.error}},controls:{get:function(){return impl.controls},set:function(aValue){setControls(!!aValue)}}}),self._canPlaySrc=Popcorn.HTMLSoundCloudAudioElement._canPlaySrc,self.canPlayType=Popcorn.HTMLSoundCloudAudioElement.canPlayType,self}var CURRENT_TIME_MONITOR_MS=16,EMPTY_STRING="",scReady=!1,scLoaded=!1,scCallbacks=[];Popcorn.HTMLSoundCloudAudioElement=function(id){return new HTMLSoundCloudAudioElement(id)},Popcorn.HTMLSoundCloudAudioElement._canPlaySrc=function(url){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(url)?"probably":EMPTY_STRING},Popcorn.HTMLSoundCloudAudioElement.canPlayType=function(type){return"audio/x-soundcloud"===type?"probably":EMPTY_STRING}}(Popcorn,window,document),function(Popcorn,window,document){function VimeoPlayer(vimeoIFrame){function sendMessage(method,params){var data=JSON.stringify({method:method,value:params});vimeoIFrame.contentWindow&&vimeoIFrame.contentWindow.postMessage(data,url)}var self=this,url=vimeoIFrame.src.split("?")[0];"//"===url.substr(0,2)&&(url=window.location.protocol+url);var methods="play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ");methods.forEach(function(method){self[method]=function(arg0){sendMessage(method,arg0)}})}function HTMLVimeoVideoElement(id){function addPlayerReadyCallback(callback){playerReadyCallbacks.unshift(callback)}function onPlayerReady(){player.addEventListener("loadProgress"),player.addEventListener("playProgress"),player.addEventListener("play"),player.addEventListener("pause"),player.addEventListener("finish"),player.addEventListener("seek"),player.getDuration(),impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),self.dispatchEvent("progress")}function updateDuration(newDuration){var oldDuration=impl.duration;if(oldDuration!==newDuration&&(impl.duration=newDuration,self.dispatchEvent("durationchange"),isNaN(oldDuration))){impl.networkState=self.NETWORK_IDLE,impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata"),self.dispatchEvent("loadeddata"),impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay"),impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough"),impl.autoplay&&self.play();for(var i=playerReadyCallbacks.length;i--;)playerReadyCallbacks[i](),delete playerReadyCallbacks[i]}}function destroyPlayer(){playerReady&&player&&(clearInterval(currentTimeInterval),player.pause(),window.removeEventListener("message",onStateChange,!1),parent.removeChild(elem),elem=document.createElement("iframe"))}function changeCurrentTime(aTime){return playerReady?(onSeeking(),void player.seekTo(aTime)):void addPlayerReadyCallback(function(){changeCurrentTime(aTime)})}function onSeeking(){impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.seeking=!1,self.dispatchEvent("timeupdate"),self.dispatchEvent("seeked"),self.dispatchEvent("canplay"),self.dispatchEvent("canplaythrough")}function onPause(){impl.paused=!0,playerPaused||(playerPaused=!0,clearInterval(timeUpdateInterval),self.dispatchEvent("pause"))}function onTimeUpdate(){self.dispatchEvent("timeupdate")}function onPlay(){impl.ended&&changeCurrentTime(0),currentTimeInterval||(currentTimeInterval=setInterval(monitorCurrentTime,CURRENT_TIME_MONITOR_MS),impl.loop&&self.dispatchEvent("play")),timeUpdateInterval=setInterval(onTimeUpdate,self._util.TIMEUPDATE_MS),impl.paused=!1,playerPaused&&(playerPaused=!1,impl.loop||self.dispatchEvent("play"),self.dispatchEvent("playing"))}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(impl.ended=!0,self.dispatchEvent("ended"))}function onCurrentTime(aTime){var currentTime=impl.currentTime=aTime;currentTime!==lastCurrentTime&&self.dispatchEvent("timeupdate"),lastCurrentTime=impl.currentTime}function startupMessage(event){if(event.origin===VIMEO_HOST){var data;try{data=JSON.parse(event.data)}catch(ex){console.warn(ex)}if(data.player_id==playerUID)switch(data.event){case"ready":player=new VimeoPlayer(elem),player.addEventListener("loadProgress"),player.addEventListener("pause"),player.setVolume(0),player.play();break;case"loadProgress":var duration=parseFloat(data.data.duration);duration>0&&!playerReady&&(playerReady=!0,player.pause());break;case"pause":player.setVolume(1),window.removeEventListener("message",startupMessage,!1),window.addEventListener("message",onStateChange,!1),onPlayerReady()}}}function onStateChange(event){if(event.origin===VIMEO_HOST){var data;try{data=JSON.parse(event.data)}catch(ex){console.warn(ex)}if(data.player_id==playerUID){switch(data.method){case"getCurrentTime":onCurrentTime(parseFloat(data.value));break;case"getDuration":updateDuration(parseFloat(data.value));break;case"getVolume":onVolume(parseFloat(data.value))}switch(data.event){case"loadProgress":self.dispatchEvent("progress"),updateDuration(parseFloat(data.data.duration));break;case"playProgress":onCurrentTime(parseFloat(data.data.seconds));break;case"play":onPlay();break;case"pause":onPause();break;case"finish":onEnded();break;case"seek":onCurrentTime(parseFloat(data.data.seconds)),onSeeked()}}}}function monitorCurrentTime(){player.getCurrentTime()}function changeSrc(aSrc){if(!self._canPlaySrc(aSrc))return impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error");impl.src=aSrc,playerReady&&destroyPlayer(),playerReady=!1;var key,src=self._util.parseUri(aSrc),queryKey=src.queryKey,optionsArray=["api=1","player_id="+playerUID,"title=0","byline=0","portrait=0"];impl.loop="1"===queryKey.loop||impl.loop,delete queryKey.loop,impl.autoplay="1"===queryKey.autoplay||impl.autoplay,delete queryKey.autoplay,src=VIMEO_HOST+"/video/"+/\d+$/.exec(src.path)+"?";for(key in queryKey)queryKey.hasOwnProperty(key)&&optionsArray.push(encodeURIComponent(key)+"="+encodeURIComponent(queryKey[key]));src+=optionsArray.join("&"),elem.id=playerUID,elem.style.width="100%",elem.style.height="100%",elem.frameBorder=0,elem.webkitAllowFullScreen=!0,elem.mozAllowFullScreen=!0,elem.allowFullScreen=!0,parent.appendChild(elem),elem.src=src,window.addEventListener("message",startupMessage,!1)}function onVolume(aValue){impl.volume!==aValue&&(impl.volume=aValue,self.dispatchEvent("volumechange"))}function setVolume(aValue){return impl.volume=aValue,playerReady?(player.setVolume(aValue),void self.dispatchEvent("volumechange")):void addPlayerReadyCallback(function(){setVolume(aValue)})}function getVolume(){return impl.muted>0?impl.muted:impl.volume}function setMuted(aMute){return playerReady?void(aMute?(impl.muted=impl.volume,setVolume(0)):(impl.muted=0,setVolume(impl.muted))):(impl.muted=aMute?1:0,void addPlayerReadyCallback(function(){setMuted(aMute)}))}function getMuted(){return impl.muted>0}if(!window.postMessage)throw new Error("ERROR: HTMLVimeoVideoElement requires window.postMessage");var player,timeUpdateInterval,currentTimeInterval,self=new Popcorn._MediaElementProto,parent="string"==typeof id?Popcorn.dom.find(id):id,elem=document.createElement("iframe"),impl={src:EMPTY_STRING,networkState:self.NETWORK_EMPTY,readyState:self.HAVE_NOTHING,seeking:!1,autoplay:EMPTY_STRING,preload:EMPTY_STRING,controls:!1,loop:!1,poster:EMPTY_STRING,volume:1,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},playerReady=!1,playerUID=Popcorn.guid(),playerPaused=!0,playerReadyCallbacks=[],lastCurrentTime=0;return self._eventNamespace=Popcorn.guid("HTMLVimeoVideoElement::"),self.parentNode=parent,self._util.type="Vimeo",self.play=function(){return impl.paused=!1,playerReady?void player.play():void addPlayerReadyCallback(function(){self.play()})},self.pause=function(){return impl.paused=!0,playerReady?void player.pause():void addPlayerReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return self.parentNode.offsetWidth}},height:{get:function(){return self.parentNode.offsetHeight}},currentTime:{get:function(){return impl.currentTime},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return impl.duration}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){return getVolume()},set:function(aValue){if(0>aValue||aValue>1)throw new Error("Volume value must be between 0.0 and 1.0");setVolume(aValue)}},muted:{get:function(){return getMuted()},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},error:{get:function(){return impl.error}}}),self._canPlaySrc=Popcorn.HTMLVimeoVideoElement._canPlaySrc,self.canPlayType=Popcorn.HTMLVimeoVideoElement.canPlayType,self}var CURRENT_TIME_MONITOR_MS=16,EMPTY_STRING="",VIMEO_HOST="https://player.vimeo.com";Popcorn.HTMLVimeoVideoElement=function(id){return new HTMLVimeoVideoElement(id)},Popcorn.HTMLVimeoVideoElement._canPlaySrc=function(url){return/player.vimeo.com\/video\/\d+/.test(url)||/vimeo.com\/\d+/.test(url)?"probably":EMPTY_STRING},Popcorn.HTMLVimeoVideoElement.canPlayType=function(type){return"video/x-vimeo"===type?"probably":EMPTY_STRING}}(Popcorn,window,document),function(Popcorn,window,document){function onYouTubeIframeAPIReady(){var callback;if(YT.loaded)for(ytReady=!0;ytCallbacks.length;)(callback=ytCallbacks.shift())();else setTimeout(onYouTubeIframeAPIReady,250)}function isYouTubeReady(){var script;return ytLoading||(window.YT?onYouTubeIframeAPIReady():(script=document.createElement("script"),script.addEventListener("load",onYouTubeIframeAPIReady,!1),script.src="https://www.youtube.com/iframe_api",document.head.appendChild(script)),ytLoading=!0),ytReady}function addYouTubeCallback(callback){ytCallbacks.unshift(callback)}function HTMLYouTubeVideoElement(id){function addMediaReadyCallback(callback){mediaReadyCallbacks.unshift(callback)}function catchRoguePlayEvent(){self.pause(),removeYouTubeEvent("play",catchRoguePlayEvent),addYouTubeEvent("play",onPlay)}function catchRoguePauseEvent(){addYouTubeEvent("pause",onPause),removeYouTubeEvent("pause",catchRoguePauseEvent)}function onPlayerReady(){playerReady=!0,onReady()}function onPlayerError(event){var err={name:"MediaError"};switch(event.data){case 2:err.message="Invalid video parameter.",err.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:err.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",err.code=MediaError.MEDIA_ERR_DECODE;case 100:err.message="Video not found.",err.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:err.message="Video not usable.",err.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:err.message="Unknown error.",err.code=5}impl.error=err,self.dispatchEvent("error")}function onReady(){for(addYouTubeEvent("play",onPlay),addYouTubeEvent("pause",onPause),impl.readyState=self.HAVE_METADATA,self.dispatchEvent("loadedmetadata"),currentTimeInterval=setInterval(monitorCurrentTime,CURRENT_TIME_MONITOR_MS),self.dispatchEvent("loadeddata"),impl.readyState=self.HAVE_FUTURE_DATA,self.dispatchEvent("canplay"),mediaReady=!0,bufferedInterval=setInterval(monitorBuffered,50);mediaReadyCallbacks.length;)mediaReadyCallbacks[0](),mediaReadyCallbacks.shift();impl.readyState=self.HAVE_ENOUGH_DATA,self.dispatchEvent("canplaythrough")}function addYouTubeEvent(event,listener){self.addEventListener("youtube-"+event,listener,!1)}function removeYouTubeEvent(event,listener){self.removeEventListener("youtube-"+event,listener,!1)}function dispatchYouTubeEvent(event){self.dispatchEvent("youtube-"+event)}function onBuffering(){impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("waiting")}function onPlayerStateChange(event){switch(event.data){case YT.PlayerState.ENDED:dispatchYouTubeEvent("ended");break;case YT.PlayerState.PLAYING:dispatchYouTubeEvent("play");break;case YT.PlayerState.PAUSED:player.getDuration()!==player.getCurrentTime()&&dispatchYouTubeEvent("pause");break;case YT.PlayerState.BUFFERING:dispatchYouTubeEvent("buffering");break;case YT.PlayerState.CUED:}event.data!==YT.PlayerState.BUFFERING&&playerState===YT.PlayerState.BUFFERING&&onProgress(),playerState=event.data}function destroyPlayer(){playerReady&&player&&(removeYouTubeEvent("buffering",onBuffering),removeYouTubeEvent("ended",onEnded),removeYouTubeEvent("play",onPlay),removeYouTubeEvent("pause",onPause),onPause(),mediaReady=!1,loopedPlay=!1,impl.currentTime=0,mediaReadyCallbacks=[],clearInterval(currentTimeInterval),clearInterval(bufferedInterval),player.stopVideo(),player.clearVideo(),player.destroy(),elem=document.createElement("div"))}function changeSrc(aSrc){if(!self._canPlaySrc(aSrc))return impl.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void self.dispatchEvent("error");if(impl.src=aSrc,!isYouTubeReady())return void addYouTubeCallback(function(){changeSrc(aSrc)});if(playerReady){if(!mediaReady)return void addMediaReadyCallback(function(){changeSrc(aSrc)});destroyPlayer()}parent.appendChild(elem);var playerVars=self._util.parseUri(aSrc).queryKey;delete playerVars.v,playerVars.autoplay=impl.autoplay||playerVars.autoplay?1:0,playerVars.loop=0,playerVars.rel=playerVars.rel||0,playerVars.modestbranding=playerVars.modestbranding||1,playerVars.iv_load_policy=playerVars.iv_load_policy||3,playerVars.disablekb=playerVars.disablekb||1,playerVars.showinfo=playerVars.showinfo||0;var domain="file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host;playerVars.origin=playerVars.origin||domain,playerVars.controls=playerVars.controls||impl.controls?2:0,impl.controls=playerVars.controls,playerVars.wmode=playerVars.wmode||"opaque",0!==playerVars.html5&&(playerVars.html5=1),aSrc=regexYouTube.exec(aSrc)[1];var xhrURL="https://gdata.youtube.com/feeds/api/videos/"+aSrc+"?v=2&alt=jsonc&callback=?";Popcorn.getJSONP(xhrURL,function(resp){var warning="failed to retreive duration data, reason: ";return resp.error?void console.warn(warning+resp.error.message):resp.data?(impl.duration=resp.data.duration,self.dispatchEvent("durationchange"),player=new YT.Player(elem,{width:"100%",height:"100%",wmode:playerVars.wmode,videoId:aSrc,playerVars:playerVars,events:{onReady:onPlayerReady,onError:onPlayerError,onStateChange:onPlayerStateChange}}),impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),void self.dispatchEvent("progress")):void console.warn(warning+"no response data")
}),impl.networkState=self.NETWORK_LOADING,self.dispatchEvent("loadstart"),self.dispatchEvent("progress")}function monitorCurrentTime(){var playerTime=player.getCurrentTime();impl.seeking?ABS(playerTime-impl.currentTime)<1&&onSeeked():(ABS(impl.currentTime-playerTime)>CURRENT_TIME_MONITOR_MS&&(onSeeking(),onSeeked()),impl.currentTime=playerTime)}function monitorBuffered(){var fraction=player.getVideoLoadedFraction();fraction&&lastLoadedFraction!==fraction&&(lastLoadedFraction=fraction,onProgress())}function changeCurrentTime(aTime){if(aTime!==impl.currentTime){if(impl.currentTime=aTime,!mediaReady)return void addMediaReadyCallback(function(){onSeeking(),player.seekTo(aTime)});onSeeking(),player.seekTo(aTime)}}function onTimeUpdate(){self.dispatchEvent("timeupdate")}function onSeeking(){addYouTubeEvent("pause",catchRoguePauseEvent),removeYouTubeEvent("pause",onPause),impl.seeking=!0,self.dispatchEvent("seeking")}function onSeeked(){impl.ended=!1,impl.seeking=!1,self.dispatchEvent("timeupdate"),self.dispatchEvent("seeked"),self.dispatchEvent("canplay"),self.dispatchEvent("canplaythrough")}function onPlay(){impl.ended&&(impl.ended=!1),timeUpdateInterval=setInterval(onTimeUpdate,self._util.TIMEUPDATE_MS),impl.paused=!1,playerPaused&&(playerPaused=!1,(impl.loop&&!loopedPlay||!impl.loop)&&(loopedPlay=!0,self.dispatchEvent("play")),self.dispatchEvent("playing"))}function onProgress(){self.dispatchEvent("progress")}function onPause(){impl.paused=!0,playerPaused||(playerPaused=!0,clearInterval(timeUpdateInterval),self.dispatchEvent("pause"))}function onEnded(){impl.loop?(changeCurrentTime(0),self.play()):(impl.ended=!0,changeCurrentTime(0),onPause(),addYouTubeEvent("play",catchRoguePlayEvent),removeYouTubeEvent("play",onPlay),self.dispatchEvent("timeupdate"),self.dispatchEvent("ended"))}function setMuted(aValue){return impl.muted=aValue,mediaReady?(player[aValue?"mute":"unMute"](),void self.dispatchEvent("volumechange")):void addMediaReadyCallback(function(){setMuted(impl.muted)})}function getMuted(){return impl.muted}if(!window.postMessage)throw new Error("ERROR: HTMLYouTubeVideoElement requires window.postMessage");var player,bufferedInterval,currentTimeInterval,timeUpdateInterval,self=new Popcorn._MediaElementProto,parent="string"==typeof id?document.querySelector(id):id,elem=document.createElement("div"),impl={src:EMPTY_STRING,networkState:self.NETWORK_EMPTY,readyState:self.HAVE_NOTHING,seeking:!1,autoplay:EMPTY_STRING,preload:EMPTY_STRING,controls:!1,loop:!1,poster:EMPTY_STRING,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},playerReady=!1,mediaReady=!1,loopedPlay=!1,playerPaused=!0,mediaReadyCallbacks=[],playerState=-1,lastLoadedFraction=0;return self._eventNamespace=Popcorn.guid("HTMLYouTubeVideoElement::"),self.parentNode=parent,self._util.type="YouTube",addYouTubeEvent("buffering",onBuffering),addYouTubeEvent("ended",onEnded),self.play=function(){return impl.paused=!1,mediaReady?void player.playVideo():void addMediaReadyCallback(function(){self.play()})},self.pause=function(){return impl.paused=!0,mediaReady?(catchRoguePauseEvent(),void player.pauseVideo()):void addMediaReadyCallback(function(){self.pause()})},Object.defineProperties(self,{src:{get:function(){return impl.src},set:function(aSrc){aSrc&&aSrc!==impl.src&&changeSrc(aSrc)}},autoplay:{get:function(){return impl.autoplay},set:function(aValue){impl.autoplay=self._util.isAttributeSet(aValue)}},loop:{get:function(){return impl.loop},set:function(aValue){impl.loop=self._util.isAttributeSet(aValue)}},width:{get:function(){return self.parentNode.offsetWidth}},height:{get:function(){return self.parentNode.offsetHeight}},currentTime:{get:function(){return impl.currentTime},set:function(aValue){changeCurrentTime(aValue)}},duration:{get:function(){return impl.duration}},ended:{get:function(){return impl.ended}},paused:{get:function(){return impl.paused}},seeking:{get:function(){return impl.seeking}},readyState:{get:function(){return impl.readyState}},networkState:{get:function(){return impl.networkState}},volume:{get:function(){return impl.volume},set:function(aValue){if(0>aValue||aValue>1)throw"Volume value must be between 0.0 and 1.0";return impl.volume=aValue,mediaReady?(player.setVolume(100*impl.volume),void self.dispatchEvent("volumechange")):void addMediaReadyCallback(function(){self.volume=aValue})}},muted:{get:function(){return getMuted()},set:function(aValue){setMuted(self._util.isAttributeSet(aValue))}},error:{get:function(){return impl.error}},buffered:{get:function(){var timeRanges={start:function(index){if(0===index)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(index){if(0===index)return impl.duration?impl.duration*lastLoadedFraction:0;throw"INDEX_SIZE_ERR: DOM Exception 1"},length:1};return timeRanges},configurable:!0}}),self._canPlaySrc=Popcorn.HTMLYouTubeVideoElement._canPlaySrc,self.canPlayType=Popcorn.HTMLYouTubeVideoElement.canPlayType,self}var CURRENT_TIME_MONITOR_MS=10,EMPTY_STRING="",regexYouTube=/^.*(?:\/|v=)([a-zA-Z0-9_\-]{11})/,ABS=Math.abs,ytReady=!1,ytLoading=!1,ytCallbacks=[];HTMLYouTubeVideoElement.prototype=new Popcorn._MediaElementProto,HTMLYouTubeVideoElement.prototype.constructor=HTMLYouTubeVideoElement,HTMLYouTubeVideoElement.prototype._canPlaySrc=function(url){return/(?:https:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)([a-zA-Z0-9_\-]{11})/.test(url)?"probably":EMPTY_STRING},HTMLYouTubeVideoElement.prototype.canPlayType=function(type){return"video/x-youtube"===type?"probably":EMPTY_STRING},Popcorn.HTMLYouTubeVideoElement=function(id){return new HTMLYouTubeVideoElement(id)},Popcorn.HTMLYouTubeVideoElement._canPlaySrc=HTMLYouTubeVideoElement.prototype._canPlaySrc,Popcorn.HTMLYouTubeVideoElement.canPlayType=HTMLYouTubeVideoElement.prototype.canPlayType}(Popcorn,window,document),function(window,Popcorn){Popcorn.player("soundcloud",{_canPlayType:function(nodeName,url){return"string"==typeof url&&Popcorn.HTMLSoundCloudAudioElement._canPlaySrc(url)&&"audio"!==nodeName.toLowerCase()}}),Popcorn.soundcloud=function(container,url,options){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var media=Popcorn.HTMLSoundCloudAudioElement(container),popcorn=Popcorn(media,options);return setTimeout(function(){media.src=url},0),popcorn}}(window,Popcorn),function(window,Popcorn){Popcorn.player("vimeo",{_canPlayType:function(nodeName,url){return"string"==typeof url&&Popcorn.HTMLVimeoVideoElement._canPlaySrc(url)}}),Popcorn.vimeo=function(container,url,options){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var media=Popcorn.HTMLVimeoVideoElement(container),popcorn=Popcorn(media,options);return setTimeout(function(){media.src=url},0),popcorn}}(window,Popcorn),function(window,Popcorn){var canPlayType=function(nodeName,url){return"string"==typeof url&&Popcorn.HTMLYouTubeVideoElement._canPlaySrc(url)};Popcorn.player("youtube",{_canPlayType:canPlayType}),Popcorn.youtube=function(container,url,options){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var media=Popcorn.HTMLYouTubeVideoElement(container),popcorn=Popcorn(media,options);return setTimeout(function(){media.src=url},0),popcorn},Popcorn.youtube.canPlayType=canPlayType}(window,Popcorn),exports.Popcorn=Popcorn)});
define("js/fo/native/iframe/element/material/landing_iframe",["require","exports","util/str","elements","notifications","lib/jquery","util/informer"],function(require,exports,str,elements,notif,jquery,informer){var $=jquery.jQuery,MaterialLandingIframe=function(_super){function MaterialLandingIframe(facade,Elcontainer,config){_super.call(this,facade,Elcontainer,config),this.landingURL=this.Config.EmbeddedLandingUrl,this.landingOptmizedWidth=this.Config.EmbeddedLandingWidth,this.AcceptedNotifications=[]}return __extends(MaterialLandingIframe,_super),MaterialLandingIframe.prototype.GetComponentName=function(){return"MaterialLandingIframe"},MaterialLandingIframe.prototype.InitListeners=function(){var _this=this;$(window).resize(function(){_this.resizeIframe()})},MaterialLandingIframe.prototype.Insert=function(){this.elIframeContainer=$("<div></div>"),this.elIframeContainer.addClass("material material_landing_iframe");var iframe=$("<iframe></iframe>");iframe.attr("width","100%"),iframe.attr("height","100%"),iframe.addClass("material_element landing_iframe"),iframe.attr("src",str.Untaint(this.landingURL).replace(/(\[|%5B)timestamp(\]|%5D)/gi,Math.floor((new Date).getTime()/1e3).toString())),this.resizeIframe(),this.elIframeContainer.append(iframe),this.ElContainer.html("").append(this.elIframeContainer),this.InitListeners(),this.Notify(notif.NotificationKind.MATERIAL_DISPLAYED),this.Notify(notif.NotificationKind.MATERIAL_STARTED)},MaterialLandingIframe.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},MaterialLandingIframe.prototype.resizeIframe=function(){if(this.landingOptmizedWidth>0){var width=.9*($(window).width()-400)>this.landingOptmizedWidth?this.landingOptmizedWidth:.9*($(window).width()-400);this.elIframeContainer.css({"min-width":width})}else this.elIframeContainer.removeAttr("style")},MaterialLandingIframe}(elements.Material);exports.MaterialLandingIframe=MaterialLandingIframe});
define("js/fo/native/iframe/element/material/vpaid",["require","exports","util/str","omnitag/gostructs","elements","notifications","lib/jquery","util/informer","lib/vpaid","util/attachments","util/redir"],function(require,exports,str,gostructs,elements,notif,jquery,informer,vpaid,attachments,redir){var $=jquery.jQuery,MaterialVPAID=function(_super){function MaterialVPAID(facade,Elcontainer,config){_super.call(this,facade,Elcontainer,config),this.lastVolume=-1,this.AcceptedNotifications=[notif.NotificationKind.CLOSE,notif.NotificationKind.PAUSE_MATERIAL,notif.NotificationKind.PLAY_MATERIAL]}return __extends(MaterialVPAID,_super),MaterialVPAID.prototype.GetComponentName=function(){return"MaterialVPAID"},MaterialVPAID.prototype.Insert=function(){var _this=this,material=$("<div></div>");material.addClass("material material_vpaid"),this.ElContainer.append(material),this.player=new vpaid.PlayerController(material,"ayl",str.Untaint(this.Config.StaticPrefix)),this.player.OnError(function(error){_this.OnError(error)}),this.player.OnReady(function(){_this.OnReady()}),this.player.OnEvent(function(e){_this.OnEvent(e)})},MaterialVPAID.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){case notif.NotificationKind.CLOSE:this.player.Stop();break;case notif.NotificationKind.PLAY_MATERIAL:this.player.Play();break;case notif.NotificationKind.PAUSE_MATERIAL:this.player.Pause();break;default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},MaterialVPAID.prototype.OnReady=function(){this.player.SetURL(attachments.GetAttachmentUrlFromAttachmentSpecialId(this.Config,gostructs.AttachmentIdSpecialKind.VPAID),str.Untaint(this.Config.Extensions)),this.player.Play()},MaterialVPAID.prototype.OnError=function(error){this.Notify(notif.NotificationKind.MATERIAL_FAILED,error)},MaterialVPAID.prototype.OnEvent=function(e){switch(e.type){case vpaid.EventType.AdSkipped:this.Notify(notif.NotificationKind.MATERIAL_SKIP);break;case vpaid.EventType.AdStarted:this.Notify(notif.NotificationKind.MATERIAL_STARTED);break;case vpaid.EventType.AdVolumeChange:var currentVolume=this.player.Volume();0==currentVolume&&this.lastVolume>0&&this.Notify(notif.NotificationKind.MATERIAL_MUTED),currentVolume>0&&0==this.lastVolume&&this.Notify(notif.NotificationKind.MATERIAL_UNMUTED),this.lastVolume=currentVolume;break;case vpaid.EventType.AdImpression:this.Notify(notif.NotificationKind.MATERIAL_DISPLAYED);break;case vpaid.EventType.AdVideoStart:this.Notify(notif.NotificationKind.MATERIAL_START);break;case vpaid.EventType.AdVideoFirstQuartile:this.Notify(notif.NotificationKind.MATERIAL_FIRSTQUARTILE);break;case vpaid.EventType.AdVideoMidpoint:this.Notify(notif.NotificationKind.MATERIAL_MIDPOINT);break;case vpaid.EventType.AdVideoThirdQuartile:this.Notify(notif.NotificationKind.MATERIAL_THIRDQUARTILE);break;case vpaid.EventType.AdVideoComplete:this.Notify(notif.NotificationKind.MATERIAL_COMPLETE),this.Notify(notif.NotificationKind.MATERIAL_ENDED);break;case vpaid.EventType.AdClickThru:this.Notify(notif.NotificationKind.MATERIAL_CLICKTHROUGH),e.data?e.data.playerHandles&&e.data.url&&redir.RedirUrl(this.Config,e.data.url):redir.RedirUrl(this.Config);break;case vpaid.EventType.AdUserAcceptInvitation:this.Notify(notif.NotificationKind.MATERIAL_USERACCEPTINVITATION);break;case vpaid.EventType.AdUserMinimize:this.Notify(notif.NotificationKind.MATERIAL_COLLAPSE);break;case vpaid.EventType.AdUserClose:this.Notify(notif.NotificationKind.MATERIAL_CLOSE);break;case vpaid.EventType.AdPaused:this.Notify(notif.NotificationKind.MATERIAL_PAUSE);break;case vpaid.EventType.AdPlaying:this.Notify(notif.NotificationKind.MATERIAL_PLAY);break;case vpaid.EventType.AdError:this.Notify(notif.NotificationKind.MATERIAL_FAILED,e.data)}},MaterialVPAID}(elements.Material);exports.MaterialVPAID=MaterialVPAID});
define("js/lib/vpaid",["require","exports","./jquery","util/str","./vpaid/vpaid_html"],function(require,exports,jquery,str,tpl){var EventType=(jquery.jQuery,function(){function EventType(value){this.value=value,EventType.map[str.Untaint(value)]=this}return EventType.prototype.toString=function(){return this.value},EventType.Cast=function(value){var result=EventType.map[str.Untaint(value)];if(null==result)throw new Error("Invalid EventType constant: "+str.Untaint(value));return result},EventType.map={},EventType.AdLoaded=new EventType("AdLoaded"),EventType.AdStarted=new EventType("AdStarted"),EventType.AdStopped=new EventType("AdStopped"),EventType.AdLinearChange=new EventType("AdLinearChange"),EventType.AdExpandedChange=new EventType("AdExpandedChange"),EventType.AdRemainingTimeChange=new EventType("AdRemainingTimeChange"),EventType.AdVolumeChange=new EventType("AdVolumeChange"),EventType.AdImpression=new EventType("AdImpression"),EventType.AdVideoStart=new EventType("AdVideoStart"),EventType.AdVideoFirstQuartile=new EventType("AdVideoFirstQuartile"),EventType.AdVideoMidpoint=new EventType("AdVideoMidpoint"),EventType.AdVideoThirdQuartile=new EventType("AdVideoThirdQuartile"),EventType.AdVideoComplete=new EventType("AdVideoComplete"),EventType.AdClickThru=new EventType("AdClickThru"),EventType.AdUserAcceptInvitation=new EventType("AdUserAcceptInvitation"),EventType.AdUserMinimize=new EventType("AdUserMinimize"),EventType.AdUserClose=new EventType("AdUserClose"),EventType.AdPaused=new EventType("AdPaused"),EventType.AdPlaying=new EventType("AdPlaying"),EventType.AdLog=new EventType("AdLog"),EventType.AdError=new EventType("AdError"),EventType.AdSkipped=new EventType("AdSkipped"),EventType.AdSizeChange=new EventType("AdSizeChange"),EventType.AdSkippableStateChange=new EventType("AdSkippableStateChange"),EventType.AdDurationChange=new EventType("AdDurationChange"),EventType.AdInteraction=new EventType("AdInteraction"),EventType}());exports.EventType=EventType;var Event=function(){function Event(type,data){"undefined"==typeof data&&(data=null),this.type=EventType.Cast(type),this.data=data}return Event}();exports.Event=Event;var PlayerController=function(){function PlayerController(container,id,serverPrefix){this.adLoadedCallbacks=[],this.id=id,this.container=container,this.playerURL=serverPrefix+"/"+PlayerController.PlayerFilename,this.prepareAS3Call(),this.createPlayer()}return PlayerController.prototype.prepareAS3Call=function(){var _this=this;window[PlayerController.PlayerReadyCallback+this.id]=function(){_this.onReady()},window[PlayerController.PlayerOnErrorCallback+this.id]=function(error){_this.onError(error)},window[PlayerController.OnAdEventCallback+this.id]=function(type,data){_this.onEvent(type,data)}},PlayerController.prototype.createPlayer=function(){var v={Uid:this.id,PlayerURL:this.playerURL};this.container.html(tpl.Template(v))},PlayerController.prototype.onReady=function(){this.player=document.getElementById(this.id),this._onReadyHandler&&this._onReadyHandler()},PlayerController.prototype.addAdLoadedCallbacks=function(c){this.adLoadedCallbacks.push(c)},PlayerController.prototype.onEvent=function(type,data){"undefined"==typeof data&&(data=null);var e=new Event(type,data);switch(e.type){case EventType.AdLoaded:this.adLoaded=!0;for(var i=this.adLoadedCallbacks.length;i--;)this.adLoadedCallbacks[i](),delete this.adLoadedCallbacks[i]}this._onEventHandler&&this._onEventHandler(e)},PlayerController.prototype.onError=function(error){this._onErrorHandler&&this._onErrorHandler(error)},PlayerController.prototype.OnEvent=function(handler){this._onEventHandler=handler},PlayerController.prototype.OnError=function(handler){this._onErrorHandler=handler},PlayerController.prototype.OnReady=function(handler){this._onReadyHandler=handler},PlayerController.prototype.Ready=function(){return this.player.ready()},PlayerController.prototype.SetURL=function(url,adParams){this.player.setURL(url,adParams)},PlayerController.prototype.Play=function(){var _this=this;return this.adLoaded?void this.player.play():void this.addAdLoadedCallbacks(function(){_this.Play()})},PlayerController.prototype.Pause=function(){var _this=this;return this.adLoaded?void this.player.pause():void this.addAdLoadedCallbacks(function(){_this.Pause()})},PlayerController.prototype.Stop=function(){var _this=this;return this.adLoaded?void this.player.stop():void this.addAdLoadedCallbacks(function(){_this.Stop()})},PlayerController.prototype.SetVolume=function(value){var _this=this;return this.adLoaded?void this.player.setVolume(value):void this.addAdLoadedCallbacks(function(){_this.SetVolume(value)})},PlayerController.prototype.Volume=function(){return this.adLoaded?this.player.volume():-1},PlayerController.OnAdEventCallback="VPAID_EXTERNAL_AdEvent__",PlayerController.PlayerOnErrorCallback="VPAID_EXTERNAL_PlayerError__",PlayerController.PlayerReadyCallback="VPAID_EXTERNAL_PlayerReady__",PlayerController.PlayerFilename="VPAID.swf",PlayerController}();exports.PlayerController=PlayerController});
define("js/lib/vpaid/vpaid_html",["require","exports","util/str"],function(require,exports,_tw_str){function _tw_expr(s){return _tw_str.IsTainted(s)&&(s=_tw_str.Untaint(s)),_tw_str.EscapeHTML(""+s)}function Template(locals){function _out(s){_result.push(s)}locals||(locals={});var _result=[];_out("\n");var v=locals,flashvars="namespace="+v.Uid;return _out('\n<!--[if (IE)]>\n<object id="'+_tw_expr(v.Uid)+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash" width="100%" height="100%" data="'+_tw_expr(v.PlayerURL)+'" >\n<![endif]-->\n<!--[if !(IE)]><!-->\n<object id="'+_tw_expr(v.Uid)+'" type="application/x-shockwave-flash" width="100%" height="100%" data="'+_tw_expr(v.PlayerURL)+'" >\n<!--<![endif]-->\n <param name="movie" value="'+_tw_expr(v.PlayerURL)+'" />\n <param name="allowFullScreen" value="true" />\n <param name="allowScriptAccess" value="always" />\n <param name="bgcolor" value="#000000" />\n <param name="wmode" value="opaque" />\n <param name="FlashVars" value="'+_tw_expr(flashvars)+'" />\n <embed\n src="'+_tw_expr(v.PlayerURL)+'"\n type="application/x-shockwave-flash"\n allowfullscreen="true"\n allowScriptAccess="always"\n wmode="opaque"\n bgcolor="#000000"\n width="100%"\n height="100%"\n FlashVars="'+_tw_expr(flashvars)+'"\n />\n</object>\n'),_result.join("")}exports.Template=Template});
define("js/fo/native/iframe/element/material/captcha",["require","exports","omnitag/gostructs","elements","notifications","fo/captcha/engine","lib/jquery","util/informer"],function(require,exports,gostructs,elements,notif,engine,jquery,informer){var $=jquery.jQuery,MaterialCaptcha=function(_super){function MaterialCaptcha(facade,ElContainer,config){_super.call(this,facade,ElContainer,config),this.AcceptedNotifications=[]}return __extends(MaterialCaptcha,_super),MaterialCaptcha.prototype.GetComponentName=function(){return"MaterialCaptcha"},MaterialCaptcha.prototype.Insert=function(){var _this=this,config=this.Config.CaptchaConfig,containerId="container-"+Math.random().toString().substring(2),elForm=$('<form id="'+containerId+'"></form>');this.ElContainer.append(elForm),config.IntegrationSelector="#"+containerId,config.IntegrationInsertion=gostructs.CaptchaIntegrationInsertionKind.APPEND;var captchaEngine=engine.New(config);elForm.on("submit",function(event){event.preventDefault(),setTimeout(function(){captchaEngine.Exit(),_this.Notify(notif.NotificationKind.MATERIAL_ENDED)},1e3)}),captchaEngine.Enter(),this.Notify(notif.NotificationKind.MATERIAL_STARTED)},MaterialCaptcha.prototype.Receive=function(notification){switch(_super.prototype.Receive.call(this,notification),notification.Kind){default:informer.Snitch(informer.ERROR,notification.Kind.toString()+" not implemented in "+this.GetComponentName())}},MaterialCaptcha}(elements.Material);exports.MaterialCaptcha=MaterialCaptcha});
define("js/fo/native/iframe/native_iframe_css",["require","exports"],function(require,exports){exports.Content="@-webkit-keyframes fadeInShare{0%{opacity:.2}100%{opacity:1}}@-moz-keyframes fadeInShare{0%{opacity:.2}100%{opacity:1}}@-o-keyframes fadeInShare{0%{opacity:.2}100%{opacity:1}}@keyframes fadeInShare{0%{opacity:.2}100%{opacity:1}}@-webkit-keyframes fadeInScaleClose{0%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(0);opacity:0}}@-moz-keyframes fadeInScaleClose{0%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(0);opacity:0}}@-o-keyframes fadeInScaleClose{0%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(0);opacity:0}}@keyframes fadeInScaleClose{0%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(0);opacity:0}}@-webkit-keyframes fadeInScale{0%{transform:translate(-50%,-50%) scale(.6);opacity:0}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}@-moz-keyframes fadeInScale{0%{transform:translate(-50%,-50%) scale(.6);opacity:0}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}@-o-keyframes fadeInScale{0%{transform:translate(-50%,-50%) scale(.6);opacity:0}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}@keyframes fadeInScale{0%{transform:translate(-50%,-50%) scale(.6);opacity:0}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}html,body{width:100%;height:100%;background-color:rgba(0,0,0,.6);overflow:hidden}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0}iframe{padding:0;margin:0;border:0;outline:0;vertical-align:top;background-color:#fff}.material_video{position:relative;cursor:pointer}.material_video .clickable_area{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:1111}.material_video .clickable_area .clickable_image{width:20%;max-width:120px;height:20%;max-height:120px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.material_video .clickable_area .clickable_image .clickable_image_element{display:none;width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center center}.material_video .clickable_area.play .clickable_image .clickable_image_play{display:block;background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/ayl_play_logo_120x120.png)}.material_video .clickable_area.replay .clickable_image{width:50%;max-width:none;height:50%;max-height:none}.material_video .clickable_area.replay .clickable_image .clickable_image_element{height:50%;display:block}.material_video .clickable_area.replay .clickable_image .clickable_image_element:first-child{margin-bottom:5%}.material_video .clickable_area.replay .clickable_image .clickable_image_more{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/read_more.png)}.material_video .clickable_area.replay .clickable_image .clickable_image_more:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/read_more_on.png)}.material_video .clickable_area.replay .clickable_image .clickable_image_play{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/replay.png)}.material_video .clickable_area.replay .clickable_image .clickable_image_play:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/replay_on.png)}.material_video .video_container_youtube~.clickable_area{display:none}.material_video .video_container_youtube.video_started~.clickable_area{display:block}.material_video iframe,.material_video video,.material_video object{background-color:transparent;width:100%;height:100%;position:absolute;top:0;left:0;display:block}.material_video .progress_bar{position:absolute;bottom:-1px;left:0;right:0;width:100%;z-index:111;background-color:rgba(0,0,0,.68)}.material_video .progress{width:0;height:5px;background-color:rgba(204,204,204,.8);font-size:1px;-webkit-transform-origin:left;-ms-transform-origin:left;transform-origin:left}.material_landing_iframe{overflow:auto;-webkit-overflow-scrolling:touch}.material_landing_iframe .landing_iframe{background-color:#fff;width:100%;height:100%;position:absolute;top:0;left:0;display:block}.material_vpaid{position:relative;cursor:pointer}.material_vpaid object{background-color:transparent;width:100%;height:100%;position:absolute;top:0;left:0;display:block}.interactive_component_sharing_area{height:100%}.interactive_component_sharing_area:empty{height:0}.interactive_component_sharing_area .interactive_sharing ul{list-style-type:none}.interactive_component_skin_area .container_top{background-repeat:no-repeat;background-position:bottom;background-size:100%}.interactive_component_skin_area .container_bottom{background-repeat:no-repeat;background-position:top;background-size:100%}.interactive_component_skin_area .container_left{background-repeat:no-repeat;background-position:right;background-size:100% auto}.interactive_component_skin_area .container_right{background-repeat:no-repeat;background-position:left;background-size:100% auto}.interactive_component_close_counter_area .interactive_close_counter{display:table;height:100%;width:100%}.interactive_component_close_counter_area .interactive_close_counter .close_button,.interactive_component_close_counter_area .interactive_close_counter .counter{display:none;text-align:center;vertical-align:middle;font-size:1em;height:100%;width:100%}.interactive_component_close_counter_area .interactive_close_counter .close_button.display,.interactive_component_close_counter_area .interactive_close_counter .counter.display{display:table-cell}.interactive_component_close_counter_area .interactive_close_counter .close_button.hidden,.interactive_component_close_counter_area .interactive_close_counter .counter.hidden{display:none}.interactive_component_close_counter_area .interactive_close_counter .close_button{cursor:pointer;background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/cross_off.png);background-size:cover;background-position:center center;background-repeat:no-repeat}.interactive_component_close_counter_area .interactive_close_counter .close_button:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/cross_on.png)}@media screen and (min-device-width:769px) and (max-device-width:1299px),screen and (max-device-width:768px){.interactive_component_close_counter_area .interactive_close_counter .close_button{display:table-cell}}.iframe .container{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:100%;height:100%}.iframe .container_inner{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:1300px;height:750px}.iframe .container_inner .container_column{float:left}.iframe .container_inner .container_top{height:100px;width:900px}.iframe .container_inner .container_middle{width:900px;cursor:pointer}.iframe .container_inner .container_center{width:auto;top:50%;bottom:0;left:50%;right:0;position:absolute;height:550px;width:900px;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.iframe .container_inner .container_left{width:200px;height:750px}.iframe .container_inner .container_right{float:right;width:200px;height:750px}.iframe .container_inner .container_bottom{height:100px;width:900px;margin-top:550px}@media screen and (max-device-width:1299px) and (min-device-width:769px),screen and (max-width:1299px){.iframe .landscape .container_inner{height:100%}.iframe .container_inner{width:100%}.iframe .container_inner .container_left{width:15.4%;height:100%}.iframe .container_inner .container_right{margin:auto;height:100%;width:15.4%}.iframe .container_inner .container_top{height:19.4%;width:100%;position:absolute;margin-left:0;bottom:50%;margin-bottom:30.6%}.iframe .container_inner .container_bottom{height:19.4%;width:100%;position:absolute;margin-top:30.6%;top:50%}.iframe .container_inner .container_middle{margin:auto;position:relative;width:69.2%;padding-bottom:0;height:100%}.iframe .container_inner .container_center{width:100%;margin-left:0;height:100%;z-index:10}}@media screen and (max-device-width:768px) and (min-device-width:320px),screen and (max-width:768px){.iframe .portrait .container_inner{display:block;height:100%}.iframe .portrait .container_inner .container_center{width:100%;height:100%;margin:0}.iframe .portrait .container_inner .container_middle{height:100%;width:100%;padding-bottom:0}.iframe .portrait .container_inner .container_left,.iframe .portrait .container_inner .container_right{display:none}.iframe .portrait .container_inner .container_top{width:100%;margin:0 auto;bottom:50%;margin-bottom:28.15%}.iframe .portrait .container_inner .container_bottom{width:100%;margin:0 auto;margin-top:28.15%;top:50%}}@media screen and (max-device-width:767px){.iframe .landscape .container_inner{display:block;height:initial;width:initial}.iframe .landscape .container_inner .container_middle{height:100%;width:100%;padding-bottom:0}.iframe .landscape .container_inner .container_center{width:100%;height:100%;margin:0}.iframe .landscape .container_inner .container_top,.iframe .landscape .container_inner .container_bottom,.iframe .landscape .container_inner .container_left,.iframe .landscape .container_inner .container_right{display:none}}.iframe .box{display:block;cursor:default;position:absolute;top:50%;left:50%;min-width:875px;height:auto;padding:6px 12px 18px 12px;color:#444;background:#000;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;-webkit-box-shadow:0 10px 25px rgba(0,0,0,.5);box-shadow:0 10px 25px rgba(0,0,0,.5);-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:fadeInScale .6s 0 ease-in-out;-moz-animation:fadeInScale .6s 0 ease-in-out;-ms-animation:fadeInScale .6s 0 ease-in-out;-o-animation:fadeInScale .6s 0 ease-in-out;animation:fadeInScale .6s 0 ease-in-out;-webkit-filter:blur(0)}.iframe .box .interactive_component_close_counter_area{height:28px;font-family:arial;text-align:right;font-size:11pt;text-decoration:none;color:#fff;display:block;width:100%}.iframe .box .interactive_component_close_counter_area .interactive_close_counter{float:right;width:28px}.iframe .box .material_area{margin-top:7px}.iframe .box .material_area .video_container,.iframe .box .material_area .material_landing_iframe,.iframe .box .material_area .material_vpaid{position:relative;padding-bottom:56.3%;height:0;display:block;z-index:12}.iframe .box .interactive_component_sharing_area{position:absolute;right:-60px;top:0;height:100%;width:61px}.iframe .box .interactive_component_sharing_area .interactive_sharing{display:table}.iframe .box .interactive_component_sharing_area .interactive_sharing ul{display:table-cell;vertical-align:middle;padding-top:61px}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share{height:61px;width:40.67px;cursor:pointer;display:block;background:center right no-repeat;margin-top:7px;-webkit-transition:width .2s linear;-moz-transition:width .2s linear;-o-transition:width .2s linear;transition:width .2s linear}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_plus_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_plus_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_on.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{width:61px;opacity:1;-webkit-animation:fadeInShare .6s 0 ease-in-out;-moz-animation:fadeInShare .6s 0 ease-in-out;-ms-animation:fadeInShare .6s 0 ease-in-out;-o-animation:fadeInShare .6s 0 ease-in-out;animation:fadeInShare .6s 0 ease-in-out}.iframe .box.animate_close{opacity:0;-webkit-animation:fadeInScaleClose .7s 0 ease-in-out;-moz-animation:fadeInScaleClose .7s 0 ease-in-out;-ms-animation:fadeInScaleClose .7s 0 ease-in-out;-o-animation:fadeInScaleClose .7s 0 ease-in-out;animation:fadeInScaleClose .7s 0 ease-in-out}@media screen and (max-device-width:1299px) and (min-device-width:769px),screen and (max-width:1299px){.iframe .box{left:0;right:0;width:auto;min-width:auto;min-width:initial;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%)}}@media screen and (min-device-width:769px) and (max-device-width:1299px){.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_plus_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_off.png)}.iframe .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{width:40.67px}}@media screen and (max-device-width:768px) and (min-device-width:320px),screen and (max-width:768px){.iframe body{background-color:#000}.iframe .portrait .box{width:100%;height:100%;padding:0;margin:0;color:#444;background:0 0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-animation:none;-moz-animation:none;-ms-animation:none;-o-animation:none;animation:none}.iframe .portrait .box .material_area{top:5vh;height:auto;width:100%;bottom:0;margin:0 auto}.iframe .portrait .box .material_area .material.material_video,.iframe .portrait .box .material_area .material.material_vpaid{position:absolute;right:0;left:0;top:50%;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%)}.iframe .portrait .box .material_area .material.material_landing_iframe{position:relative;padding:0;height:100%;width:100%}.iframe .portrait .box .material_area .material.material_landing_iframe .landing_iframe{position:relative;top:initial;left:initial;width:100%;height:100%}.iframe .portrait .box .interactive_component_close_counter_area{position:static;height:5vh;width:5vh;float:right;font-size:1.8vw}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter{float:none;height:100%;width:100%}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .counter,.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .close_button{height:5vh;width:5vh;padding-right:.1%}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .counter{padding-right:1vw}.iframe .portrait .box .interactive_component_sharing_area{position:static;height:5vh;width:80vw;float:left}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing{display:block}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul{display:block;padding:0}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share{display:block;height:5vh;width:5vh;cursor:pointer;display:inline-block;margin:0;background-size:cover}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{background-image:initial;width:5vh;-webkit-animation:none;-moz-animation:none;-ms-animation:none;-o-animation:none;animation:none}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_on.png)}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_on.png)}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_plus_on.png)}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_on.png)}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_on.png)}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_on.png)}}@media screen and (max-device-width:767px){.iframe .landscape .box{width:100%;height:100%;margin:0 auto;padding:0}.iframe .landscape .box .material_area{position:absolute;top:10vh;height:auto;width:100%;bottom:0;margin:0 auto}.iframe .landscape .box .material_area .material.material_video,.iframe .landscape .box .material_area .material.material_vpaid{position:relative;right:initial;left:initial;top:initial;padding:0;height:100%;width:100%;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.iframe .landscape .box .material_area .material.material_video .video_container,.iframe .landscape .box .material_area .material.material_vpaid .video_container{height:100%;width:100%;position:relative;padding:0}.iframe .landscape .box .interactive_component_close_counter_area{position:static;height:5vh;width:5vh;float:right;font-size:1.8vw}.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter{float:none;height:100%;width:100%}.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter .counter,.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter .close_button{height:5vh;width:5vh;padding-right:.1%}.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter .counter{padding-right:1vw}.iframe .landscape .box .interactive_component_sharing_area{position:static;height:5vh;width:80vw;float:left}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing{display:block}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul{display:block;padding:0}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share{display:block;height:5vh;width:5vh;cursor:pointer;display:inline-block;margin:0;background-size:cover}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{background-image:initial;width:5vh;-webkit-animation:none;-moz-animation:none;-ms-animation:none;-o-animation:none;animation:none}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_on.png)}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_on.png)}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_plus_on.png)}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_on.png)}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_on.png)}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info,.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info:hover{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_on.png)}.iframe .landscape .box .interactive_component_sharing_area{height:10vh}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share{width:10vh;height:10vh}.iframe .landscape .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{width:10vh}.iframe .landscape .box .interactive_component_close_counter_area{height:10vh;width:10vh}.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter .counter,.iframe .landscape .box .interactive_component_close_counter_area .interactive_close_counter .close_button{height:10vh;width:10vh;padding-right:2.5vh}}.adreader .box{position:relative;display:block;background:#000;color:#444;margin:0;padding:0}.adreader .box .video_container,.adreader .box .material_vpaid{position:relative;padding-bottom:56.23%;height:0}.adreader .box .interactive_component_close_counter_area{display:none;height:0}.adreader .box .interactive_component_sharing_area{height:30px}.adreader .box .interactive_component_sharing_area:empty{height:0}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share{float:left;height:30px;width:30px;cursor:pointer;display:block;margin-right:3px;background-position:0 0;-webkit-transition:all ease .3s;-moz-transition:all ease .3s;-o-transition:all ease .3s;transition:all ease .3s}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{background-position:0 -30px}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.facebook{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_min.png)}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.twitter{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_min.png)}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.googleplus{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_min.png)}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.linkedin{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_min.png)}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.pinterest{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_min.png)}.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share.more_info{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_min.png)}@media screen and (min-device-width:769px) and (max-device-width:1299px),screen and (max-device-width:768px){.adreader .box .interactive_component_sharing_area .interactive_sharing ul .share{background-position:0 -30px}}.inpreview body{background-color:#000}.inpreview .box{position:absolute;top:0;left:0;width:100%;height:100%}.inpreview .box .material_area{position:absolute;top:0;height:auto;width:100%;bottom:0;margin:0 auto}.inpreview .box .material_area .video_container,.inpreview .box .material_area .material_landing_iframe,.inpreview .box .material_area .material_vpaid{position:relative;height:100%;display:block;z-index:12}.inpreview .box .material_area .material.material_video,.inpreview .box .material_area .material.material_vpaid{position:absolute;right:0;left:0;top:0;height:100%}.inpreview .box .material_area .material.material_video .progress_bar{display:none}.inpreview .box .interactive_component_close_counter_area{display:none}.inpreview .box:hover .interactive_component_sharing_area{position:fixed;left:0;top:0;height:20vh;width:auto;z-index:1112}.inpreview .box:hover .interactive_component_sharing_area:empty{height:0}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share{float:left;height:20vh;max-height:30px;width:20vh;max-width:30px;cursor:pointer;display:block;margin-right:3px;background-size:cover;-webkit-transition:all ease .3s;-moz-transition:all ease .3s;-o-transition:all ease .3s;transition:all ease .3s}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.facebook{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/facebook_on.png)}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.twitter{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/twitter_on.png)}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.googleplus{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/google_on.png)}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.linkedin{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/linkedin_on.png)}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.pinterest{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/pinterest_on.png)}.inpreview .box:hover .interactive_component_sharing_area .interactive_sharing ul .share.more_info{background-image:url(//fo-static.omnitagjs.com/fo-static/native/images/more_info_on.png)}@media screen and (min-device-width:769px) and (max-device-width:1299px),screen and (max-device-width:768px){.inpreview .box .interactive_component_sharing_area .interactive_sharing ul .share{background-position:0 -30px}}@media only screen and (min-device-width:320px) and (max-device-width:568px) and (-webkit-device-pixel-ratio:2) and (device-aspect-ratio:40 / 71),only screen and (min-device-width:320px) and (max-device-width:480px) and (-webkit-device-pixel-ratio:2) and (device-aspect-ratio:2 / 3),only screen and (min-device-width:320px) and (max-device-width:480px) and (-webkit-device-pixel-ratio:1){.iframe .material_video .clickable_area.play,.adreader .material_video .clickable_area.play,.inpreview .material_video .clickable_area.play{background:0 0}.iframe .progress_bar,.adreader .progress_bar,.inpreview .progress_bar{display:none}}"});
define("js/fo/native/iframe/native_iframe_ie_css",["require","exports"],function(require,exports){exports.Content=".material_video .clickable_area{background-color:rgba(0,0,0,.01)}@media screen and (max-device-width:768px),screen and (max-width:768px){.iframe .portrait .box{top:50%}.iframe .portrait .box .material_area{top:44px;height:100%}.iframe .portrait .box .interactive_component_close_counter_area{font-size:1px;width:44px;height:44px}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter{width:44px;height:44px}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .counter,.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .close_button{width:44px;height:44px}.iframe .portrait .box .interactive_component_close_counter_area .interactive_close_counter .counter{font-size:12px}.iframe .portrait .box .interactive_component_sharing_area{width:90%;height:44px}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing{height:100%;width:100%;display:block}.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share,.iframe .portrait .box .interactive_component_sharing_area .interactive_sharing ul .share:hover{height:44px;width:44px}}"});
define("js/fo/native/xdm_api",["require","exports"],function(require,exports){function ni(){throw new Error("Not implemented, virtual class")}exports.API_IFRAME_CARRIER="API_IFRAME_CARRIER";var XDMApiIframeCarrier=function(){function XDMApiIframeCarrier(){}return XDMApiIframeCarrier.prototype.XDMTriggerEvent=function(){ni()},XDMApiIframeCarrier.prototype.XDMOnEnded=function(){ni()},XDMApiIframeCarrier}();exports.XDMApiIframeCarrier=XDMApiIframeCarrier});
define("js/fo/native/iframe/xdm_api",["require","exports"],function(require,exports){function nil(){throw new Error("Not implemented, virtual class")}exports.API_IFRAME_MANAGER="API_IFRAME_MANAGER";var XDMApiIframeManager=function(){function XDMApiIframeManager(){}return XDMApiIframeManager.prototype.XDMSetOrientation=function(){nil()},XDMApiIframeManager.prototype.XDMPlayMaterial=function(){nil()},XDMApiIframeManager.prototype.XDMPauseMaterial=function(){nil()},XDMApiIframeManager}();exports.XDMApiIframeManager=XDMApiIframeManager});
define("js/fo/native/carrier/iframe",["require","exports","util/native/dom/element","util/context","util/str","lib/jquery","base"],function(require,exports,ayl_element,ctx,str,jquery,base){var $=jquery.jQuery,Iframe=function(_super){function Iframe(){_super.apply(this,arguments)}return __extends(Iframe,_super),Iframe.prototype.prepareHTMLElement=function(){var _this=this;_super.prototype.prepareHTMLElement.call(this),this.XDMIframeElement=$("<iframe/>",{id:"ayl_native_iframe_element_"+str.EscapeHTML(this.config.Attempt),src:str.EscapeHTML(this.config.ApiPrefix)+"/if#"+ctx.Omnitag.TagName,style:" position : fixed; top : 0; right : 0; bottom : 0; left : 0; overflow : auto; z-index : 2147483647; width : 100%; height : 100%; min-width : 100%; min-height : 100%; display : block; background-color : transparent;",frameBorder:"0"}),this.rootElement.append(this.XDMIframeElement);var isBrokenPositionFixed=eval("/*@cc_on!@*/false")&&"BackCompat"==document.compatMode&&/MSIE 6/i.test(navigator.appVersion);if(isBrokenPositionFixed){this.rootElement.css("position","absolute");var ieFixRepositionBox=function(){var cumulativeOffset=ayl_element.GetCumulativeOffset(_this.rootElement[0]),offsetLeft=cumulativeOffset[0],offsetTop=cumulativeOffset[1],scrollXY=ayl_element.GetScrollXY(),scrollLeft=scrollXY[0],scrollTop=scrollXY[1],clientWidth=document.documentElement.clientWidth||document.body.clientWidth,clientHeight=document.documentElement.clientHeight||document.body.clientHeight;_this.rootElement.css("position","absolute"),_this.rootElement.css("top",scrollTop-offsetTop+"px"),_this.rootElement.css("left",scrollLeft-offsetLeft+"px"),_this.rootElement.css("height",clientHeight+"px"),_this.rootElement.css("width",clientWidth+"px")};$(window).on("scroll",ieFixRepositionBox),$(window).on("resize",ieFixRepositionBox),this.onEnded(function(){try{$(window).off("scroll",ieFixRepositionBox),$(window).off("resize",ieFixRepositionBox)}catch(e){}finally{_this.endedCallbackExecuted()}}),ieFixRepositionBox()}},Iframe}(base.CarrierWithIframe);exports.Iframe=Iframe});
define("js/util/native/dom/element",["require","exports","util/math","lib/jquery"],function(require,exports,math,jquery){function GetCumulativeOffset(obj){for(var left,top=0;obj=obj.offsetParent;)left+=obj.offsetLeft,top+=obj.offsetTop;return[left,top]}function GetScrollXY(){var scrOfX,scrOfY=0;return"number"==typeof window.pageYOffset?(scrOfY=window.pageYOffset,scrOfX=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(scrOfY=document.body.scrollTop,scrOfX=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(scrOfY=document.documentElement.scrollTop,scrOfX=document.documentElement.scrollLeft),[scrOfX,scrOfY]}function GetClosestAncestorTag(baseElement,tagName){var baseElementTagName;for(tagName=tagName.toUpperCase();baseElement;){if(baseElementTagName=baseElement.tagName,!baseElementTagName)return null;if(baseElementTagName.toUpperCase()===tagName)return baseElement;baseElement=baseElement.parentNode}return null}function GetElementById(elementId){return document.getElementById(elementId)}function DeleteElement(el){el&&el.parentNode.removeChild(el)}function DeleteElementById(elementId){exports.DeleteElement(exports.GetElementById(elementId))}function IsVisibleElement(e,toleranceHeight,toleranceWidth){"undefined"==typeof toleranceHeight&&(toleranceHeight=.2),"undefined"==typeof toleranceWidth&&(toleranceWidth=1);var w=$(window),el=$(e),elOffset=el.offset(),elHeight=el.outerHeight(),elWidth=el.outerWidth(),oneChildrenIsVisible=!1;if(el.children().each(function(){return $(this).is(":hidden")?void 0:(oneChildrenIsVisible=!0,!1)}),el.is(":hidden")&&!oneChildrenIsVisible)return!1;var elHeightWithTolerance=elHeight*toleranceHeight,top=elOffset.top,left=elOffset.left,bottom=elOffset.top+elHeight,right=elOffset.left+elWidth,vTop=w.scrollTop(),vLeft=w.scrollLeft(),vBottom=vTop+w.height(),vRight=vLeft+w.width(),verticalVisibility=!1;if(top>=vTop&&vBottom>=top&&bottom>=vTop&&vBottom>=bottom)verticalVisibility=!0;else if(top>=vTop&&vBottom>=top){var toleranceTop=top+elHeightWithTolerance;verticalVisibility=toleranceTop>=vTop&&vBottom>=toleranceTop}else if(bottom>=vTop&&vBottom>=bottom){var toleranceBottom=bottom-elHeightWithTolerance;verticalVisibility=vBottom>=toleranceBottom&&toleranceBottom>=vTop}var horizontalVisibility=!1;if(left>=vLeft&&vRight>=left&&right>=vLeft&&vRight>=right)horizontalVisibility=!0;else if(left>=vLeft&&vRight>=left){var toleranceLeft=left+elHeightWithTolerance;horizontalVisibility=toleranceLeft>=vLeft&&vRight>=toleranceLeft}else if(right>=vLeft&&vRight>=right){var toleranceRight=right-elHeightWithTolerance;horizontalVisibility=vRight>=toleranceRight&&toleranceRight>=vLeft}return horizontalVisibility&&verticalVisibility}function UnshiftElement(element,zone){"undefined"==typeof zone&&(zone=document.getElementsByTagName("head")[0]),"undefined"==typeof zone&&(zone=document.body);var firstChild=zone.firstChild;firstChild?zone.insertBefore(element,firstChild):zone.appendChild(element)}function IsImgElementLoaded(img){return img?"undefined"==typeof img.naturalWidth||img.naturalWidth>0?!0:!1:void 0}function RemoveElementClass(el,classes){if(el&&(classes=classes.replace(/(^\s+|\s+$)/g,""),classes=classes.replace(/\s+/g,"|"),""!==classes)){var className=el.className||"";className=className.replace(RegExp("(^|\\s*)\\b("+classes+")\\b(\\s*|$)","g")," "),className=className.replace(/(^\s+|\s+$)/g,""),el.className=className}}function AddElementClass(el,classes){if(el){var classesToRemove=classes.replace(/(^\s+|\s+$)/g,"");classesToRemove=classesToRemove.replace(/\s+/g,"|");var className=el.className||"";className=className.replace(RegExp("(^|\\s*)\\b("+classesToRemove+")\\b(\\s*|$)","g")," ")+" "+classes,className=className.replace(/\s+/g," "),className=className.replace(/(^\s+|\s+$)/g,""),el.className=className}}function SwitchToClass(el,toClass){for(var fromClasses=[],_i=0;_i<arguments.length-2;_i++)fromClasses[_i]=arguments[_i+2];exports.RemoveElementClass(el,toClass+" "+fromClasses),exports.AddElementClass(el,toClass)}function GetElementsByClassName(className,rootElement){"undefined"==typeof rootElement&&(rootElement=document);for(var results=[],classes=className.split(" "),classesToCheck=[],i=0;i<classes.length;i++){var klass=classes[i];classesToCheck.push(RegExp("(^|\\s)"+klass+"(\\s|$)"))}for(var elements=rootElement.all||rootElement.all||rootElement.getElementsByTagName("*"),i=0;i<elements.length;i++){for(var element=elements[i],match=!1,j=0;j<classesToCheck.length;j++){var klassRegexp=classesToCheck[j];if(!(match=klassRegexp.test(element.className)))break}match&&results.push(element)}return results}function GetNextElement(element,excludedNodesType){"undefined"==typeof excludedNodesType&&(excludedNodesType=[3,8]);for(var nextElement,currentElement=element;currentElement.nextSibling&&!nextElement;)currentElement=currentElement.nextSibling,-1===excludedNodesType.indexOf(currentElement.nodeType)&&(nextElement=currentElement);return nextElement}function GetElementUid(el){var uid=el.getAttribute("data-ayluid");if(uid)return uid;var rnd=""+math.GetRandomNumber();return el.setAttribute("data-ayluid",rnd),rnd}function CollectAdyoulikeInputs(form){for(var params={},elements=form.getElementsByTagName("input"),i=0;i<elements.length;i++){var e=elements[i];/^(recaptcha|_ayl)_/.test(e.name)&&(params[name]=e.value)}return params}function GetStyle(el,name){return window.getComputedStyle?document.defaultView.getComputedStyle(el,null).getPropertyValue(name):el.currentStyle?el.currentStyle.getPropertyValue(name):void 0}function ExtractClickTag(){for(var urlIsValidClickTag=function(url){var DOT="(\\.|%(25)*2E)",SLASH="(/|%(25)*2F)",QMARK="(\\?|%(25)*3F)",clicktagRegexp=RegExp("(api-ayl"+DOT+"appspot"+DOT+"com|YXBpLWF5bC5hcHBzcG90LmNv|aS1heWwuYXBwc3BvdC5j|cGktYXlsLmFwcHNwb3QuY29t|"+DOT+"adyoulike"+DOT+"com|LmFkeW91bGlrZS5j|ZHlvdWxpa2UuY29t|YWR5b3VsaWtlLmNv|ads"+DOT+"bluelithium"+DOT+"com"+SLASH+"clk"+QMARK+"|::::)");return clicktagRegexp.test(url)},tags=["EMBED","PARAM","OBJECT"],i=0;i<tags.length;i++)for(var tag=tags[i],elements=document.getElementsByTagName(tag),j=0;j<elements.length;j++)for(var element=elements[j],propertiesName=["flashvars","src","value","innerHTML"],k=0;k<propertiesName.length;k++){var propertyName=propertiesName[i],url="";try{url=window.unescape(element[propertyName]||element.getAttribute(propertyName).match(/(?:^|&|&amp;|\?)click(?:tag)?=([^&"']+)/i)[1])}catch(e){}if(urlIsValidClickTag(url))return url}for(var aElements=document.getElementsByTagName("a"),i=0;i<aElements.length;i++){var url=aElements[i].href;if(urlIsValidClickTag(url))return url}if(window.ayl_patch_hg)for(var tableElements=document.getElementsByTagName("table"),i=0;i<tableElements.length;i++){var element=tableElements[i],onclickStr=""+(element.getAttribute("onlick")||element.onclick),match=onclickStr.match(/(https?:\/\/.*?horyzon-media.*?trackclic.*?['"])/);if(match)return match[1]}return""}var $=jquery.jQuery;exports.GetCumulativeOffset=GetCumulativeOffset,exports.GetScrollXY=GetScrollXY,exports.GetClosestAncestorTag=GetClosestAncestorTag,exports.GetElementById=GetElementById,exports.DeleteElement=DeleteElement,exports.DeleteElementById=DeleteElementById,exports.IsVisibleElement=IsVisibleElement,exports.UnshiftElement=UnshiftElement,exports.IsImgElementLoaded=IsImgElementLoaded,exports.RemoveElementClass=RemoveElementClass,exports.AddElementClass=AddElementClass,exports.SwitchToClass=SwitchToClass,exports.GetElementsByClassName=GetElementsByClassName,exports.GetNextElement=GetNextElement,exports.GetElementUid=GetElementUid,exports.CollectAdyoulikeInputs=CollectAdyoulikeInputs,exports.GetStyle=GetStyle,exports.IsVisible=function(){var testElement=document.createElement("div"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none",position:"absolute",left:"-1000px",top:"-1000px"};for(var style in testElementStyle)testElement.style[style]=testElementStyle[style];testElement.innerHTML='<table><tr><td style="padding:0;border:0;display:none"></td><td>t</td></tr></table>';var testElementParent=document.getElementsByTagName("body")[0];testElementParent.insertBefore(testElement,testElementParent.firstChild);var tds=testElement.getElementsByTagName("td"),isSupported=0===tds[0].offsetHeight;tds[0].style.display="",tds[1].style.display="none";var reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight;return testElement.innerHTML="",testElementParent.removeChild(testElement),testElement=null,exports.IsVisible=function(el){if(el){var width=el.offsetWidth,height=el.offsetHeight;return!(0===width&&0===height||!reliableHiddenOffsets&&"none"===(el.style.display||exports.GetStyle(el,"display")))}},exports.IsVisible.apply(null,arguments)},exports.ExtractClickTag=ExtractClickTag,exports.GetUniqueId=function(){var count=0;return exports.GetUniqueId=function(){return"ayl_"+count++ +"_"},exports.GetUniqueId()}});
define("js/util/math",["require","exports"],function(require,exports){function GetRandomNumber(){return parseInt(Math.random().toString().substr(2))}function IsNumber(obj){return obj===+obj||"[object Number]"===Object.prototype.toString.call(obj)}function IsReal(obj){return exports.IsNumber(obj)&&!isNaN(obj)&&obj!==1/0&&obj!==-1/0}exports.GetRandomNumber=GetRandomNumber,exports.IsNumber=IsNumber,exports.IsReal=IsReal});
define("js/fo/native/carrier/adreader",["require","exports","util/native/dom/element","util/context","util/str","lib/jquery","base"],function(require,exports,ayl_element,ctx,str,jquery,base){var $=jquery.jQuery,Adreader=function(_super){function Adreader(injectorHTMLElement,config,closeCallback){_super.call(this,injectorHTMLElement,config,closeCallback),this.carrierPaused=!1,this.baseElement=this.injectorElement.children().last()}return __extends(Adreader,_super),Adreader.prototype.remove=function(){var _this=this;this.rootElement.animate({"padding-bottom":0,"padding-top":0},3900,"swing",function(){_super.prototype.remove.call(_this)})},Adreader.prototype.prepareListeners=function(){var _this=this;_super.prototype.prepareListeners.call(this),$(window).scroll(function(){_this.onScroll()}),this.onEnded(function(){try{$(window).off("scroll",function(){_this.onScroll()})}catch(e){}finally{_this.endedCallbackExecuted()}})},Adreader.prototype.prepareHTMLElement=function(){_super.prototype.prepareHTMLElement.call(this),this.rootElement.attr("style","overflow: hidden; display: block; position: relative; padding-bottom: 0%; height: 0; padding-top:0px; margin: 10px 0;"),this.XDMIframeElement=$("<iframe/>",{id:"ayl_native_iframe_element_"+str.EscapeHTML(this.config.Attempt),src:str.EscapeHTML(this.config.ApiPrefix)+"/if#"+ctx.Omnitag.TagName,style:"position: absolute; top: 0; left: 0; width: 100%; height: 100%; -webkit-transition: width 0.2s linear; -moz-transition: width 0.2s linear; -o-transition: width 0.2s linear; transition: width 0.2s linear;",frameBorder:"0"}),this.rootElement.append(this.XDMIframeElement);var carrierPaddingTop=0;this.config.Shares&&(carrierPaddingTop+=30),this.rootElement.animate({"padding-bottom":"56.23%","padding-top":carrierPaddingTop+"px"},700,"swing")},Adreader.prototype.pause=function(){this.IframeManagerAPI&&(this.IframeManagerAPI.XDMPauseMaterial(),this.carrierPaused=!1)},Adreader.prototype.play=function(){this.IframeManagerAPI&&(this.IframeManagerAPI.XDMPlayMaterial(),this.carrierPaused=!0)},Adreader.prototype.onScroll=function(){ayl_element.IsVisibleElement(this.rootElement[0],.25)?this.carrierPaused||this.play():!this.carrierPaused||this.pause()},Adreader}(base.CarrierWithIframe);exports.Adreader=Adreader});
define("js/fo/native/carrier/inpreview",["require","exports","util/native/dom/element","util/context","util/str","lib/jquery","omnitag/gostructs","base"],function(require,exports,ayl_element,ctx,str,jquery,gostructs,base){var $=jquery.jQuery,Inpreview=function(_super){function Inpreview(injectorHTMLElement,config,closeCallback){_super.call(this,injectorHTMLElement,config,closeCallback);var thumbnail=this.config.Attachments.System.Get(gostructs.AttachmentIdSpecialKind.NATIVETHUMBNAIL,null);if(!thumbnail)throw new Error("Native Thumbnail attachment not found.");var thumbnailUrl=str.EscapeHTML(this.config.ApiPrefix)+"/nativeImage?key="+str.EscapeHTML(thumbnail.BlobReference.Uid);if(this.baseElement=this.injectorElement.find("img[src^='"+thumbnailUrl+"'], [style*='"+thumbnailUrl+"']"),0==this.baseElement.length)throw new Error("Inpreview base picture not found.")}return __extends(Inpreview,_super),Inpreview.prototype.prepareListeners=function(){var _this=this;_super.prototype.prepareListeners.call(this),$(window).on("resize",function(){_this.onResize()}),$(window).scroll(function(){_this.onScroll()}),this.onEnded(function(){try{$(window).off("scroll",function(){_this.onScroll()})}catch(e){}finally{_this.endedCallbackExecuted()}})},Inpreview.prototype.prepareHTMLElement=function(){_super.prototype.prepareHTMLElement.call(this);var cssAttr={"z-index":10,position:"absolute","background-color":this.baseElement.css("background-color"),height:this.baseElement.attr("height")?this.baseElement.attr("height")+"px":this.baseElement.css("height"),width:this.baseElement.attr("width")?this.baseElement.attr("width")+"px":this.baseElement.css("width")};"absolute"==this.baseElement.css("position")?(cssAttr.top=this.baseElement.css("top"),cssAttr.right=this.baseElement.css("right"),cssAttr.bottom=this.baseElement.css("bottom"),cssAttr.left=this.baseElement.css("left")):(cssAttr.top=this.baseElement[0].offsetTop-this.baseElement[0].clientTop,cssAttr.left=this.baseElement[0].offsetLeft-this.baseElement[0].clientLeft),cssAttr["border-top"]=this.baseElement.css("border-top"),cssAttr["border-right"]=this.baseElement.css("border-right"),cssAttr["border-bottom"]=this.baseElement.css("border-bottom"),cssAttr["border-left"]=this.baseElement.css("border-left"),cssAttr["margin-top"]=this.baseElement.css("margin-top"),cssAttr["margin-right"]=this.baseElement.css("margin-right"),cssAttr["margin-bottom"]=this.baseElement.css("margin-bottom"),cssAttr["margin-left"]=this.baseElement.css("margin-left"),cssAttr["padding-top"]=this.baseElement.css("padding-top"),cssAttr["padding-right"]=this.baseElement.css("padding-right"),cssAttr["padding-bottom"]=this.baseElement.css("padding-bottom"),cssAttr["padding-left"]=this.baseElement.css("padding-left"),this.rootElement.css(cssAttr),this.XDMIframeElement=$("<iframe/>",{id:"ayl_native_iframe_element_"+str.EscapeHTML(this.config.Attempt),src:str.EscapeHTML(this.config.ApiPrefix)+"/if#"+ctx.Omnitag.TagName,style:"width : 100%; height : 100%; min-width : 100%; min-height : 100%; display : block; background-color : transparent;",frameBorder:"0"}),this.rootElement.append(this.XDMIframeElement)},Inpreview.prototype.insertHTMLElement=function(){this.baseElement.before(this.rootElement)},Inpreview.prototype.pause=function(){this.IframeManagerAPI&&(this.IframeManagerAPI.XDMPauseMaterial(),this.carrierPaused=!1)},Inpreview.prototype.play=function(){this.IframeManagerAPI&&(this.IframeManagerAPI.XDMPlayMaterial(),this.carrierPaused=!0)},Inpreview.prototype.onScroll=function(){ayl_element.IsVisibleElement(this.rootElement[0],.25)?this.carrierPaused||this.play():!this.carrierPaused||this.pause()},Inpreview.prototype.onResize=function(){this.rootElement.width(this.baseElement.width()),this.rootElement.height(this.baseElement.height())},Inpreview}(base.CarrierWithIframe);exports.Inpreview=Inpreview});
define("js/fo/native/carrier/sponsorpost",["require","exports","util/informer","util/redir","util/str","util/time","lib/jquery","omnitag/gostructs","base"],function(require,exports,informer,redir,str,time,jquery,gostructs,base){var $=jquery.jQuery,Sponsorpost=function(_super){function Sponsorpost(injectorHTMLElement,config,closeCallback){_super.call(this,injectorHTMLElement,config,closeCallback),this.videoTriggerTimePositions=[0,.25,.5,.75,.96],this.youtubeVideoCounter=0,this.youtubeAPIReadyCallbacks=[],this.links=this.baseElement.find(".ayl_postsponso_link"),this.videos=this.baseElement.find(".ayl_postsponso_player_video")}return __extends(Sponsorpost,_super),Sponsorpost.prototype.prepareListeners=function(){var _this=this;_super.prototype.prepareListeners.call(this),this.links.click(function(eventObject){eventObject.preventDefault(),window.open(redir.RedirUrl(_this.config,$(eventObject.target).attr("href")),"_blank")}),this.videos.each(function(index,elem){$(elem).hasClass("ayl_postsponso_player_youtube")?($(elem).attr("id","ayl_postsponso_player_youtube_"+_this.youtubeVideoCounter++),_this.youtubeAPIReady?_this.addYoutubeVideoListenner($(elem)[0]):(_this.youtubeAPIReadyCallbacks.push(function(){_this.addYoutubeVideoListenner($(elem)[0])}),_this.initYoutubeVideoAPI())):informer.Snitch(informer.ERROR,"Unknown player kind found in carrier Sponsorpost")}),$(window).bind("beforeunload",function(){var timespentDuration=Date.now()-_this.timespentStartTimestamp,params={url:str.EscapeHTML(_this.config.ApiPrefix)+"/timespent?attempt="+str.EscapeHTML(_this.config.Attempt)+"&campaign="+str.EscapeHTML(_this.config.Campaign)+"&duration="+timespentDuration,type:"GET",cache:!1,global:!1,xhrFields:{withCredentials:!0}};$.ajax(params)})},Sponsorpost.prototype.onVideoProgress=function(currentTime,duration){for(var currentProgress=currentTime/duration,i=0;i<this.videoTriggerTimePositions.length;i++){var position=this.videoTriggerTimePositions[i];if(currentProgress>=position)switch(this.videoTriggerTimePositions.splice(this.videoTriggerTimePositions.indexOf(position),1),position){case 0:this.triggerEvent(gostructs.EventKind.VIDEO000);break;case.25:this.triggerEvent(gostructs.EventKind.VIDEO025);break;case.5:this.triggerEvent(gostructs.EventKind.VIDEO050);break;case.75:this.triggerEvent(gostructs.EventKind.VIDEO075);break;case.96:this.triggerEvent(gostructs.EventKind.VIDEO100)}}},Sponsorpost.prototype.initYoutubeVideoAPI=function(){var _this=this;if(!this.youtubeAPILoaded){this.youtubeAPILoaded=!0;var onAPIReadyCallback=function(){if(window.YT.loaded){_this.youtubeAPIReady=!0;for(var i=0;i<_this.youtubeAPIReadyCallbacks.length;i++){var callback=_this.youtubeAPIReadyCallbacks[i];try{callback()}catch(e){}}}else setTimeout(onAPIReadyCallback,250)};if(window.YT)onAPIReadyCallback();else{var script=document.createElement("script");script.addEventListener("load",function(){onAPIReadyCallback()},!1),script.src="https://www.youtube.com/iframe_api",document.head.appendChild(script)}}},Sponsorpost.prototype.addYoutubeVideoListenner=function(video){var player,_this=this,youtubeProgress=function(){var duration=player.getDuration?player.getDuration():0;if(duration){var currentTime=player.getCurrentTime?player.getCurrentTime():0;_this.onVideoProgress(currentTime,duration)}},videoStateUpdater=new time.Timer({count:0,delay:250,callback:function(){youtubeProgress()}});player=new window.YT.Player(video.id,{events:{onReady:function(){},onStateChange:function(event){switch(event.data){case 1:videoStateUpdater.Start();break;case 0:case 2:videoStateUpdater.Stop()}}}})},Sponsorpost.prototype.Load=function(){this.timespentStartTimestamp=Date.now(),_super.prototype.Load.call(this)},Sponsorpost}(base.Carrier);exports.Sponsorpost=Sponsorpost});
define("js/fo/native/integration/loader",["require","exports","omnitag/gostructs","injector","comment","none"],function(require,exports,gostructs,injector,comment,none){function Load(integrationKind,config,loadedCallback,uiTriggerCallback){var integration;switch(integrationKind){case gostructs.NativeIntegrationKind.NONE:integration=new none.None(config,loadedCallback,uiTriggerCallback);break;case gostructs.NativeIntegrationKind.INJECTOR:integration=new injector.Injector(config,loadedCallback,uiTriggerCallback);break;case gostructs.NativeIntegrationKind.COMMENT:integration=new comment.Comment(config,loadedCallback,uiTriggerCallback);break;default:throw new Error("Unknown : "+integrationKind)}integration.Load()}exports.Load=Load});
define("js/fo/native/integration/injector",["require","exports","util/str","lib/jquery","lib/strftime","nativestructs","base"],function(require,exports,str,jquery,strftime,nativestructs,base){var $=jquery.jQuery,Injector=function(_super){function Injector(){_super.apply(this,arguments)}return __extends(Injector,_super),Injector.prototype.execute=function(){var _this=this,injectorLib={JQuery:$,Spinner:null,Parser:null,Strftime:strftime.Strftime},injectorUITrigger=function(nativeUITriggerKind){_this.uiTrigger(nativeUITriggerKind)},injectorCommand=function(commandKind){if(!_this.loaded){switch(commandKind){case nativestructs.CommandKind.DECLARE_SUCCESS:for(var allNodes,node,beaconContent="ayl_template_beacon_uid"+str.EscapeHTML(_this.config.Attempt),allElements=document.getElementsByTagName("*"),i=0,ilen=allElements.length;ilen>i;i++){allNodes=allElements[i].childNodes;for(var j=0,jlen=allNodes.length;jlen>j;j++)if(node=allNodes[j],8==node.nodeType){var isCandidateComment=!1;try{isCandidateComment=!!(node.data&&node.data.indexOf(beaconContent)>=0)}catch(e){}if(isCandidateComment){for(var n=node.nextSibling;n&&1!=n.nodeType;)n=n.nextSibling;if(!n)throw new Error("Unable to find injected element for attempt "+str.EscapeHTML(_this.config.Attempt));_this.mainContentElement=n,_this.injectedNodes=[n];break}}}break;case nativestructs.CommandKind.DECLARE_ERROR:break;default:throw new Error("CommandKind not implemented: "+commandKind)}_this.AfterLoad()}},injectorEnv={Lib:injectorLib,Config:this.config,UITrigger:injectorUITrigger,Command:injectorCommand};if((""+window.location).match(/^[^:]+:\/\/([^\/]+\.)?omnitag(js|sb)\.com\.?(\/|$)/))throw new Error("Error, can't execute injector in omnitag domain");if((""+window.location).match(/^[^:]+:\/\/((?!demo|native\-generator|public|www)[^\/]+\.)?adyoulike\.(co\.)?[^.]+\.?(\/|$)/))throw new Error("Error, can't execute injector in adyoulike domain");var injector=new Function(str.Untaint(this.config.Injector));injector.call(injectorEnv)},Injector}(base.Integration);exports.Injector=Injector});
define("js/lib/strftime",["require","exports"],function(require,exports){function words(s){return(s||"").split(" ")}function Strftime(fmt,d,locale){return _strftime(fmt,d,locale)}function StrftimeTZ(fmt,d,locale,timezone){return _strftime(fmt,d,locale,{timezone:timezone})}function StrftimeUTC(fmt,d,locale){return _strftime(fmt,d,locale,{utc:!0})}function LocalizedStrftime(locale){return function(fmt,d,options){return _strftime(fmt,d,locale,options)}}function _strftime(fmt,d,locale,options){options=options||{},d=d||new Date,locale=locale||DefaultLocale,locale.formats=locale.formats||{};var timestamp=d.getTime();return(options.utc||"number"==typeof options.timezone)&&(d=dateToUTC(d)),"number"==typeof options.timezone&&(d=new Date(d.getTime()+6e4*options.timezone)),fmt.replace(/%([-_0]?.)/g,function(_,c){var mod,padding;if(2==c.length){if(mod=c[0],"-"==mod)padding="";else if("_"==mod)padding=" ";else{if("0"!=mod)return _;padding="0"}c=c[1]}switch(c){case"A":return locale.days[d.getDay()];case"a":return locale.shortDays[d.getDay()];case"B":return locale.months[d.getMonth()];case"b":return locale.shortMonths[d.getMonth()];case"C":return pad(Math.floor(d.getFullYear()/100),padding);case"D":var format=locale.formats.D||"%m/%d/%y";return _strftime(format,d,locale);case"d":return pad(d.getDate(),padding);case"e":return d.getDate();case"F":return _strftime(locale.formats.F||"%Y-%m-%d",d,locale);case"H":return pad(d.getHours(),padding);case"h":return locale.shortMonths[d.getMonth()];case"I":return pad(hours12(d),padding);case"j":var jd=new Date(d.getFullYear(),0,1),day=Math.ceil((d.getTime()-jd.getTime())/864e5);return pad(day,"3");case"k":return pad(d.getHours(),null==padding?" ":padding);case"L":return pad(Math.floor(timestamp%1e3),"3");case"l":return pad(hours12(d),null==padding?" ":padding);case"M":return pad(d.getMinutes(),padding);case"m":return pad(d.getMonth()+1,padding);case"n":return"\n";case"o":return String(d.getDate())+ordinal(d.getDate());case"P":return d.getHours()<12?locale.am:locale.pm;case"p":return d.getHours()<12?locale.AM:locale.PM;case"R":return _strftime(locale.formats.R||"%H:%M",d,locale);case"r":return _strftime(locale.formats.r||"%I:%M:%S %p",d,locale);case"S":return pad(d.getSeconds(),padding);case"s":return Math.floor(timestamp/1e3);case"T":return _strftime(locale.formats.T||"%H:%M:%S",d,locale);case"t":return"	";case"U":return pad(weekNumber(d,"sunday"),padding);case"u":var day=d.getDay();return 0==day?7:day;case"v":var format=locale.formats.v||"%e-%b-%Y";return _strftime(format,d,locale);case"W":return pad(weekNumber(d,"monday"),padding);case"w":return d.getDay();case"Y":return d.getFullYear();case"y":var y=d.getFullYear()+"";return y.slice(y.length-2);case"Z":if(options.utc)return"GMT";var tz=d.toString().match(/\((\w+)\)/);return tz&&tz[1]||"";case"z":if(options.utc)return"+0000";var off="number"==typeof options.timezone?options.timezone:-d.getTimezoneOffset();return(0>off?"-":"+")+pad(Math.abs(off/60))+pad(off%60);default:return c}})}function dateToUTC(d){var msDelta=6e4*(d.getTimezoneOffset()||0);return new Date(d.getTime()+msDelta)}function pad(n,padding,length){"undefined"==typeof padding&&(padding="0"),"undefined"==typeof length&&(length=2);var s=String(n);if(padding)for(;s.length<length;)s=padding+s;return s}function hours12(d){var hour=d.getHours();return 0==hour?hour=12:hour>12&&(hour-=12),hour}function ordinal(n){var i=n%10,ii=n%100;if(ii>=11&&13>=ii||0===i||i>=4)return"th";switch(i){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function weekNumber(d,firstWeekday){firstWeekday=firstWeekday||"sunday";var wday=d.getDay();"monday"==firstWeekday&&(0==wday?wday=6:wday--);var firstDayOfYear=new Date(d.getFullYear(),0,1),yday=(d.getTime()-firstDayOfYear.getTime())/864e5,weekNum=(yday+7-wday)/7;return Math.floor(weekNum)}var DefaultLocale={days:words("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:words("Sun Mon Tue Wed Thu Fri Sat"),months:words("January February March April May June July August September October November December"),shortMonths:words("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};exports.Strftime=Strftime,exports.StrftimeTZ=StrftimeTZ,exports.StrftimeUTC=StrftimeUTC,exports.LocalizedStrftime=LocalizedStrftime});
define("js/fo/native/integration/base",["require","exports"],function(require,exports){var Integration=function(){function Integration(config,afterLoadCallback,uiTriggerCallback){this.config=config,this.afterLoadCallback=afterLoadCallback,this.uiTriggerCallback=uiTriggerCallback,this.injectedNodes=[],this.loaded=!1}return Integration.prototype.execute=function(){},Integration.prototype.uiTrigger=function(nativeUITriggerKind){this.uiTriggerCallback(nativeUITriggerKind)},Integration.prototype.Load=function(){this.execute()},Integration.prototype.AfterLoad=function(){this.loaded=!0,this.afterLoadCallback(this.mainContentElement,this.injectedNodes)},Integration}();exports.Integration=Integration});
define("js/fo/native/integration/comment",["require","exports","util/str","lib/jquery","base","templating"],function(require,exports,str,jquery,base,templating){var $=jquery.jQuery,Comment=function(_super){function Comment(){_super.apply(this,arguments)}return __extends(Comment,_super),Comment.prototype.execute=function(){for(var allNodes,node,nodesToInject=[],commentRE=new RegExp("^\\s*@(?:(Title|Content|Author|AuthorLogo|Datetime)|AYL:(?:"+str.EscapeHTML(this.config.Placement).replace(/[^a-fA-F0-9]/g,"")+":)?([a-z0-9_]+)(?:\\((.*)\\))?)\\s*$","i"),allElements=document.getElementsByTagName("*"),i=0,ilen=allElements.length;ilen>i;i++){allNodes=allElements[i].childNodes;for(var j=0,jlen=allNodes.length;jlen>j;j++)if(node=allNodes[j],8==node.nodeType){var isCandidateComment=!1;try{isCandidateComment=!!(node.data&&node.data.indexOf("@")>=0)}catch(e){}if(isCandidateComment){var nodeContent=node.data;if(nodeContent){var match=nodeContent.match(commentRE);if(match){var params,funcName=(match[2]||match[1]).toUpperCase();if(match[4]){try{params=JSON.parse("["+match[3]+"]")}catch(e){continue}params.unshift(this.config)}else params=[this.config];var templateFunction=templating.Templates[funcName];if(templateFunction){var newNodes=$.parseHTML(templateFunction.apply(null,params));newNodes&&(nodesToInject.push({after:node,nodes:newNodes}),"CONTENT"==funcName&&(this.mainContentElement=newNodes[0]))}}}}}}this.injectedNodes=[];for(var i=0;i<nodesToInject.length;i++)$(nodesToInject[i].nodes).insertAfter(nodesToInject[i].after),this.injectedNodes.push.apply(this.injectedNodes,newNodes);this.AfterLoad()},Comment}(base.Integration);exports.Comment=Comment});
define("js/fo/native/integration/templating",["require","exports","util/attachments","util/i99n","util/str","lib/strftime","omnitag/gostructs"],function(require,exports,attachments,i99n,str,strftime,gostructs){function execBBCode(config,text){return text=text.replace(/^\s*(([^\[]|\[\[).*)(\n\n+|$)/gm,"<p>$1</p>\n"),text=text.replace(/\[\[|\]\]|\[([A-Z]+)\(([^)]*)\)\]/g,function(match,funcName,paramsJSON){switch(match){case"[[":return"[";case"]]":return"]";default:if(Templates.hasOwnProperty(funcName))try{var params=JSON.parse("["+paramsJSON+"]");return params.unshift(config),Templates[funcName].apply(null,params)}catch(e){}return""}})}var Templates=function(){function Templates(){}return Templates.TITLE=function(config){return str.EscapeHTML(i99n.T({lang:config.Lang,kind:gostructs.TranslationKind.NATIVE_TITLE,source:config.Translations,defaultValue:""}))},Templates.CONTENT=function(config){var langTrads=config.Translations.Get(config.Lang,null);if(langTrads){var t=langTrads.Get(gostructs.TranslationKind.NATIVE_POSTCONTENT,null);if(t)return"<div>"+execBBCode(config,""+str.Untaint(t.Singular))+"</div>"}return""},Templates.AUTHOR=function(config){var langTrads=config.Translations.Get(config.Lang,null);if(langTrads){var t=langTrads.Get(gostructs.TranslationKind.NATIVE_SPONSOR,null);if(t)return"<div>"+str.EscapeHTML(t.Singular)+"</div>"}return""},Templates.AUTHORLOGO=function(){return""},Templates.DATETIME=function(config,format){var lang=config.Lang.toString();format||(format=i99n.TIME_FORMATS[lang].long||i99n.TIME_FORMATS.EN.long);var date=new Date;return date.getHours()<10&&date.setDate(date.getDate()-1),date.setHours(10),date.setMinutes(0),date.setSeconds(0),"<div>"+strftime.Strftime(format,date,i99n.TIME_LOCALES[lang]||i99n.TIME_LOCALES.EN)+"</div>"},Templates.LINK=function(config,args){"undefined"==typeof args&&(args={});var href=args.href||"",content=args.content||"",title=args.title||"";return'<a target="_blank" class="ayl_postsponso_link" href="'+str.EscapeHTML(href)+'" title="'+str.EscapeHTML(title)+'">'+str.EscapeHTML(content)+"</a>"},Templates.VIDEO=function(config,args){"undefined"==typeof args&&(args={});var kind=args.kind||"youtube";switch(kind){case"youtube":var url=args.url+"?enablejsapi=1&origin="+document.location.protocol+"//"+document.location.hostname;return'<iframe class="ayl_postsponso_player_youtube ayl_postsponso_player_video" width="100%" height="390" frameborder="0" src="'+str.EscapeHTML(url)+'"></iframe>';default:return""}},Templates.IMAGE=function(config,args){"undefined"==typeof args&&(args={});var name=args.name||"",alt=args.alt||"",width=args.width,height=args.height,link=args.link,attachUrl=attachments.GetAttachmentUrlFromString(config,name);if(""!==attachUrl){var img='<img class="ayl_postsponso_image" alt="'+str.EscapeHTML(alt)+'" width="'+str.EscapeHTML(""+width)+'" height="'+str.EscapeHTML(""+height)+'" src="'+attachUrl+'" />';return link?'<a target="_blank" class="ayl_postsponso_image_link" href="'+str.EscapeHTML(link)+'">'+img+"</a>":img}return""},Templates.ARTICLES=function(config,args){"undefined"==typeof args&&(args={});var articlesThumbnails="";if(args.thumbnailsConfig){articlesThumbnails='<div class="ayl_postsponso_articles_thumbnails">';for(var i=0;i<args.thumbnails.length;i++){var img=args.thumbnails[i],attachUrl=attachments.GetAttachmentUrlFromString(config,img.name);if(""!==attachUrl){var imgTag='<img class="ayl_postsponso_image" width="'+str.EscapeHTML(""+args.thumbnailsConfig.width)+'" height="'+str.EscapeHTML(""+args.thumbnailsConfig.height)+'" src="'+attachUrl+'" />';img.link&&(imgTag='<a target="_blank" class="ayl_postsponso_image_link" href="'+str.EscapeHTML(img.link)+'">'+imgTag+"</a>"),articlesThumbnails+=imgTag}}articlesThumbnails+="</div>"}var articlesTitle="";if(args.titleConfig){var title='<span class="ayl_postsponso_articles_title">'+args.titleConfig.title+"</span>",beforeTitle="";args.titleConfig.beforeTitle&&(beforeTitle='<span class="ayl_postsponso_articles_before_title">'+args.titleConfig.beforeTitle+"</span> "),args.titleConfig.link&&(title='<a target="_blank" class="ayl_postsponso_articles_link_title" href="'+args.titleConfig.link+'">'+title+"</a>"),articlesTitle='<div class="ayl_postsponso_articles_title">'+beforeTitle+title+"</div>"}return'<div class="ayl_postsponso_articles">'+articlesTitle+articlesThumbnails+"</div>"},Templates.IFRAME=function(config,args){return'<iframe frameborder="0" class="ayl_postsponso_iframe" src="'+str.EscapeHTML(args.url)+'" width="'+args.width+'" height="'+args.height+'"></iframe>'},Templates.SHARES=function(config){var td,a,img,shareKind,windowTarget,windowParams,windowURL,attempt=str.EscapeHTML(config.Attempt),campaign=str.EscapeHTML(config.Campaign),preffix="share_"+attempt,tds=[],windowa=document.createElement("a"),availableShareKind=[gostructs.ShareKind.FACEBOOK,gostructs.ShareKind.TWITTER,gostructs.ShareKind.GOOGLE_PLUS,gostructs.ShareKind.PINTEREST,gostructs.ShareKind.LINKEDIN];windowa.href=str.Untaint(config.ApiPrefix)+"/share?attempt="+attempt+"&campaign="+campaign,windowURL=windowa.protocol+"//"+[window.location.hostname.replace(/\./g,"-")].concat(windowa.hostname.split(".").splice(1)).join(".")+windowa.pathname+windowa.search;for(var i=0;i<availableShareKind.length;i++){switch(shareKind=availableShareKind[i],td=document.createElement("td"),td.style.cssText="vertical-align:middle;background:transparent;text-align:left;border:0px;margin:0px;width:48px;max-width: none;",img=document.createElement("img"),img.src=str.EscapeHTML(config.StaticPrefix)+"/native/images/"+shareKind.toString().toLowerCase()+"_on.png",img.style.cssText="border:0px; padding:0; margin:0; background:transparent; box-shadow:none;width:48px;max-width:none;",a=document.createElement("a"),a.style.cssText="display:block;",shareKind){case gostructs.ShareKind.TWITTER:windowParams="height=440,width=620,scrollbars=yes";break;case gostructs.ShareKind.FACEBOOK:windowParams="height=600,width=900,scrollbars=yes";break;case gostructs.ShareKind.GOOGLE_PLUS:windowParams="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"}windowTarget=shareKind.toString().toLowerCase(),a.setAttribute("onclick",'window.open("'+windowURL+"&kind="+shareKind.toString()+'&data=article", "'+windowTarget+'", "'+windowParams+'"); return false;'),a.target="_blank",a.href="#",a.className=preffix+"_"+shareKind.toString().toLowerCase(),a.appendChild(img),td.appendChild(a),tds.push(td)}var tr=document.createElement("tr");tr.style.cssText="border:0; padding:0; margin:0; background:transparent;border-spacing:0px;";for(var i=0;i<tds.length;i++)tr.appendChild(tds[i]);var tbody=document.createElement("tbody");tbody.appendChild(tr),tbody.style.cssText="background:transparent";var t=document.createElement("table");return t.className=preffix,t.style.cssText="border:0px; box-shadow:none;border-spacing:0px;background:transparent;border-collapse:collapse;padding:0px;margin:10px 0px;font-size:11px;line-height:1;width:50px;",t.appendChild(tbody),t.outerHTML},Templates}();exports.Templates=Templates});
define("js/fo/native/integration/none",["require","exports","base"],function(require,exports,base){var None=function(_super){function None(){_super.apply(this,arguments)}return __extends(None,_super),None.prototype.execute=function(){this.mainContentElement=document.body,this.injectedNodes=[],this.AfterLoad()},None}(base.Integration);exports.None=None});
define("js/lib/countdown",["require","exports","./jquery","./countdown/countdown_css","./countdown/countdown_html"],function(require,exports,jquery,countdown_css,countdown_html){var $=jquery.jQuery,Countdown=function(){function Countdown(elContainer,uid,count,speed,withExpiryOnClick,expiryCallback){this.elContainer=elContainer,this.uid=uid,this.speed=speed,this.withExpiryOnClick=withExpiryOnClick,this.expiryCallback=expiryCallback,this.count=100*count}return Countdown.prototype.insert=function(){var _this=this;this.inserted=!0,this.current_count=this.count;var v={Uid:this.uid,Count:this.Count(),Speed:this.speed},cssText=countdown_css.Template(v),cssTag=$('<style type="text/css"></script>')[0];if(cssTag.styleSheet)cssTag.styleSheet.cssText=cssText;else{var textNode=document.createTextNode(cssText);cssTag.appendChild(textNode)}this.elCSS=$(cssTag).prependTo(this.elContainer);var tpl=countdown_html.Template(v);this.elHtml=$(tpl).prependTo(this.elContainer),"relative"!=this.elContainer.css("position")&&(this.elHtml.css("top",this.elContainer.position().top),this.elHtml.css("left",this.elContainer.position().left),this.elHtml.css("width",this.elContainer.outerWidth(!0)),this.elHtml.css("height",this.elContainer.outerHeight(!0)),"aboslute"==this.elContainer.css("position")&&(this.elHtml.css("top",0),this.elHtml.css("left",0))),this.elHtml.find(".ayl_native_count").css("font-size",this.elHtml.find(".ayl_native_count").width()/2),this.withExpiryOnClick&&this.elHtml.click(function(){_this.expiry()})},Countdown.prototype.expiry=function(){this.Destroy(),this.expiryCallback()},Countdown.prototype.Reset=function(){this.current_count=this.count},Countdown.prototype.Start=function(){var _this=this;this.interval=setInterval(function(){_this.current_count-=1,_this.elHtml.find(".ayl_native_count").html(_this.Count().toString()),_this.current_count<=0&&_this.expiry()},10*this.speed),this.elHtml.removeClass("ayl_native_animation_off"),this.started=!0,this.paused=!1},Countdown.prototype.Pause=function(){this.IsStarted()&&(clearInterval(this.interval),this.elHtml.addClass("ayl_native_animation_off"),this.started=!1,this.paused=!0)},Countdown.prototype.Display=function(){this.inserted||this.insert(),this.elHtml.show(),this.displayed=!0},Countdown.prototype.Hide=function(){this.displayed&&(this.elHtml.hide(),this.displayed=!1)},Countdown.prototype.Destroy=function(){this.elHtml.remove(),this.elCSS.remove(),clearInterval(this.interval),this.displayed=!1,this.started=!1,this.paused=!1,this.inserted=!1},Countdown.prototype.IsStarted=function(){return this.started},Countdown.prototype.IsPaused=function(){return this.paused},Countdown.prototype.IsDisplayed=function(){return this.displayed},Countdown.prototype.IsDisplayable=function(){var ratioHeight=.1*this.elContainer.outerWidth(!0);return 0==ratioHeight||ratioHeight>this.elContainer.outerHeight(!0)?!1:!0},Countdown.prototype.Count=function(){return parseInt((this.current_count/100).toString().split(".")[0])+1},Countdown}();exports.Countdown=Countdown});
define("js/lib/countdown/countdown_css",["require","exports","util/str"],function(require,exports,_tw_str){function _tw_expr(s){return _tw_str.IsTainted(s)&&(s=_tw_str.Untaint(s)),_tw_str.EscapeHTML(""+s)}function Template(locals){function _out(s){_result.push(s)}locals||(locals={});var _result=[];_out("\n");var v=locals;return _out("\n#countdown"+_tw_expr(v.Uid)+"{}\n#countdown"+_tw_expr(v.Uid)+".ayl_native_countdown_container{\n background-color: rgba(0, 0, 0, 0.60);\n width:100%;\n height:100%;\n z-index:1000;\n position:absolute;\n top:0;\n left:0;\n margin:0;\n padding:0;\n}\n#countdown"+_tw_expr(v.Uid)+" .ayl_native_countdown{\n position: absolute;\n width: 10%;\n top: 50%;\n left: 50%;\n background-color: transparent;\n -webkit-transform: translate(-50%, -50%);\n -ms-transform: translate(-50%, -50%);\n margin:0;\n padding:0;\n}\n#countdown"+_tw_expr(v.Uid)+' .ayl_native_countdown:before{\n content: "";\n display: block;\n padding-top: 100%;\n}\n#countdown'+_tw_expr(v.Uid)+" .ayl_native_loader{\n position: absolute;\n width: auto;\n min-height: 100%;\n height: 100%;\n border-radius: 300px;\n background-color: rgba(66, 198, 235, 0.55);\n text-align: center;\n font-family: Arial;\n font-weight: bold;\n font-size: 90%;\n color: #FFFFFF;\n display: block;\n left: 0;\n bottom: 0;\n right: 0;\n margin: 0;\n padding: 0;\n}\n#countdown"+_tw_expr(v.Uid)+' .ayl_native_loader:after{\n content: "";\n position: absolute;\n top: 50%;\n right: 50%;\n border-bottom: 3px solid #246f81;\n border-left: 3px solid #246f81;\n border-radius: 0 0px 0px 50px;\n width: 50%;\n height: 50%;\n background-color: transparent;\n -webkit-transform-origin: 100% 0%;\n transform-origin: 100% 0%;\n -webkit-animation: loader'+_tw_expr(v.Uid)+" "+_tw_expr(v.Speed)+"s linear infinite;\n animation: loader"+_tw_expr(v.Uid)+" "+_tw_expr(v.Speed)+"s linear infinite;\n}\n#countdown"+_tw_expr(v.Uid)+'.ayl_native_animation_off .ayl_native_loader:after{\n content: "";\n position: absolute;\n top: 50%;\n right: 50%;\n border-bottom: 3px solid #246f81;\n border-left: 3px solid #246f81;\n border-radius: 0 0px 0px 50px;\n width: 50%;\n height: 50%;\n background-color: transparent;\n -webkit-transform-origin: 100% 0%;\n transform-origin: 100% 0%;\n -webkit-animation-play-state: paused;\n animation-play-state: paused;\n}\n#countdown'+_tw_expr(v.Uid)+" .ayl_native_loader .ayl_native_content{\n display: table;\n vertical-align: middle;\n height: 100%;\n width: 100%;\n margin: 0;\n padding: 0;\n}\n#countdown"+_tw_expr(v.Uid)+" .ayl_native_loader .ayl_native_content span{\n display: table-cell;\n vertical-align: middle;\n text-align: center;\n float:none;\n}\n@-webkit-keyframes loader"+_tw_expr(v.Uid)+"{\n 0%{-webkit-transform:rotate(0deg);}\n 100%{-webkit-transform:rotate(360deg);}\n}\n@keyframes loader"+_tw_expr(v.Uid)+"{\n 0%{transform:rotate(0deg);}\n 100%{transform:rotate(360deg);}\n}\n"),_result.join("")}exports.Template=Template});
define("js/lib/countdown/countdown_html",["require","exports","util/str"],function(require,exports,_tw_str){function _tw_expr(s){return _tw_str.IsTainted(s)&&(s=_tw_str.Untaint(s)),_tw_str.EscapeHTML(""+s)}function Template(locals){function _out(s){_result.push(s)}locals||(locals={});var _result=[];_out("\n");var v=locals;return _out('\n<div id="countdown'+_tw_expr(v.Uid)+'" class="ayl_native_countdown_container">\n <div class="ayl_native_countdown">\n <div class="ayl_native_loader">\n <div class="ayl_native_content">\n <span class="ayl_native_count">\n '+_tw_expr(v.Count)+"\n </span>\n </div>\n </div>\n </div>\n</div>\n"),_result.join("")}exports.Template=Template});
R("js/fo/omnitag/omnitag").Main();
})();
//# sourceMappingURL=omnitag.js.map